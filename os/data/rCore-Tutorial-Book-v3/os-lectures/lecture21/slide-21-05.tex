\input{../preamble}

%----------------------------------------------------------------------------------------
% TITLE PAGE
%----------------------------------------------------------------------------------------

\title[第21讲]{第二十一讲 ：分布式系统} % The short title appears at the bottom of every slide, the full title is only on the title page
\subtitle{第5节：LegoOS}
\author{向勇、陈渝、李国良} % Your name
\institute[清华大学] % Your institution as it will appear on the bottom of every slide, may be shorthand to save space
{
    清华大学计算机系 \\ % Your institution for the title page
    \medskip
    \textit{xyong,yuchen,liguoliang@tsinghua.edu.cn} % Your email address
}
\date{\today} % Date, can be changed to a custom date

\begin{document}
    
\begin{frame}
    \titlepage % Print the title page as the first slide
%\end{frame}

%----------------------------------------------
% \begin{frame}
%    \frametitle{提纲} % Table of contents slide, comment this block out to remove it
%    \tableofcontents % Throughout your presentation, if you choose to use \section{} and \subsection{} commands, these will automatically be printed on this slide as an overview of your presentation
    
    %% itemize
    Ref:
        \begin{itemize}
            \item \href{https://www.usenix.org/system/files/osdi18-shan.pdf}{Paper: LegoOS} % : A Disseminated, Distributed OS for Hardware Resource Disaggregation
            \item \href{https://www.usenix.org/sites/default/files/conference/protected-files/osdi18_slides_shan.pdf}{Slides: LegoOS} % : A Disseminated, Distributed OS for Hardware Resource Disaggregation
        \end{itemize}
    
\end{frame}
%----------------------------------------------
%%  PRESENTATION SLIDES
%----------------------------------------------
\section{第5节：LegoOS} % Sections can be created in order to organize your presentation into discrete blocks, all sections and subsections are automatically printed in the table of contents as an overview of the talk
%----------------------------------------------
% \subsection{LegoOS} % A subsection can be created just before a set of slides with a common theme to further break down your presentation into chunks
%----------------------------------------------
\begin{frame}[fragile]
    \frametitle{分布式I/O}
    分布式I/O计算逐渐浮现在大型数据中心和移动终端领域。
  
   
    
    %    \framesubtitle{xxxx}
    %% figure
        \begin{figure}
        \includegraphics[width=0.9\linewidth]{figs/disio-current.png}
      %  \caption{xxxx}
        \end{figure}
\end{frame}

%----------------------------------------------
\begin{frame}[fragile]
    \frametitle{分布式I/O}
    出现了新型的splitkernel架构
    
    
    
    %    \framesubtitle{xxxx}
    %% figure
    \begin{figure}
        \includegraphics[width=0.9\linewidth]{figs/disio-splitkernel.png}
        %  \caption{xxxx}
    \end{figure}
\end{frame}

%----------------------------------------------
\begin{frame}[fragile]
    \frametitle{分布式I/O}
    %    \framesubtitle{xxxx}
    LegoOS：把CPU，Memory，Storage 分布在不同机器上，通过高速网络RDMA形成一个虚拟的大机器
    
    OS抽象：
    \begin{itemize}
        \item virtual Nodes (vNodes)  --> hardware devices
        \item Similar semantics to virtual machines
        \item Unique vID, vIP, storage mount point
        \item  Can run on multiple processor, memory, and storage components    
    \end{itemize}
    
    %    \begin{figure}
    %        \includegraphics[width=0.9\linewidth]{figs/nfsv2-srv2.png}
    %        %  \caption{xxxx}
    %    \end{figure}
    %    
    %    解决方法：NFS服务器在通知客户端成功之前，将每次写入提交到持久存储。这样做可让客户端在写入期间检测到服务器故障，从而重试，直到它最终成功。
\end{frame}

%----------------------------------------------
\begin{frame}[fragile]
    \frametitle{分布式I/O}
   Separate Processor and Memory
    %    \framesubtitle{xxxx}
    %% figure
    \begin{figure}
        \includegraphics[width=0.9\linewidth]{figs/disio-cpu-mem.png}
        %  \caption{xxxx}
    \end{figure}
\end{frame}
%----------------------------------------------
\begin{frame}[fragile]
    \frametitle{分布式I/O}
    Separate Processor and Memory
    %    \framesubtitle{xxxx}
    %% figure
    \begin{figure}
        \includegraphics[width=0.9\linewidth]{figs/disio-cpu-mem-2.png}
        %  \caption{xxxx}
    \end{figure}
\end{frame}

%----------------------------------------------
\begin{frame}[fragile]
    \frametitle{分布式I/O}
    Add Extended Cache at Processor
    %    \framesubtitle{xxxx}
    %% figure
    \begin{figure}
        \includegraphics[width=0.8\linewidth]{figs/disio-cpu-mem-3.png}
        %  \caption{xxxx}
    \end{figure}
\end{frame}

%----------------------------------------------
\begin{frame}[fragile]
    \frametitle{分布式I/O}
    Distributed Resource Management
    
    %    \framesubtitle{xxxx}
    %% figure
    \begin{figure}
        \includegraphics[width=0.9\linewidth]{figs/disio-resource.png}
        %  \caption{xxxx}
    \end{figure}
\end{frame}

%----------------------------------------------
\begin{frame}[fragile]
    \frametitle{分布式I/O}
    Distributed Memory Management
    %    \framesubtitle{xxxx}
    %% figure
    \begin{figure}
        \includegraphics[width=0.9\linewidth]{figs/disio-dmm.png}
        %  \caption{xxxx}
    \end{figure}
\end{frame}


%----------------------------------------------
\begin{frame}[fragile]
    \frametitle{分布式I/O}
    Implementation
    %    \framesubtitle{xxxx}
    %% figure
    \begin{figure}
        \includegraphics[width=0.9\linewidth]{figs/disio-impl.png}
        %  \caption{xxxx}
    \end{figure}
\end{frame}
%----------------------------------------------
\end{document}
