# å€å¡Šéˆäº¤æ˜“å®Œæ•´æŒ‡å—ï¼ˆç¹é«”ä¸­æ–‡ç‰ˆï¼‰
> å¾ä½¿ç”¨è€…ç™¼èµ·åˆ°äº¤æ˜“æˆåŠŸçš„å®Œæ•´æµç¨‹è§£æ

## ğŸ“‘ ç›®éŒ„

- [æ ¸å¿ƒè§€å¿µé‡æ¸…](#æ ¸å¿ƒè§€å¿µé‡æ¸…)
- [å®Œæ•´äº¤æ˜“æµç¨‹åœ–](#å®Œæ•´äº¤æ˜“æµç¨‹åœ–)
- [éˆã€åˆç´„ã€å€å¡Šçš„é—œä¿‚](#éˆåˆç´„å€å¡Šçš„é—œä¿‚)
- [ç‚ºä»€éº¼éœ€è¦ç§é‘°ç°½ç« ](#ç‚ºä»€éº¼éœ€è¦ç§é‘°ç°½ç« )
- [å€å¡Šçµæ§‹è©³è§£](#å€å¡Šçµæ§‹è©³è§£)
- [éŒ¢åŒ…èˆ‡ç›£è½å™¨æ¶æ§‹](#éŒ¢åŒ…èˆ‡ç›£è½å™¨æ¶æ§‹)
- [æ ¸å¿ƒæ¦‚å¿µå±¤ç´š](#æ ¸å¿ƒæ¦‚å¿µå±¤ç´š)
- [äº¤æ˜“ç”Ÿå‘½é€±æœŸè©³è§£](#äº¤æ˜“ç”Ÿå‘½é€±æœŸè©³è§£)
- [å¯¦æˆ°ä»£ç¢¼ç¯„ä¾‹](#å¯¦æˆ°ä»£ç¢¼ç¯„ä¾‹)
- [å¸¸è¦‹å•é¡Œ FAQ](#å¸¸è¦‹å•é¡Œ-faq)

---

## æ ¸å¿ƒè§€å¿µé‡æ¸…

### âŒ å¸¸è¦‹éŒ¯èª¤è§€å¿µ

**éŒ¯èª¤ï¼šä¸€æ¢éˆå°±æ˜¯ä¸€å€‹åˆç´„ï¼Ÿ**

é€™æ˜¯**å®Œå…¨éŒ¯èª¤**çš„è§€å¿µï¼è®“æˆ‘å€‘é‡æ¸…ï¼š

### âœ… æ­£ç¢ºè§€å¿µ

```
å€å¡Šéˆ (Blockchain)
    â”œâ”€ æ˜¯ä¸€å€‹åˆ†æ•£å¼å¸³æœ¬ç³»çµ±
    â”œâ”€ åŒ…å«æˆåƒä¸Šè¬å€‹åˆç´„
    â””â”€ ç”±ä¸€å€‹å€‹å€å¡Šä¸²é€£è€Œæˆ

æ™ºèƒ½åˆç´„ (Smart Contract)
    â”œâ”€ æ˜¯éƒ¨ç½²åœ¨å€å¡Šéˆä¸Šçš„ç¨‹å¼
    â”œâ”€ ä¸€æ¢éˆä¸Šå¯ä»¥æœ‰ç„¡æ•¸å€‹åˆç´„
    â””â”€ æ¯å€‹åˆç´„éƒ½æœ‰è‡ªå·±çš„åœ°å€

å€å¡Š (Block)
    â”œâ”€ æ˜¯å€å¡Šéˆçš„åŸºæœ¬å–®ä½
    â”œâ”€ åŒ…å«å¤šç­†äº¤æ˜“
    â””â”€ é€éå¯†ç¢¼å­¸ä¸²é€£åœ¨ä¸€èµ·
```

### ğŸ“Š ä¸‰è€…é—œä¿‚åœ–

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      å€å¡Šéˆ (Ethereum Mainnet)                    â”‚
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚   Block #1   â”‚â”€â”€â–¶â”‚   Block #2   â”‚â”€â”€â–¶â”‚   Block #3   â”‚â”€â”€â–¶ ...  â”‚
â”‚  â”‚              â”‚   â”‚              â”‚   â”‚              â”‚         â”‚
â”‚  â”‚  TX1, TX2    â”‚   â”‚  TX3, TX4    â”‚   â”‚  TX5, TX6    â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚              éƒ¨ç½²åœ¨éˆä¸Šçš„æ™ºèƒ½åˆç´„                     â”‚         â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤         â”‚
â”‚  â”‚ â€¢ USDT åˆç´„ @ 0xdac17f95...                         â”‚         â”‚
â”‚  â”‚ â€¢ Uniswap V3 @ 0x68b3465...                         â”‚         â”‚
â”‚  â”‚ â€¢ AAVE Protocol @ 0x7d2768...                       â”‚         â”‚
â”‚  â”‚ â€¢ æ‚¨çš„åˆç´„ @ 0x1234abcd...                          â”‚         â”‚
â”‚  â”‚ ... (æ•¸ç™¾è¬å€‹åˆç´„)                                   â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

é—œéµç†è§£ï¼š
âœ… ä¸€æ¢éˆ = ä¸€å€‹å®Œæ•´çš„å€å¡Šéˆç¶²è·¯ï¼ˆå¦‚ Ethereumã€BSCã€Polygonï¼‰
âœ… ä¸€å€‹å€å¡Š = éˆä¸Šçš„ä¸€å€‹æ•¸æ“šå–®ä½ï¼ˆåŒ…å«å¤šç­†äº¤æ˜“ï¼‰
âœ… ä¸€å€‹åˆç´„ = éƒ¨ç½²åœ¨éˆä¸Šçš„ä¸€æ®µç¨‹å¼ç¢¼ï¼ˆæœ‰è‡ªå·±çš„åœ°å€å’Œç‹€æ…‹ï¼‰
```

---

## å®Œæ•´äº¤æ˜“æµç¨‹åœ–

### ğŸ¯ å¾ä½¿ç”¨è€…ç™¼èµ·åˆ°äº¤æ˜“æˆåŠŸçš„ 10 å€‹æ­¥é©Ÿ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    æ­¥é©Ÿ 0: ä½¿ç”¨è€…æº–å‚™                             â”‚
â”‚                                                                   â”‚
â”‚  ä½¿ç”¨è€… (Alice)                                                   â”‚
â”‚    â”œâ”€ éŒ¢åŒ…åœ°å€: 0xAlice...                                        â”‚
â”‚    â”œâ”€ ç§é‘°: å­˜å„²åœ¨æœ¬åœ°éŒ¢åŒ…ï¼ˆMetaMaskã€ç¡¬é«”éŒ¢åŒ…ç­‰ï¼‰                 â”‚
â”‚    â””â”€ é¤˜é¡: 10 ETH                                                â”‚
â”‚                                                                   â”‚
â”‚  æƒ³è¦åŸ·è¡Œ: è½‰ 1 ETH çµ¦ Bob (0xBob...)                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    æ­¥é©Ÿ 1: æ§‹é€ äº¤æ˜“                               â”‚
â”‚                                                                   â”‚
â”‚  éŒ¢åŒ…è»Ÿé«”å¹«ä½¿ç”¨è€…å»ºç«‹äº¤æ˜“ç‰©ä»¶ï¼š                                    â”‚
â”‚  {                                                                â”‚
â”‚    from: "0xAlice...",           â† ç™¼é€è€…åœ°å€                     â”‚
â”‚    to: "0xBob...",               â† æ¥æ”¶è€…åœ°å€                     â”‚
â”‚    value: 1000000000000000000,   â† 1 ETH (ä»¥ wei ç‚ºå–®ä½)          â”‚
â”‚    gas: 21000,                   â† Gas é™åˆ¶                       â”‚
â”‚    gasPrice: 50000000000,        â† 50 gwei                        â”‚
â”‚    nonce: 5,                     â† äº¤æ˜“åºè™Ÿï¼ˆé˜²é‡æ”¾æ”»æ“Šï¼‰          â”‚
â”‚    chainId: 1                    â† ä¸»ç¶² ID                        â”‚
â”‚  }                                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         æ­¥é©Ÿ 2: ç§é‘°ç°½ç«  ğŸ” (æœ€é—œéµçš„æ­¥é©Ÿï¼)                       â”‚
â”‚                                                                   â”‚
â”‚  ç‚ºä»€éº¼éœ€è¦ç°½ç« ï¼Ÿ                                                  â”‚
â”‚  âœ… è­‰æ˜äº¤æ˜“ç¢ºå¯¦ç”± Alice ç™¼èµ·ï¼ˆèº«ä»½é©—è­‰ï¼‰                          â”‚
â”‚  âœ… é˜²æ­¢ä»–äººå½é€ äº¤æ˜“                                               â”‚
â”‚  âœ… ç¢ºä¿äº¤æ˜“å…§å®¹ä¸è¢«ç¯¡æ”¹                                           â”‚
â”‚                                                                   â”‚
â”‚  ç°½ç« éç¨‹ï¼š                                                        â”‚
â”‚  1. å°äº¤æ˜“æ•¸æ“šè¨ˆç®— Keccak-256 å“ˆå¸Œ                                â”‚
â”‚     txHash = Keccak256(nonce + gasPrice + gas + to + value + data)â”‚
â”‚                                                                   â”‚
â”‚  2. ä½¿ç”¨ç§é‘°å°å“ˆå¸Œç°½åï¼ˆECDSA ç°½åç®—æ³•ï¼‰                           â”‚
â”‚     signature = sign(txHash, privateKey)                          â”‚
â”‚     â†“                                                             â”‚
â”‚     å¾—åˆ° (v, r, s) ä¸‰å€‹åƒæ•¸                                        â”‚
â”‚                                                                   â”‚
â”‚  3. ç°½ç« å¾Œçš„äº¤æ˜“ï¼š                                                 â”‚
â”‚     rawTransaction = RLP.encode([                                 â”‚
â”‚       nonce, gasPrice, gas, to, value, data, v, r, s              â”‚
â”‚     ])                                                            â”‚
â”‚                                                                   â”‚
â”‚  âš ï¸ ç§é‘°æ°¸ä¸é›¢é–‹éŒ¢åŒ…ï¼åªæœ‰ç°½åçµæœè¢«å»£æ’­                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                æ­¥é©Ÿ 3: å»£æ’­åˆ°ç¶²è·¯                                  â”‚
â”‚                                                                   â”‚
â”‚  éŒ¢åŒ…é€é RPC ç¯€é»å»£æ’­ç°½ç« å¾Œçš„äº¤æ˜“ï¼š                               â”‚
â”‚                                                                   â”‚
â”‚  Alice çš„éŒ¢åŒ…                                                     â”‚
â”‚       â†“ (HTTPS/WebSocket)                                         â”‚
â”‚  ä»¥å¤ªåŠç¯€é» (Infura/Alchemy/è‡ªå»ºç¯€é»)                              â”‚
â”‚       â†“                                                           â”‚
â”‚  P2P ç¶²è·¯ (ä»¥å¤ªåŠçš„ DevP2P å”è­°)                                   â”‚
â”‚       â†“                                                           â”‚
â”‚  å…¨çƒæ•¸åƒå€‹ç¯€é»æ¥æ”¶åˆ°é€™ç­†äº¤æ˜“                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              æ­¥é©Ÿ 4: é€²å…¥ Mempool (äº¤æ˜“æ± )                        â”‚
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                         â”‚
â”‚  â”‚         Mempool (è¨˜æ†¶æ± )             â”‚                         â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                         â”‚
â”‚  â”‚ TX1: Gas Price = 100 gwei (æœ€é«˜)    â”‚ â† å„ªå…ˆ                   â”‚
â”‚  â”‚ TX2: Gas Price = 75 gwei            â”‚                         â”‚
â”‚  â”‚ TX3: Gas Price = 50 gwei â† Alice çš„äº¤æ˜“                        â”‚
â”‚  â”‚ TX4: Gas Price = 30 gwei            â”‚                         â”‚
â”‚  â”‚ TX5: Gas Price = 20 gwei (æœ€ä½)     â”‚ â† å¯èƒ½éœ€è¦ç­‰å¾ˆä¹…         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                         â”‚
â”‚                                                                   â”‚
â”‚  ç‹€æ…‹: Pending (ç­‰å¾…è¢«æ‰“åŒ…)                                       â”‚
â”‚  Transfer Hash å·²ç”Ÿæˆ: 0x1234...abcd                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           æ­¥é©Ÿ 5: é©—è­‰è€…é¸æ“‡äº¤æ˜“ (PoS æ©Ÿåˆ¶)                        â”‚
â”‚                                                                   â”‚
â”‚  ä»¥å¤ªåŠ 2.0 ä½¿ç”¨ PoS (Proof of Stake)ï¼š                           â”‚
â”‚                                                                   â”‚
â”‚  é©—è­‰è€… (Validator)                                               â”‚
â”‚    â”œâ”€ å·²è³ªæŠ¼ 32 ETH                                               â”‚
â”‚    â”œâ”€ è¢«éš¨æ©Ÿé¸ä¸­æè­°ä¸‹ä¸€å€‹å€å¡Š                                     â”‚
â”‚    â””â”€ å¾ Mempool é¸æ“‡äº¤æ˜“ï¼ˆå„ªå…ˆé¸ Gas Price é«˜çš„ï¼‰                â”‚
â”‚                                                                   â”‚
â”‚  é©—è­‰è€…æª¢æŸ¥ï¼š                                                      â”‚
â”‚  âœ… ç°½åæ˜¯å¦æœ‰æ•ˆ (verify(signature, publicKey))                   â”‚
â”‚  âœ… Alice é¤˜é¡æ˜¯å¦è¶³å¤  (balance >= 1 ETH + gas fee)               â”‚
â”‚  âœ… Nonce æ˜¯å¦æ­£ç¢ºï¼ˆå¿…é ˆæ˜¯é€£çºŒçš„ï¼‰                                 â”‚
â”‚  âœ… Gas Limit æ˜¯å¦åˆç†                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                æ­¥é©Ÿ 6: æ‰“åŒ…é€²å€å¡Š                                  â”‚
â”‚                                                                   â”‚
â”‚  é©—è­‰è€…å»ºç«‹æ–°å€å¡Šï¼š                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                         â”‚
â”‚  â”‚       Block #19,500,000             â”‚                         â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                         â”‚
â”‚  â”‚ Block Header:                       â”‚                         â”‚
â”‚  â”‚  â€¢ Parent Hash: 0xaabb...           â”‚ â† æŒ‡å‘å‰ä¸€å€‹å€å¡Š         â”‚
â”‚  â”‚  â€¢ Timestamp: 1704067200            â”‚                         â”‚
â”‚  â”‚  â€¢ Validator: 0xValidator...        â”‚                         â”‚
â”‚  â”‚  â€¢ State Root: 0xccdd...            â”‚ â† ä¸–ç•Œç‹€æ…‹çš„ Merkle Root â”‚
â”‚  â”‚  â€¢ Transactions Root: 0xeeff...     â”‚ â† äº¤æ˜“çš„ Merkle Root     â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                         â”‚
â”‚  â”‚ Transactions:                       â”‚                         â”‚
â”‚  â”‚  â€¢ TX1: 0x1111... (Gas: 100 gwei)   â”‚                         â”‚
â”‚  â”‚  â€¢ TX2: 0x2222... (Gas: 75 gwei)    â”‚                         â”‚
â”‚  â”‚  â€¢ TX3: 0x1234...abcd â† Alice çš„äº¤æ˜“ â”‚                         â”‚
â”‚  â”‚  â€¢ ... (ç¸½å…± ~150 ç­†äº¤æ˜“)           â”‚                         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              æ­¥é©Ÿ 7: åŸ·è¡Œäº¤æ˜“ (EVM åŸ·è¡Œ)                           â”‚
â”‚                                                                   â”‚
â”‚  EVM (Ethereum Virtual Machine) åŸ·è¡Œï¼š                            â”‚
â”‚                                                                   â”‚
â”‚  1. å¾ Alice æ‰£é™¤ 1 ETH                                           â”‚
â”‚     State[0xAlice].balance -= 1 ETH                               â”‚
â”‚     â†“                                                             â”‚
â”‚     10 ETH â†’ 9 ETH                                                â”‚
â”‚                                                                   â”‚
â”‚  2. çµ¦ Bob å¢åŠ  1 ETH                                             â”‚
â”‚     State[0xBob].balance += 1 ETH                                 â”‚
â”‚     â†“                                                             â”‚
â”‚     5 ETH â†’ 6 ETH                                                 â”‚
â”‚                                                                   â”‚
â”‚  3. æ‰£é™¤ Gas è²»ç”¨                                                 â”‚
â”‚     gasFee = 21000 * 50 gwei = 0.00105 ETH                        â”‚
â”‚     State[0xAlice].balance -= 0.00105 ETH                         â”‚
â”‚     State[Validator].balance += 0.00105 ETH (çµ¦é©—è­‰è€…)            â”‚
â”‚                                                                   â”‚
â”‚  4. æ›´æ–° Nonce                                                    â”‚
â”‚     State[0xAlice].nonce = 6 (å¾ 5 è®Šæˆ 6)                        â”‚
â”‚                                                                   â”‚
â”‚  åŸ·è¡Œçµæœï¼šSuccess âœ“                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           æ­¥é©Ÿ 8: å€å¡Šå…±è­˜èˆ‡å‚³æ’­                                   â”‚
â”‚                                                                   â”‚
â”‚  1. é©—è­‰è€…æè­°å€å¡Š                                                 â”‚
â”‚     Proposer â†’ å»£æ’­å€å¡Šçµ¦å…¶ä»–é©—è­‰è€…                               â”‚
â”‚                                                                   â”‚
â”‚  2. å…¶ä»–é©—è­‰è€…æŠ•ç¥¨                                                 â”‚
â”‚     âœ… Validator 1: è´Šæˆ                                          â”‚
â”‚     âœ… Validator 2: è´Šæˆ                                          â”‚
â”‚     âœ… Validator 3: è´Šæˆ                                          â”‚
â”‚     ... (éœ€è¦ 2/3 å¤šæ•¸åŒæ„)                                        â”‚
â”‚                                                                   â”‚
â”‚  3. é”æˆå…±è­˜                                                       â”‚
â”‚     å€å¡Šè¢«æœ€çµ‚ç¢ºå®š (Finalized)                                     â”‚
â”‚                                                                   â”‚
â”‚  4. å‚³æ’­åˆ°å…¨ç¶²è·¯                                                   â”‚
â”‚     å…¨çƒæ‰€æœ‰ç¯€é»æ›´æ–°å€å¡Šéˆç‹€æ…‹                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                æ­¥é©Ÿ 9: ç¢ºèªèˆ‡æœ€çµ‚æ€§                                â”‚
â”‚                                                                   â”‚
â”‚  ç¢ºèªéç¨‹ï¼š                                                        â”‚
â”‚                                                                   â”‚
â”‚  Block #19,500,000 â† Alice çš„äº¤æ˜“åœ¨é€™è£¡                           â”‚
â”‚  Block #19,500,001 â† ç¬¬ 1 æ¬¡ç¢ºèª                                  â”‚
â”‚  Block #19,500,002 â† ç¬¬ 2 æ¬¡ç¢ºèª                                  â”‚
â”‚  Block #19,500,003 â† ç¬¬ 3 æ¬¡ç¢ºèª                                  â”‚
â”‚  ...                                                              â”‚
â”‚  Block #19,500,006 â† ç¬¬ 6 æ¬¡ç¢ºèª (ä¸€èˆ¬èªç‚ºè¶³å¤ å®‰å…¨)               â”‚
â”‚                                                                   â”‚
â”‚  ç¢ºèªè¶Šå¤š â†’ äº¤æ˜“è¢«å›æ»¾çš„å¯èƒ½æ€§è¶Šä½                                 â”‚
â”‚                                                                   â”‚
â”‚  å»ºè­°ç¢ºèªæ•¸ï¼š                                                      â”‚
â”‚  â€¢ å°é¡äº¤æ˜“: 1-3 ç¢ºèª                                             â”‚
â”‚  â€¢ ä¸€èˆ¬äº¤æ˜“: 6 ç¢ºèª                                               â”‚
â”‚  â€¢ å¤§é¡äº¤æ˜“: 12+ ç¢ºèª                                             â”‚
â”‚  â€¢ äº¤æ˜“æ‰€å……å€¼: 12-64 ç¢ºèª                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   æ­¥é©Ÿ 10: å®Œæˆ âœ“                                 â”‚
â”‚                                                                   â”‚
â”‚  äº¤æ˜“ç‹€æ…‹: Success                                                â”‚
â”‚  Transfer Hash: 0x1234567890abcdef...                            â”‚
â”‚  Block Number: 19,500,000                                         â”‚
â”‚  Gas Used: 21,000                                                 â”‚
â”‚  Gas Price: 50 gwei                                               â”‚
â”‚  Transaction Fee: 0.00105 ETH                                     â”‚
â”‚  Confirmations: 6                                                 â”‚
â”‚                                                                   â”‚
â”‚  æœ€çµ‚çµæœï¼š                                                        â”‚
â”‚  â€¢ Alice: 10 ETH â†’ 8.99895 ETH (è½‰å‡º 1 + æ‰‹çºŒè²» 0.00105)          â”‚
â”‚  â€¢ Bob:   5 ETH  â†’ 6 ETH                                          â”‚
â”‚  â€¢ é©—è­‰è€…: ç²å¾— 0.00105 ETH æ‰‹çºŒè²»                                â”‚
â”‚                                                                   â”‚
â”‚  ğŸ‰ äº¤æ˜“æˆåŠŸå®Œæˆï¼                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## éˆã€åˆç´„ã€å€å¡Šçš„é—œä¿‚

### ğŸ”— å®Œæ•´æ¶æ§‹åœ–

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                           â”‚
â”‚                         å€å¡Šéˆå±¤ç´šçµæ§‹                                     â”‚
â”‚                                                                           â”‚
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“  â”‚
â”‚  â”ƒ  Layer 1: å€å¡Šéˆç¶²è·¯ (Blockchain Network)                       â”ƒ  â”‚
â”‚  â”ƒ  â€¢ Ethereum Mainnet (ä¸»ç¶²)                                      â”ƒ  â”‚
â”‚  â”ƒ  â€¢ BSC (å¹£å®‰æ™ºèƒ½éˆ)                                              â”ƒ  â”‚
â”‚  â”ƒ  â€¢ Polygon                                                      â”ƒ  â”‚
â”‚  â”ƒ  â€¢ Arbitrum (Layer 2)                                           â”ƒ  â”‚
â”‚  â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›  â”‚
â”‚           â†“ (ä¸€æ¢éˆç”±ç„¡æ•¸å€‹å€å¡Šçµ„æˆ)                                     â”‚
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“  â”‚
â”‚  â”ƒ  Layer 2: å€å¡Šå±¤ (Block Layer)                                  â”ƒ  â”‚
â”‚  â”ƒ                                                                  â”ƒ  â”‚
â”‚  â”ƒ  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”ƒ  â”‚
â”‚  â”ƒ  â”‚  Block #1  â”‚â”€â”€â–¶â”‚  Block #2  â”‚â”€â”€â–¶â”‚  Block #3  â”‚â”€â”€â–¶ ...       â”ƒ  â”‚
â”‚  â”ƒ  â”‚            â”‚   â”‚            â”‚   â”‚            â”‚              â”ƒ  â”‚
â”‚  â”ƒ  â”‚ Header     â”‚   â”‚ Header     â”‚   â”‚ Header     â”‚              â”ƒ  â”‚
â”‚  â”ƒ  â”‚ â€¢ Parent H â”‚   â”‚ â€¢ Parent H â”‚   â”‚ â€¢ Parent H â”‚              â”ƒ  â”‚
â”‚  â”ƒ  â”‚ â€¢ StateRootâ”‚   â”‚ â€¢ StateRootâ”‚   â”‚ â€¢ StateRootâ”‚              â”ƒ  â”‚
â”‚  â”ƒ  â”‚ â€¢ TxRoot   â”‚   â”‚ â€¢ TxRoot   â”‚   â”‚ â€¢ TxRoot   â”‚              â”ƒ  â”‚
â”‚  â”ƒ  â”‚            â”‚   â”‚            â”‚   â”‚            â”‚              â”ƒ  â”‚
â”‚  â”ƒ  â”‚ Body       â”‚   â”‚ Body       â”‚   â”‚ Body       â”‚              â”ƒ  â”‚
â”‚  â”ƒ  â”‚ â€¢ TX1      â”‚   â”‚ â€¢ TX3      â”‚   â”‚ â€¢ TX5      â”‚              â”ƒ  â”‚
â”‚  â”ƒ  â”‚ â€¢ TX2      â”‚   â”‚ â€¢ TX4      â”‚   â”‚ â€¢ TX6      â”‚              â”ƒ  â”‚
â”‚  â”ƒ  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”ƒ  â”‚
â”‚  â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›  â”‚
â”‚           â†“ (æ¯å€‹å€å¡ŠåŒ…å«å¤šç­†äº¤æ˜“)                                       â”‚
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“  â”‚
â”‚  â”ƒ  Layer 3: äº¤æ˜“å±¤ (Transaction Layer)                            â”ƒ  â”‚
â”‚  â”ƒ                                                                  â”ƒ  â”‚
â”‚  â”ƒ  Transaction #1:                                                 â”ƒ  â”‚
â”‚  â”ƒ  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”ƒ  â”‚
â”‚  â”ƒ  â”‚ From: 0xAlice                           â”‚                    â”ƒ  â”‚
â”‚  â”ƒ  â”‚ To: 0xBob                               â”‚                    â”ƒ  â”‚
â”‚  â”ƒ  â”‚ Value: 1 ETH                            â”‚                    â”ƒ  â”‚
â”‚  â”ƒ  â”‚ Gas: 21000                              â”‚                    â”ƒ  â”‚
â”‚  â”ƒ  â”‚ Signature: (v, r, s)                    â”‚                    â”ƒ  â”‚
â”‚  â”ƒ  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”ƒ  â”‚
â”‚  â”ƒ                                                                  â”ƒ  â”‚
â”‚  â”ƒ  Transaction #2:                                                 â”ƒ  â”‚
â”‚  â”ƒ  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”ƒ  â”‚
â”‚  â”ƒ  â”‚ From: 0xCharlie                         â”‚                    â”ƒ  â”‚
â”‚  â”ƒ  â”‚ To: 0xUSDT_Contract â† èª¿ç”¨æ™ºèƒ½åˆç´„       â”‚                    â”ƒ  â”‚
â”‚  â”ƒ  â”‚ Value: 0 ETH                            â”‚                    â”ƒ  â”‚
â”‚  â”ƒ  â”‚ Data: transfer(Bob, 100 USDT)           â”‚                    â”ƒ  â”‚
â”‚  â”ƒ  â”‚ Gas: 65000                              â”‚                    â”ƒ  â”‚
â”‚  â”ƒ  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”ƒ  â”‚
â”‚  â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›  â”‚
â”‚           â†“ (äº¤æ˜“å¯èƒ½èª¿ç”¨æ™ºèƒ½åˆç´„)                                       â”‚
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“  â”‚
â”‚  â”ƒ  Layer 4: æ™ºèƒ½åˆç´„å±¤ (Smart Contract Layer)                     â”ƒ  â”‚
â”‚  â”ƒ                                                                  â”ƒ  â”‚
â”‚  â”ƒ  éƒ¨ç½²åœ¨éˆä¸Šçš„åˆç´„ï¼ˆæ•¸ç™¾è¬å€‹ï¼‰ï¼š                                   â”ƒ  â”‚
â”‚  â”ƒ                                                                  â”ƒ  â”‚
â”‚  â”ƒ  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                           â”ƒ  â”‚
â”‚  â”ƒ  â”‚  USDT åˆç´„ @ 0xdac17f95...       â”‚                           â”ƒ  â”‚
â”‚  â”ƒ  â”‚  â€¢ Code: ERC20 Token             â”‚                           â”ƒ  â”‚
â”‚  â”ƒ  â”‚  â€¢ Storage: balances mapping     â”‚                           â”ƒ  â”‚
â”‚  â”ƒ  â”‚  â€¢ Functions: transfer(), approve()                          â”ƒ  â”‚
â”‚  â”ƒ  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                           â”ƒ  â”‚
â”‚  â”ƒ                                                                  â”ƒ  â”‚
â”‚  â”ƒ  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                           â”ƒ  â”‚
â”‚  â”ƒ  â”‚  Uniswap V3 @ 0x68b3465...       â”‚                           â”ƒ  â”‚
â”‚  â”ƒ  â”‚  â€¢ Code: DEX Protocol            â”‚                           â”ƒ  â”‚
â”‚  â”ƒ  â”‚  â€¢ Storage: liquidity pools      â”‚                           â”ƒ  â”‚
â”‚  â”ƒ  â”‚  â€¢ Functions: swap(), addLiquidity()                         â”ƒ  â”‚
â”‚  â”ƒ  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                           â”ƒ  â”‚
â”‚  â”ƒ                                                                  â”ƒ  â”‚
â”‚  â”ƒ  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                           â”ƒ  â”‚
â”‚  â”ƒ  â”‚  æ‚¨çš„åˆç´„ @ 0x1234abcd...        â”‚                           â”ƒ  â”‚
â”‚  â”ƒ  â”‚  â€¢ Code: è‡ªå®šç¾©é‚è¼¯              â”‚                           â”ƒ  â”‚
â”‚  â”ƒ  â”‚  â€¢ Storage: è‡ªå®šç¾©ç‹€æ…‹è®Šæ•¸       â”‚                           â”ƒ  â”‚
â”‚  â”ƒ  â”‚  â€¢ Functions: è‡ªå®šç¾©å‡½æ•¸         â”‚                           â”ƒ  â”‚
â”‚  â”ƒ  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                           â”ƒ  â”‚
â”‚  â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›  â”‚
â”‚           â†“ (åˆç´„åŸ·è¡Œç”¢ç”Ÿç‹€æ…‹è®Šæ›´)                                       â”‚
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“  â”‚
â”‚  â”ƒ  Layer 5: ä¸–ç•Œç‹€æ…‹å±¤ (World State Layer)                        â”ƒ  â”‚
â”‚  â”ƒ                                                                  â”ƒ  â”‚
â”‚  â”ƒ  æ‰€æœ‰å¸³æˆ¶çš„ç‹€æ…‹ï¼ˆä½¿ç”¨ Merkle Patricia Trie å­˜å„²ï¼‰ï¼š              â”ƒ  â”‚
â”‚  â”ƒ                                                                  â”ƒ  â”‚
â”‚  â”ƒ  0xAlice:                                                        â”ƒ  â”‚
â”‚  â”ƒ    â€¢ balance: 9.99895 ETH                                        â”ƒ  â”‚
â”‚  â”ƒ    â€¢ nonce: 6                                                    â”ƒ  â”‚
â”‚  â”ƒ    â€¢ code: null (EOA å¤–éƒ¨å¸³æˆ¶)                                   â”ƒ  â”‚
â”‚  â”ƒ                                                                  â”ƒ  â”‚
â”‚  â”ƒ  0xBob:                                                          â”ƒ  â”‚
â”‚  â”ƒ    â€¢ balance: 6 ETH                                              â”ƒ  â”‚
â”‚  â”ƒ    â€¢ nonce: 0                                                    â”ƒ  â”‚
â”‚  â”ƒ    â€¢ code: null                                                  â”ƒ  â”‚
â”‚  â”ƒ                                                                  â”ƒ  â”‚
â”‚  â”ƒ  0xUSDT_Contract:                                                â”ƒ  â”‚
â”‚  â”ƒ    â€¢ balance: 0 ETH                                              â”ƒ  â”‚
â”‚  â”ƒ    â€¢ nonce: 1                                                    â”ƒ  â”‚
â”‚  â”ƒ    â€¢ code: 0x6060604052... (EVM å­—ç¯€ç¢¼)                          â”ƒ  â”‚
â”‚  â”ƒ    â€¢ storage:                                                    â”ƒ  â”‚
â”‚  â”ƒ        balances[0xAlice] = 1000000000  (10 å„„ USDT)              â”ƒ  â”‚
â”‚  â”ƒ        balances[0xBob] = 500000000     (5 å„„ USDT)               â”ƒ  â”‚
â”‚  â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ğŸ“ é—œä¿‚ç¸½çµ

| å±¤ç´š | åç¨± | æ•¸é‡é—œä¿‚ | ä½œç”¨ |
|------|------|---------|------|
| **L1** | å€å¡Šéˆ | 1 æ¢éˆ | æ•´å€‹ç¶²è·¯ï¼ˆå¦‚ Ethereumï¼‰ |
| **L2** | å€å¡Š | ç„¡æ•¸å€‹ | éˆçš„çµ„æˆå–®ä½ï¼Œæ¯ 12 ç§’ç”¢ç”Ÿ 1 å€‹ |
| **L3** | äº¤æ˜“ | ç„¡æ•¸ç­† | æ¯å€‹å€å¡ŠåŒ…å«ç´„ 150-300 ç­†äº¤æ˜“ |
| **L4** | æ™ºèƒ½åˆç´„ | æ•¸ç™¾è¬å€‹ | éƒ¨ç½²åœ¨éˆä¸Šçš„ç¨‹å¼ |
| **L5** | ä¸–ç•Œç‹€æ…‹ | å…¨å±€å”¯ä¸€ | æ‰€æœ‰å¸³æˆ¶å’Œåˆç´„çš„ç•¶å‰ç‹€æ…‹ |

---

## ç‚ºä»€éº¼éœ€è¦ç§é‘°ç°½ç« 

### ğŸ” æ ¸å¿ƒå•é¡Œ

**å•é¡Œ**ï¼šç‚ºä»€éº¼ä¸èƒ½ç›´æ¥å»£æ’­äº¤æ˜“ï¼Œè€Œå¿…é ˆå…ˆç°½ç« ï¼Ÿ

**ç­”æ¡ˆ**ï¼šæ²’æœ‰ç°½ç«  = ä»»ä½•äººéƒ½èƒ½å½é€ æ‚¨çš„äº¤æ˜“ï¼

### ğŸ’¡ å ´æ™¯å°æ¯”

#### âŒ å¦‚æœæ²’æœ‰ç§é‘°ç°½ç« ï¼ˆç½é›£æ€§å¾Œæœï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æƒ¡æ„æ”»æ“Šè€… (Hacker)                 â”‚
â”‚                                     â”‚
â”‚  æ§‹é€ ä¸€ç­†å‡äº¤æ˜“ï¼š                    â”‚
â”‚  {                                  â”‚
â”‚    from: "0xAlice",  â† å‡å†’ Alice   â”‚
â”‚    to: "0xHacker",                  â”‚
â”‚    value: 100 ETH    â† å·èµ° Alice çš„éŒ¢
â”‚  }                                  â”‚
â”‚                                     â”‚
â”‚  ç›´æ¥å»£æ’­ â†’ æˆåŠŸï¼Alice çš„éŒ¢è¢«å·äº†   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

å•é¡Œï¼š
âŒ ä»»ä½•äººéƒ½èƒ½å‡å†’ Alice ç™¼èµ·äº¤æ˜“
âŒ ç„¡æ³•è­‰æ˜äº¤æ˜“ç¢ºå¯¦ç”± Alice æˆæ¬Š
âŒ Alice çš„è³‡ç”¢å®Œå…¨ä¸å®‰å…¨
```

#### âœ… æœ‰ç§é‘°ç°½ç« ï¼ˆå®‰å…¨æ©Ÿåˆ¶ï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æƒ¡æ„æ”»æ“Šè€…å˜—è©¦å‡å†’ Alice                                     â”‚
â”‚                                                               â”‚
â”‚  Step 1: æ§‹é€ å‡äº¤æ˜“                                           â”‚
â”‚  {                                                            â”‚
â”‚    from: "0xAlice",                                           â”‚
â”‚    to: "0xHacker",                                            â”‚
â”‚    value: 100 ETH                                             â”‚
â”‚  }                                                            â”‚
â”‚                                                               â”‚
â”‚  Step 2: å˜—è©¦ç°½ç«                                              â”‚
â”‚  âŒ æ²’æœ‰ Alice çš„ç§é‘°ï¼                                       â”‚
â”‚  âŒ ç„¡æ³•ç”¢ç”Ÿæœ‰æ•ˆç°½å                                           â”‚
â”‚                                                               â”‚
â”‚  Step 3: å»£æ’­åˆ°ç¶²è·¯                                           â”‚
â”‚  ç¯€é»é©—è­‰ï¼š                                                    â”‚
â”‚  if (!verify(signature, publicKey)):                          â”‚
â”‚      reject("Invalid signature")  â† äº¤æ˜“è¢«æ‹’çµ•               â”‚
â”‚                                                               â”‚
â”‚  çµæœï¼šâŒ æ”»æ“Šå¤±æ•—ï¼Alice çš„è³‡ç”¢å®‰å…¨                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ğŸ”‘ ç§é‘°ç°½ç« çš„ä¸‰å¤§ä½œç”¨

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ä½œç”¨ 1: èº«ä»½é©—è­‰ (Authentication)                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â€¢ è­‰æ˜äº¤æ˜“ç¢ºå¯¦ç”±ç§é‘°æŒæœ‰è€…ç™¼èµ·                                  â”‚
â”‚  â€¢ å…¬é‘°å¯ä»¥å¾ç°½åä¸­æ¢å¾©å‡ºä¾†                                      â”‚
â”‚  â€¢ æ¢å¾©å‡ºçš„å…¬é‘°å¿…é ˆèˆ‡ from åœ°å€åŒ¹é…                              â”‚
â”‚                                                                 â”‚
â”‚  é©—è­‰éç¨‹ï¼š                                                      â”‚
â”‚  recoveredAddress = ecrecover(txHash, v, r, s)                  â”‚
â”‚  if (recoveredAddress == from):                                 â”‚
â”‚      âœ… äº¤æ˜“æœ‰æ•ˆ                                                â”‚
â”‚  else:                                                          â”‚
â”‚      âŒ äº¤æ˜“ç„¡æ•ˆï¼ˆå½é€ çš„ï¼‰                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ä½œç”¨ 2: é˜²ç¯¡æ”¹ (Integrity)                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â€¢ ç°½åæ˜¯å°æ•´å€‹äº¤æ˜“æ•¸æ“šçš„ç°½å                                    â”‚
â”‚  â€¢ ä»»ä½•å­—æ®µè¢«ä¿®æ”¹ï¼Œç°½åå°±æœƒå¤±æ•ˆ                                  â”‚
â”‚                                                                 â”‚
â”‚  ä¾‹å¦‚ï¼š                                                          â”‚
â”‚  åŸå§‹äº¤æ˜“: {from: Alice, to: Bob, value: 1 ETH}                 â”‚
â”‚  ç°½å: signature_original                                       â”‚
â”‚                                                                 â”‚
â”‚  æ”»æ“Šè€…å˜—è©¦ä¿®æ”¹:                                                 â”‚
â”‚  {from: Alice, to: Hacker, value: 100 ETH}  â† ä¿®æ”¹æ”¶æ¬¾äººå’Œé‡‘é¡  â”‚
â”‚                                                                 â”‚
â”‚  é©—è­‰:                                                           â”‚
â”‚  verify(signature_original, modified_tx)                        â”‚
â”‚  âŒ ç°½åä¸åŒ¹é…ï¼äº¤æ˜“è¢«æ‹’çµ•                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ä½œç”¨ 3: ä¸å¯å¦èª (Non-repudiation)                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â€¢ ç°½ç« å¾Œï¼ŒAlice ç„¡æ³•å¦èªæ›¾ç™¼èµ·éé€™ç­†äº¤æ˜“                        â”‚
â”‚  â€¢ åªæœ‰æŒæœ‰ç§é‘°çš„äººæ‰èƒ½ç”¢ç”Ÿæœ‰æ•ˆç°½å                              â”‚
â”‚  â€¢ ç°½åè¢«æ°¸ä¹…è¨˜éŒ„åœ¨å€å¡Šéˆä¸Š                                      â”‚
â”‚                                                                 â”‚
â”‚  Alice: "æˆ‘æ²’æœ‰ç™¼èµ·é€™ç­†äº¤æ˜“ï¼"                                   â”‚
â”‚  å€å¡Šéˆ: "é€™æ˜¯æ‚¨çš„ç°½åï¼Œç¶“éå¯†ç¢¼å­¸é©—è­‰ç¢ºå¯¦æ˜¯æ‚¨ç°½çš„"              â”‚
â”‚  Alice: "..." (ç„¡æ³•å¦èª)                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ğŸ”¬ ç°½ç« æŠ€è¡“è©³è§£

#### ECDSA ç°½åç®—æ³•ï¼ˆä»¥å¤ªåŠä½¿ç”¨çš„ç®—æ³•ï¼‰

```python
# ============================================
# å®Œæ•´çš„ç°½ç« èˆ‡é©—è­‰æµç¨‹
# ============================================

# Step 1: æº–å‚™äº¤æ˜“æ•¸æ“š
transaction = {
    'nonce': 5,
    'gasPrice': 50000000000,  # 50 gwei
    'gas': 21000,
    'to': '0xBob...',
    'value': 1000000000000000000,  # 1 ETH
    'data': '0x',
    'chainId': 1
}

# Step 2: è¨ˆç®—äº¤æ˜“å“ˆå¸Œ
from web3 import Web3
import rlp

# RLP ç·¨ç¢¼
encoded = rlp.encode([
    transaction['nonce'],
    transaction['gasPrice'],
    transaction['gas'],
    Web3.to_bytes(hexstr=transaction['to']),
    transaction['value'],
    Web3.to_bytes(hexstr=transaction['data']),
    transaction['chainId'], 0, 0  # EIP-155
])

# Keccak-256 å“ˆå¸Œ
tx_hash = Web3.keccak(encoded)
print(f"Transaction Hash: {tx_hash.hex()}")

# Step 3: ä½¿ç”¨ç§é‘°ç°½å
from eth_account import Account

private_key = "0xä½ çš„ç§é‘°..."
account = Account.from_key(private_key)

# ECDSA ç°½åï¼ˆç”¢ç”Ÿ v, r, sï¼‰
signature = account.signHash(tx_hash)

v = signature.v
r = signature.r
s = signature.s

print(f"Signature (v): {v}")
print(f"Signature (r): {r}")
print(f"Signature (s): {s}")

# Step 4: çµ„åˆå®Œæ•´çš„ç°½ç« äº¤æ˜“
signed_transaction = rlp.encode([
    transaction['nonce'],
    transaction['gasPrice'],
    transaction['gas'],
    Web3.to_bytes(hexstr=transaction['to']),
    transaction['value'],
    Web3.to_bytes(hexstr=transaction['data']),
    v, r, s
])

raw_tx = '0x' + signed_transaction.hex()
print(f"Raw Transaction: {raw_tx}")

# Step 5: å»£æ’­äº¤æ˜“
tx_hash = web3.eth.send_raw_transaction(signed_transaction)
print(f"Broadcasted! TX Hash: {tx_hash.hex()}")

# ============================================
# ç¯€é»å¦‚ä½•é©—è­‰ç°½å
# ============================================

# Step 1: å¾ç°½åæ¢å¾©å…¬é‘°
from eth_utils import keccak
from eth_keys import keys

# ä½¿ç”¨ ecrecover æ¢å¾©åœ°å€
recovered_address = Account.recover_message(
    tx_hash,
    signature=signature
)

print(f"Recovered Address: {recovered_address}")

# Step 2: æª¢æŸ¥åœ°å€æ˜¯å¦åŒ¹é…
if recovered_address.lower() == account.address.lower():
    print("âœ… ç°½åæœ‰æ•ˆï¼äº¤æ˜“ç¢ºå¯¦ç”± Alice ç™¼èµ·")
else:
    print("âŒ ç°½åç„¡æ•ˆï¼é€™æ˜¯å½é€ çš„äº¤æ˜“")
```

#### ç°½ç« çš„æ•¸å­¸åŸç†

```
ECDSA (Elliptic Curve Digital Signature Algorithm)

ä½¿ç”¨çš„æ©¢åœ“æ›²ç·š: secp256k1 (èˆ‡ Bitcoin ç›¸åŒ)
æ–¹ç¨‹å¼: yÂ² = xÂ³ + 7

ç§é‘° (Private Key):
  â€¢ ä¸€å€‹ 256 ä½çš„éš¨æ©Ÿæ•¸
  â€¢ ç¯„åœ: 1 åˆ° 2^256 - 1
  â€¢ å¿…é ˆä¿å¯†ï¼æ´©æ¼ = è³‡ç”¢è¢«ç›œ

å…¬é‘° (Public Key):
  â€¢ å¾ç§é‘°æ¨å°: Public Key = Private Key Ã— G
  â€¢ G æ˜¯æ©¢åœ“æ›²ç·šçš„ç”Ÿæˆé»
  â€¢ ç„¡æ³•å¾å…¬é‘°åæ¨ç§é‘°ï¼ˆå–®å‘å‡½æ•¸ï¼‰

åœ°å€ (Address):
  â€¢ Address = Keccak256(Public Key)[12:]
  â€¢ å–å…¬é‘°å“ˆå¸Œçš„å¾Œ 20 ä½å…ƒçµ„
  â€¢ æ ¼å¼: 0x + 40 å€‹åå…­é€²ä½å­—ç¬¦

ç°½åéç¨‹:
1. é¸æ“‡éš¨æ©Ÿæ•¸ k
2. è¨ˆç®— R = k Ã— G
3. r = R çš„ x åº§æ¨™
4. s = k^(-1) Ã— (hash + r Ã— privateKey) mod n
5. è¼¸å‡º: (r, s, v)

é©—è­‰éç¨‹:
1. è¨ˆç®— u1 = hash Ã— s^(-1) mod n
2. è¨ˆç®— u2 = r Ã— s^(-1) mod n
3. è¨ˆç®— R' = u1 Ã— G + u2 Ã— PublicKey
4. å¦‚æœ R' çš„ x åº§æ¨™ == rï¼Œå‰‡ç°½åæœ‰æ•ˆ
```

---

## å€å¡Šçµæ§‹è©³è§£

### ğŸ“¦ å®Œæ•´çš„å€å¡Šçµæ§‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Block #19,500,000                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                   â”‚
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“  â”‚
â”‚  â”ƒ                    Block Header (å€å¡Šé ­)                   â”ƒ  â”‚
â”‚  â”£â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”«  â”‚
â”‚  â”ƒ  parentHash: 0xaabbccdd...                                 â”ƒ  â”‚
â”‚  â”ƒ  â†‘ æŒ‡å‘å‰ä¸€å€‹å€å¡Šçš„å“ˆå¸Œï¼ˆå½¢æˆéˆï¼‰                          â”ƒ  â”‚
â”‚  â”ƒ                                                             â”ƒ  â”‚
â”‚  â”ƒ  stateRoot: 0x1122eeff...                                  â”ƒ  â”‚
â”‚  â”ƒ  â†‘ ä¸–ç•Œç‹€æ…‹çš„ Merkle Rootï¼ˆæ‰€æœ‰å¸³æˆ¶ç‹€æ…‹çš„æ‘˜è¦ï¼‰            â”ƒ  â”‚
â”‚  â”ƒ                                                             â”ƒ  â”‚
â”‚  â”ƒ  transactionsRoot: 0x3344aabb...                           â”ƒ  â”‚
â”‚  â”ƒ  â†‘ äº¤æ˜“ Merkle Tree çš„æ ¹ï¼ˆæ‰€æœ‰äº¤æ˜“çš„æ‘˜è¦ï¼‰                 â”ƒ  â”‚
â”‚  â”ƒ                                                             â”ƒ  â”‚
â”‚  â”ƒ  receiptsRoot: 0x5566ccdd...                               â”ƒ  â”‚
â”‚  â”ƒ  â†‘ äº¤æ˜“æ”¶æ“š Merkle Tree çš„æ ¹                               â”ƒ  â”‚
â”‚  â”ƒ                                                             â”ƒ  â”‚
â”‚  â”ƒ  logsBloom: 0x00000000...                                  â”ƒ  â”‚
â”‚  â”ƒ  â†‘ Bloom Filterï¼ˆå¿«é€Ÿæª¢ç´¢äº‹ä»¶æ—¥èªŒï¼‰                        â”ƒ  â”‚
â”‚  â”ƒ                                                             â”ƒ  â”‚
â”‚  â”ƒ  number: 19500000                                          â”ƒ  â”‚
â”‚  â”ƒ  â†‘ å€å¡Šç·¨è™Ÿ                                                 â”ƒ  â”‚
â”‚  â”ƒ                                                             â”ƒ  â”‚
â”‚  â”ƒ  gasLimit: 30000000                                        â”ƒ  â”‚
â”‚  â”ƒ  â†‘ è©²å€å¡Šçš„æœ€å¤§ Gas é™åˆ¶                                    â”ƒ  â”‚
â”‚  â”ƒ                                                             â”ƒ  â”‚
â”‚  â”ƒ  gasUsed: 29856742                                         â”ƒ  â”‚
â”‚  â”ƒ  â†‘ å¯¦éš›ä½¿ç”¨çš„ Gas                                           â”ƒ  â”‚
â”‚  â”ƒ                                                             â”ƒ  â”‚
â”‚  â”ƒ  timestamp: 1704067200                                     â”ƒ  â”‚
â”‚  â”ƒ  â†‘ Unix æ™‚é–“æˆ³ï¼ˆ2024-01-01 00:00:00 UTCï¼‰                  â”ƒ  â”‚
â”‚  â”ƒ                                                             â”ƒ  â”‚
â”‚  â”ƒ  baseFeePerGas: 15000000000                                â”ƒ  â”‚
â”‚  â”ƒ  â†‘ åŸºç¤ Gas è²»ç”¨ï¼ˆ15 gweiï¼‰- EIP-1559                      â”ƒ  â”‚
â”‚  â”ƒ                                                             â”ƒ  â”‚
â”‚  â”ƒ  feeRecipient: 0xValidator...                              â”ƒ  â”‚
â”‚  â”ƒ  â†‘ é©—è­‰è€…åœ°å€ï¼ˆPoS æ©Ÿåˆ¶ï¼‰                                   â”ƒ  â”‚
â”‚  â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›  â”‚
â”‚                                                                   â”‚
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“  â”‚
â”‚  â”ƒ                    Block Body (å€å¡Šé«”)                     â”ƒ  â”‚
â”‚  â”£â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”«  â”‚
â”‚  â”ƒ                                                             â”ƒ  â”‚
â”‚  â”ƒ  Transactions (äº¤æ˜“åˆ—è¡¨):                                  â”ƒ  â”‚
â”‚  â”ƒ                                                             â”ƒ  â”‚
â”‚  â”ƒ  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”ƒ  â”‚
â”‚  â”ƒ  â”‚ TX #1: 0x1111...                    â”‚                   â”ƒ  â”‚
â”‚  â”ƒ  â”‚ â€¢ from: 0xAlice                     â”‚                   â”ƒ  â”‚
â”‚  â”ƒ  â”‚ â€¢ to: 0xBob                         â”‚                   â”ƒ  â”‚
â”‚  â”ƒ  â”‚ â€¢ value: 1 ETH                      â”‚                   â”ƒ  â”‚
â”‚  â”ƒ  â”‚ â€¢ gas: 21000                        â”‚                   â”ƒ  â”‚
â”‚  â”ƒ  â”‚ â€¢ gasPrice: 50 gwei                 â”‚                   â”ƒ  â”‚
â”‚  â”ƒ  â”‚ â€¢ signature: (v, r, s)              â”‚                   â”ƒ  â”‚
â”‚  â”ƒ  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”ƒ  â”‚
â”‚  â”ƒ                                                             â”ƒ  â”‚
â”‚  â”ƒ  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”ƒ  â”‚
â”‚  â”ƒ  â”‚ TX #2: 0x2222...                    â”‚                   â”ƒ  â”‚
â”‚  â”ƒ  â”‚ â€¢ from: 0xCharlie                   â”‚                   â”ƒ  â”‚
â”‚  â”ƒ  â”‚ â€¢ to: 0xUSDT_Contract               â”‚                   â”ƒ  â”‚
â”‚  â”ƒ  â”‚ â€¢ value: 0 ETH                      â”‚                   â”ƒ  â”‚
â”‚  â”ƒ  â”‚ â€¢ data: transfer(Bob, 100 USDT)     â”‚                   â”ƒ  â”‚
â”‚  â”ƒ  â”‚ â€¢ gas: 65000                        â”‚                   â”ƒ  â”‚
â”‚  â”ƒ  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”ƒ  â”‚
â”‚  â”ƒ                                                             â”ƒ  â”‚
â”‚  â”ƒ  ... (ç¸½å…±ç´„ 150-250 ç­†äº¤æ˜“)                                â”ƒ  â”‚
â”‚  â”ƒ                                                             â”ƒ  â”‚
â”‚  â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›  â”‚
â”‚                                                                   â”‚
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“  â”‚
â”‚  â”ƒ                 Transaction Receipts (äº¤æ˜“æ”¶æ“š)            â”ƒ  â”‚
â”‚  â”£â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”«  â”‚
â”‚  â”ƒ                                                             â”ƒ  â”‚
â”‚  â”ƒ  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”ƒ  â”‚
â”‚  â”ƒ  â”‚ Receipt for TX #1:                  â”‚                   â”ƒ  â”‚
â”‚  â”ƒ  â”‚ â€¢ status: 1 (success)               â”‚                   â”ƒ  â”‚
â”‚  â”ƒ  â”‚ â€¢ gasUsed: 21000                    â”‚                   â”ƒ  â”‚
â”‚  â”ƒ  â”‚ â€¢ logs: []                          â”‚                   â”ƒ  â”‚
â”‚  â”ƒ  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”ƒ  â”‚
â”‚  â”ƒ                                                             â”ƒ  â”‚
â”‚  â”ƒ  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”ƒ  â”‚
â”‚  â”ƒ  â”‚ Receipt for TX #2:                  â”‚                   â”ƒ  â”‚
â”‚  â”ƒ  â”‚ â€¢ status: 1 (success)               â”‚                   â”ƒ  â”‚
â”‚  â”ƒ  â”‚ â€¢ gasUsed: 65000                    â”‚                   â”ƒ  â”‚
â”‚  â”ƒ  â”‚ â€¢ logs: [                           â”‚                   â”ƒ  â”‚
â”‚  â”ƒ  â”‚     {                               â”‚                   â”ƒ  â”‚
â”‚  â”ƒ  â”‚       address: 0xUSDT_Contract,     â”‚                   â”ƒ  â”‚
â”‚  â”ƒ  â”‚       topics: [Transfer, Charlie, Bob],                 â”ƒ  â”‚
â”‚  â”ƒ  â”‚       data: 100 USDT                â”‚                   â”ƒ  â”‚
â”‚  â”ƒ  â”‚     }                               â”‚                   â”ƒ  â”‚
â”‚  â”ƒ  â”‚   ]                                 â”‚                   â”ƒ  â”‚
â”‚  â”ƒ  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”ƒ  â”‚
â”‚  â”ƒ                                                             â”ƒ  â”‚
â”‚  â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Block Hash = Keccak256(Block Header)
          = 0xf1e2d3c4b5a6978...
```

### ğŸ”— å€å¡Šå¦‚ä½•ä¸²é€£æˆéˆ

```
Genesis Block          Block #1              Block #2              Block #3
(å‰µä¸–å€å¡Š)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              â”‚     â”‚              â”‚     â”‚              â”‚     â”‚              â”‚
â”‚ Hash:        â”‚     â”‚ Hash:        â”‚     â”‚ Hash:        â”‚     â”‚ Hash:        â”‚
â”‚ 0xaaaa...    â”‚â—€â”€â”€â”€â”€â”‚ 0xbbbb...    â”‚â—€â”€â”€â”€â”€â”‚ 0xcccc...    â”‚â—€â”€â”€â”€â”€â”‚ 0xdddd...    â”‚
â”‚              â”‚     â”‚              â”‚     â”‚              â”‚     â”‚              â”‚
â”‚ Parent:      â”‚     â”‚ Parent:      â”‚     â”‚ Parent:      â”‚     â”‚ Parent:      â”‚
â”‚ 0x0000...    â”‚     â”‚ 0xaaaa...    â”‚     â”‚ 0xbbbb...    â”‚     â”‚ 0xcccc...    â”‚
â”‚              â”‚     â”‚   â†‘          â”‚     â”‚   â†‘          â”‚     â”‚   â†‘          â”‚
â”‚ Number: 0    â”‚     â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚              â”‚     â”‚ Number: 1    â”‚     â”‚ Number: 2    â”‚     â”‚ Number: 3    â”‚
â”‚ Timestamp:   â”‚     â”‚              â”‚     â”‚              â”‚     â”‚              â”‚
â”‚ 1438269988   â”‚     â”‚ Timestamp:   â”‚     â”‚ Timestamp:   â”‚     â”‚ Timestamp:   â”‚
â”‚              â”‚     â”‚ 1438270001   â”‚     â”‚ 1438270013   â”‚     â”‚ 1438270025   â”‚
â”‚ TX: []       â”‚     â”‚              â”‚     â”‚              â”‚     â”‚              â”‚
â”‚              â”‚     â”‚ TX: [...]    â”‚     â”‚ TX: [...]    â”‚     â”‚ TX: [...]    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

é—œéµç‰¹æ€§ï¼š
âœ… æ¯å€‹å€å¡Šéƒ½åŒ…å«å‰ä¸€å€‹å€å¡Šçš„å“ˆå¸Œ (parentHash)
âœ… å½¢æˆä¸€æ¢ä¸å¯ç¯¡æ”¹çš„éˆ
âœ… ä»»ä½•å€å¡Šè¢«ä¿®æ”¹ï¼Œå¾ŒçºŒæ‰€æœ‰å€å¡Šçš„å“ˆå¸Œéƒ½æœƒæ”¹è®Š
âœ… éœ€è¦é‡æ–°è¨ˆç®—æ‰€æœ‰å¾ŒçºŒå€å¡Šï¼ˆå¹¾ä¹ä¸å¯èƒ½ï¼Œå› ç‚ºéœ€è¦å·¨å¤§ç®—åŠ›ï¼‰
```

---

## éŒ¢åŒ…èˆ‡ç›£è½å™¨æ¶æ§‹

### ğŸ’¼ å€å¡ŠéˆéŒ¢åŒ…å®Œæ•´æ¶æ§‹ï¼ˆåŸºæ–¼ç™½æ¿å…§å®¹ï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      å€å¡ŠéˆéŒ¢åŒ…ç³»çµ±æ¶æ§‹                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Layer 1: å‰ç«¯ä½¿ç”¨è€…ä»‹é¢ (Frontend UI)                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                       â”‚
â”‚  â€¢ Web App (React/Vue)                                                â”‚
â”‚  â€¢ Mobile App (React Native/Flutter)                                 â”‚
â”‚  â€¢ Browser Extension (MetaMask æ¶æ§‹)                                 â”‚
â”‚                                                                       â”‚
â”‚  åŠŸèƒ½ï¼š                                                                â”‚
â”‚  - é¡¯ç¤ºéŒ¢åŒ…é¤˜é¡                                                        â”‚
â”‚  - ç™¼èµ·è½‰å¸³                                                            â”‚
â”‚  - æŸ¥çœ‹äº¤æ˜“æ­·å²                                                        â”‚
â”‚  - åˆç´„äº’å‹•ä»‹é¢                                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Layer 2: éŒ¢åŒ…æ ¸å¿ƒé‚è¼¯ (Wallet Core)                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚  â”‚  å¯†é‘°ç®¡ç†æ¨¡çµ„ (Key Management)                â”‚                    â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                    â”‚
â”‚  â”‚  â€¢ åŠ©è¨˜è©ç”Ÿæˆ (BIP39)                         â”‚                    â”‚
â”‚  â”‚    - 12/24 å€‹å–®è©                             â”‚                    â”‚
â”‚  â”‚    - ä¾‹: "army van defense..."               â”‚                    â”‚
â”‚  â”‚                                              â”‚                    â”‚
â”‚  â”‚  â€¢ ç§é‘°æ¨å° (BIP32/BIP44)                     â”‚                    â”‚
â”‚  â”‚    - HD Wallet (åˆ†å±¤ç¢ºå®šæ€§éŒ¢åŒ…)               â”‚                    â”‚
â”‚  â”‚    - Path: m/44'/60'/0'/0/0                  â”‚                    â”‚
â”‚  â”‚                                              â”‚                    â”‚
â”‚  â”‚  â€¢ ç§é‘°å­˜å„²                                    â”‚                    â”‚
â”‚  â”‚    - åŠ å¯†å­˜å„² (AES-256)                       â”‚                    â”‚
â”‚  â”‚    - Keystore æ–‡ä»¶                           â”‚                    â”‚
â”‚  â”‚    - ç¡¬é«”éŒ¢åŒ…æ•´åˆ (Ledger/Trezor)             â”‚                    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â”‚                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚  â”‚  äº¤æ˜“æ§‹é€ æ¨¡çµ„ (Transaction Builder)           â”‚                    â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                    â”‚
â”‚  â”‚  â€¢ æ§‹é€ äº¤æ˜“ç‰©ä»¶                                â”‚                    â”‚
â”‚  â”‚  â€¢ ä¼°ç®— Gas                                   â”‚                    â”‚
â”‚  â”‚  â€¢ è¨­å®š Nonce                                 â”‚                    â”‚
â”‚  â”‚  â€¢ EIP-1559 è²»ç”¨è¨ˆç®—                          â”‚                    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â”‚                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚  â”‚  ç°½åæ¨¡çµ„ (Signing Module)                    â”‚                    â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                    â”‚
â”‚  â”‚  â€¢ ECDSA ç°½å                                 â”‚                    â”‚
â”‚  â”‚  â€¢ EIP-712 ç°½å (çµæ§‹åŒ–æ•¸æ“š)                  â”‚                    â”‚
â”‚  â”‚  â€¢ ç°½åé©—è­‰                                    â”‚                    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â”‚                                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Layer 3: å€å¡Šéˆé€£æ¥å±¤ (Blockchain Connection)                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚  â”‚  RPC å®¢æˆ¶ç«¯ (Web3.js / Ethers.js)            â”‚                    â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                    â”‚
â”‚  â”‚  â€¢ HTTP Provider                              â”‚                    â”‚
â”‚  â”‚  â€¢ WebSocket Provider                         â”‚                    â”‚
â”‚  â”‚  â€¢ IPC Provider (æœ¬åœ°ç¯€é»)                   â”‚                    â”‚
â”‚  â”‚                                              â”‚                    â”‚
â”‚  â”‚  æ”¯æŒçš„ RPC æ–¹æ³•ï¼š                            â”‚                    â”‚
â”‚  â”‚  - eth_sendRawTransaction                    â”‚                    â”‚
â”‚  â”‚  - eth_getBalance                            â”‚                    â”‚
â”‚  â”‚  - eth_getTransactionReceipt                 â”‚                    â”‚
â”‚  â”‚  - eth_call (è®€å–åˆç´„)                       â”‚                    â”‚
â”‚  â”‚  - eth_estimateGas                           â”‚                    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â”‚                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚  â”‚  ç¯€é»æä¾›å•† (Node Providers)                  â”‚                    â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                    â”‚
â”‚  â”‚  â€¢ Infura                                     â”‚                    â”‚
â”‚  â”‚  â€¢ Alchemy                                    â”‚                    â”‚
â”‚  â”‚  â€¢ QuickNode                                  â”‚                    â”‚
â”‚  â”‚  â€¢ è‡ªå»ºç¯€é» (Geth/Erigon)                     â”‚                    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â”‚                                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ğŸ“¡ å€å¡Šéˆç›£è½å™¨æ¶æ§‹ï¼ˆåŸºæ–¼ç™½æ¿ï¼šLog/Event Listenerï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              å€å¡Šéˆäº‹ä»¶ç›£è½å™¨å®Œæ•´æ¶æ§‹                                  â”‚
â”‚          (Blockchain Event Listener Architecture)                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ç›£è½å™¨æ ¸å¿ƒçµ„ä»¶                                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                           â”‚
â”‚  â”‚  1. Block Number Tracker              â”‚                           â”‚
â”‚  â”‚  (å€å¡Šç·¨è™Ÿè¿½è¹¤å™¨)                      â”‚                           â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                           â”‚
â”‚  â”‚  â€¢ æŒçºŒè¼ªè©¢æœ€æ–°å€å¡Šè™Ÿ                  â”‚                           â”‚
â”‚  â”‚  â€¢ æ–¹æ³•: eth_blockNumber              â”‚                           â”‚
â”‚  â”‚  â€¢ é »ç‡: æ¯ 2-5 ç§’                     â”‚                           â”‚
â”‚  â”‚                                       â”‚                           â”‚
â”‚  â”‚  ç•¶å‰å€å¡Š: #19,500,123                â”‚                           â”‚
â”‚  â”‚  ä¸Šæ¬¡è™•ç†: #19,500,120                â”‚                           â”‚
â”‚  â”‚  å¾…è™•ç†: [#19,500,121, #19,500,122]   â”‚                           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                           â”‚
â”‚                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                           â”‚
â”‚  â”‚  2. Transaction List Fetcher          â”‚                           â”‚
â”‚  â”‚  (äº¤æ˜“åˆ—è¡¨ç²å–å™¨)                      â”‚                           â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                           â”‚
â”‚  â”‚  â€¢ ç²å–å€å¡Šä¸­çš„æ‰€æœ‰äº¤æ˜“                â”‚                           â”‚
â”‚  â”‚  â€¢ æ–¹æ³•: eth_getBlockByNumber         â”‚                           â”‚
â”‚  â”‚                                       â”‚                           â”‚
â”‚  â”‚  Block #19,500,121:                   â”‚                           â”‚
â”‚  â”‚    â”œâ”€ TX1: 0x1111...                  â”‚                           â”‚
â”‚  â”‚    â”œâ”€ TX2: 0x2222...                  â”‚                           â”‚
â”‚  â”‚    â”œâ”€ TX3: 0x3333...                  â”‚                           â”‚
â”‚  â”‚    â””â”€ ... (150 ç­†äº¤æ˜“)                â”‚                           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                           â”‚
â”‚                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                           â”‚
â”‚  â”‚  3. Transaction Hash Processor        â”‚                           â”‚
â”‚  â”‚  (äº¤æ˜“å“ˆå¸Œè™•ç†å™¨)                      â”‚                           â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                           â”‚
â”‚  â”‚  â€¢ ç²å–äº¤æ˜“æ”¶æ“š                        â”‚                           â”‚
â”‚  â”‚  â€¢ æ–¹æ³•: eth_getTransactionReceipt    â”‚                           â”‚
â”‚  â”‚                                       â”‚                           â”‚
â”‚  â”‚  for each TX in block:                â”‚                           â”‚
â”‚  â”‚    receipt = getReceipt(tx_hash)      â”‚                           â”‚
â”‚  â”‚    if receipt.logs:                   â”‚                           â”‚
â”‚  â”‚        process_events(receipt.logs)   â”‚                           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                           â”‚
â”‚                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                           â”‚
â”‚  â”‚  4. Event Log Decoder                 â”‚                           â”‚
â”‚  â”‚  (äº‹ä»¶æ—¥èªŒè§£ç¢¼å™¨)                      â”‚                           â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                           â”‚
â”‚  â”‚  è§£ç¢¼äº‹ä»¶æ—¥èªŒï¼š                        â”‚                           â”‚
â”‚  â”‚                                       â”‚                           â”‚
â”‚  â”‚  Log:                                 â”‚                           â”‚
â”‚  â”‚    address: 0xUSDT_Contract           â”‚                           â”‚
â”‚  â”‚    topics: [                          â”‚                           â”‚
â”‚  â”‚      0xddf252ad... (Transfer ç°½å)    â”‚                           â”‚
â”‚  â”‚      0x000...Alice (from)             â”‚                           â”‚
â”‚  â”‚      0x000...Bob   (to)               â”‚                           â”‚
â”‚  â”‚    ]                                  â”‚                           â”‚
â”‚  â”‚    data: 0x0000...0064 (100)          â”‚                           â”‚
â”‚  â”‚                                       â”‚                           â”‚
â”‚  â”‚  è§£ç¢¼å¾Œ:                               â”‚                           â”‚
â”‚  â”‚    Event: Transfer                    â”‚                           â”‚
â”‚  â”‚    From: 0xAlice                      â”‚                           â”‚
â”‚  â”‚    To: 0xBob                          â”‚                           â”‚
â”‚  â”‚    Amount: 100 USDT                   â”‚                           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                           â”‚
â”‚                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                           â”‚
â”‚  â”‚  5. Event Filter & Router             â”‚                           â”‚
â”‚  â”‚  (äº‹ä»¶éæ¿¾èˆ‡è·¯ç”±å™¨)                    â”‚                           â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                           â”‚
â”‚  â”‚  éæ¿¾è¦å‰‡ï¼š                            â”‚                           â”‚
â”‚  â”‚                                       â”‚                           â”‚
â”‚  â”‚  if (event.name == "Transfer" &&      â”‚                           â”‚
â”‚  â”‚      event.to == myAddress):          â”‚                           â”‚
â”‚  â”‚      notify_user("æ”¶åˆ°è½‰å¸³")          â”‚                           â”‚
â”‚  â”‚                                       â”‚                           â”‚
â”‚  â”‚  if (event.contract == "0xUSDT" &&    â”‚                           â”‚
â”‚  â”‚      event.amount > 1000000):         â”‚                           â”‚
â”‚  â”‚      alert_large_transfer()           â”‚                           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                           â”‚
â”‚                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                           â”‚
â”‚  â”‚  6. Data Storage & Indexing           â”‚                           â”‚
â”‚  â”‚  (æ•¸æ“šå­˜å„²èˆ‡ç´¢å¼•)                      â”‚                           â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                           â”‚
â”‚  â”‚  å­˜å„²åˆ°æ•¸æ“šåº«ï¼š                        â”‚                           â”‚
â”‚  â”‚                                       â”‚                           â”‚
â”‚  â”‚  Database: PostgreSQL / MongoDB       â”‚                           â”‚
â”‚  â”‚  Table: transactions                  â”‚                           â”‚
â”‚  â”‚    - tx_hash                          â”‚                           â”‚
â”‚  â”‚    - block_number                     â”‚                           â”‚
â”‚  â”‚    - from_address                     â”‚                           â”‚
â”‚  â”‚    - to_address                       â”‚                           â”‚
â”‚  â”‚    - value                            â”‚                           â”‚
â”‚  â”‚    - timestamp                        â”‚                           â”‚
â”‚  â”‚                                       â”‚                           â”‚
â”‚  â”‚  Table: events                        â”‚                           â”‚
â”‚  â”‚    - event_name                       â”‚                           â”‚
â”‚  â”‚    - contract_address                 â”‚                           â”‚
â”‚  â”‚    - block_number                     â”‚                           â”‚
â”‚  â”‚    - tx_hash                          â”‚                           â”‚
â”‚  â”‚    - decoded_params                   â”‚                           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                           â”‚
â”‚                                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ğŸ”§ é—œéµæŠ€è¡“è©³è§£

#### 1. Event Log çµæ§‹

```javascript
// åŸå§‹ Log æ ¼å¼
{
  "address": "0xdAC17F958D2ee523a2206206994597C13D831ec7",  // USDT åˆç´„åœ°å€
  "topics": [
    "0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef",  // Transfer(address,address,uint256) ç°½å
    "0x000000000000000000000000742d35cc6634c0532925a3b844bc454e4438f44e",  // from (indexed)
    "0x000000000000000000000000c5102fe9359fd9a28f877a67e36b0f050d81a3cc"   // to (indexed)
  ],
  "data": "0x0000000000000000000000000000000000000000000000000000000005f5e100",  // amount (100000000 = 100 USDT)
  "blockNumber": "0x1234567",
  "transactionHash": "0xaabbccdd...",
  "logIndex": "0x0"
}

// Event ç°½åè¨ˆç®—
eventSignature = Keccak256("Transfer(address,address,uint256)")
              = 0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef
```

#### 2. ç›£è½å™¨ä»£ç¢¼å¯¦ä½œï¼ˆPythonï¼‰

```python
from web3 import Web3
import time
import json

# é€£æ¥ç¯€é»
web3 = Web3(Web3.WebsocketProvider("wss://eth-mainnet.ws.infura.io/ws/v3/YOUR-KEY"))

# USDT åˆç´„åœ°å€
USDT_CONTRACT = "0xdAC17F958D2ee523a2206206994597C13D831ec7"

# Transfer äº‹ä»¶ç°½å
TRANSFER_EVENT = web3.keccak(text="Transfer(address,address,uint256)").hex()

class BlockchainListener:
    def __init__(self, web3_instance, monitored_address):
        self.web3 = web3_instance
        self.monitored_address = monitored_address.lower()
        self.last_processed_block = self.web3.eth.block_number

    def get_new_blocks(self):
        """ç²å–æ–°å€å¡Š"""
        current_block = self.web3.eth.block_number

        if current_block > self.last_processed_block:
            new_blocks = range(self.last_processed_block + 1, current_block + 1)
            self.last_processed_block = current_block
            return new_blocks

        return []

    def process_block(self, block_number):
        """è™•ç†å–®å€‹å€å¡Š"""
        print(f"Processing Block #{block_number}")

        # ç²å–å€å¡Š
        block = self.web3.eth.get_block(block_number, full_transactions=True)

        # éæ­·æ‰€æœ‰äº¤æ˜“
        for tx in block['transactions']:
            self.process_transaction(tx)

    def process_transaction(self, tx):
        """è™•ç†å–®ç­†äº¤æ˜“"""
        # ç²å–äº¤æ˜“æ”¶æ“š
        receipt = self.web3.eth.get_transaction_receipt(tx['hash'])

        # æª¢æŸ¥äº¤æ˜“æ˜¯å¦æˆåŠŸ
        if receipt['status'] != 1:
            return

        # è™•ç†äº‹ä»¶æ—¥èªŒ
        for log in receipt['logs']:
            self.process_event(log, tx)

    def process_event(self, log, tx):
        """è™•ç†äº‹ä»¶æ—¥èªŒ"""
        # åªè™•ç† USDT åˆç´„çš„ Transfer äº‹ä»¶
        if log['address'].lower() != USDT_CONTRACT.lower():
            return

        if len(log['topics']) == 0 or log['topics'][0].hex() != TRANSFER_EVENT:
            return

        # è§£ç¢¼äº‹ä»¶
        from_address = '0x' + log['topics'][1].hex()[-40:]
        to_address = '0x' + log['topics'][2].hex()[-40:]
        amount = int(log['data'].hex(), 16)

        # æª¢æŸ¥æ˜¯å¦èˆ‡ç›£æ§åœ°å€ç›¸é—œ
        if from_address.lower() == self.monitored_address or \
           to_address.lower() == self.monitored_address:

            print(f"\nğŸ”” USDT Transfer Detected!")
            print(f"   TX Hash: {tx['hash'].hex()}")
            print(f"   From: {from_address}")
            print(f"   To: {to_address}")
            print(f"   Amount: {amount / 1e6} USDT")  # USDT æœ‰ 6 ä½å°æ•¸
            print(f"   Block: {tx['blockNumber']}")

            # é€™è£¡å¯ä»¥ï¼š
            # - ç™¼é€é€šçŸ¥çµ¦ä½¿ç”¨è€…
            # - å­˜å„²åˆ°æ•¸æ“šåº«
            # - è§¸ç™¼å…¶ä»–æ¥­å‹™é‚è¼¯
            self.notify_user(from_address, to_address, amount, tx['hash'].hex())

    def notify_user(self, from_addr, to_addr, amount, tx_hash):
        """é€šçŸ¥ä½¿ç”¨è€…"""
        if to_addr.lower() == self.monitored_address:
            print(f"âœ… æ‚¨æ”¶åˆ°äº† {amount / 1e6} USDT")
        else:
            print(f"ğŸ“¤ æ‚¨ç™¼é€äº† {amount / 1e6} USDT")

        # å¯ä»¥æ•´åˆï¼š
        # - Email é€šçŸ¥
        # - Push é€šçŸ¥
        # - Webhook
        # - WebSocket æ¨é€åˆ°å‰ç«¯

    def start(self):
        """å•Ÿå‹•ç›£è½å™¨"""
        print(f"ğŸš€ Blockchain Listener Started")
        print(f"ğŸ“ Monitoring Address: {self.monitored_address}")
        print(f"ğŸ“¦ Starting from Block: {self.last_processed_block}")

        while True:
            try:
                # ç²å–æ–°å€å¡Š
                new_blocks = self.get_new_blocks()

                # è™•ç†æ¯å€‹æ–°å€å¡Š
                for block_num in new_blocks:
                    self.process_block(block_num)

                # ç­‰å¾… 2 ç§’ï¼ˆä»¥å¤ªåŠå¹³å‡å‡ºå¡Šæ™‚é–“ç´„ 12 ç§’ï¼‰
                time.sleep(2)

            except KeyboardInterrupt:
                print("\nâ›” Listener Stopped")
                break
            except Exception as e:
                print(f"âŒ Error: {e}")
                time.sleep(5)

# ä½¿ç”¨ç¯„ä¾‹
if __name__ == "__main__":
    # æ‚¨è¦ç›£æ§çš„éŒ¢åŒ…åœ°å€
    MY_ADDRESS = "0x742d35Cc6634C0532925a3b844Bc454e4438f44e"

    listener = BlockchainListener(web3, MY_ADDRESS)
    listener.start()
```

#### 3. ä½¿ç”¨ WebSocket çš„é«˜æ•ˆç›£è½ï¼ˆæ›´æ¨è–¦ï¼‰

```python
from web3 import Web3
import asyncio

# WebSocket é€£æ¥
web3 = Web3(Web3.WebsocketProvider("wss://eth-mainnet.ws.infura.io/ws/v3/YOUR-KEY"))

async def listen_pending_transactions():
    """ç›£è½å¾…è™•ç†äº¤æ˜“ï¼ˆMempoolï¼‰"""
    # è¨‚é–± pending transactions
    pending_filter = web3.eth.filter('pending')

    while True:
        try:
            # ç²å–æ–°çš„å¾…è™•ç†äº¤æ˜“
            for tx_hash in pending_filter.get_new_entries():
                tx = web3.eth.get_transaction(tx_hash)

                # æª¢æŸ¥æ˜¯å¦æ˜¯ç™¼é€çµ¦æˆ‘å€‘ç›£æ§çš„åœ°å€
                if tx['to'] and tx['to'].lower() == MY_ADDRESS.lower():
                    print(f"âš¡ Incoming Pending TX: {tx_hash.hex()}")
                    print(f"   From: {tx['from']}")
                    print(f"   Value: {web3.from_wei(tx['value'], 'ether')} ETH")

            await asyncio.sleep(1)

        except Exception as e:
            print(f"Error: {e}")
            await asyncio.sleep(5)

async def listen_new_blocks():
    """ç›£è½æ–°å€å¡Š"""
    block_filter = web3.eth.filter('latest')

    while True:
        try:
            for block_hash in block_filter.get_new_entries():
                block = web3.eth.get_block(block_hash, full_transactions=True)
                print(f"\nğŸ“¦ New Block: #{block['number']}")
                print(f"   Transactions: {len(block['transactions'])}")
                print(f"   Gas Used: {block['gasUsed']}")

            await asyncio.sleep(1)

        except Exception as e:
            print(f"Error: {e}")
            await asyncio.sleep(5)

async def listen_logs():
    """ç›£è½ç‰¹å®šåˆç´„çš„äº‹ä»¶æ—¥èªŒ"""
    # å‰µå»ºæ—¥èªŒéæ¿¾å™¨
    log_filter = web3.eth.filter({
        'address': USDT_CONTRACT,
        'topics': [TRANSFER_EVENT]
    })

    while True:
        try:
            for log in log_filter.get_new_entries():
                # è§£ç¢¼
                from_addr = '0x' + log['topics'][1].hex()[-40:]
                to_addr = '0x' + log['topics'][2].hex()[-40:]
                amount = int(log['data'].hex(), 16)

                print(f"\nğŸ’¸ USDT Transfer:")
                print(f"   From: {from_addr}")
                print(f"   To: {to_addr}")
                print(f"   Amount: {amount / 1e6} USDT")

            await asyncio.sleep(1)

        except Exception as e:
            print(f"Error: {e}")
            await asyncio.sleep(5)

# åŒæ™‚é‹è¡Œå¤šå€‹ç›£è½å™¨
async def main():
    await asyncio.gather(
        listen_pending_transactions(),
        listen_new_blocks(),
        listen_logs()
    )

if __name__ == "__main__":
    asyncio.run(main())
```

---

## æ ¸å¿ƒæ¦‚å¿µå±¤ç´š

### ğŸ“Š å±¤ç´šå°æ‡‰è¡¨

| å±¤ç´š | æ¦‚å¿µ | å®šç¾© | ä½ç½® | ä¾‹å­ |
|------|------|------|------|------|
| **L1: äº¤æ˜“è¼¸å…¥** | From/To/Gas | äº¤æ˜“ç™¼èµ·çš„åŸºæœ¬åƒæ•¸ | äº¤æ˜“å­—æ®µ | `from: 0xAlice`<br>`to: 0xUSDT`<br>`gas: 100000` |
| **L2: äº¤æ˜“è­˜åˆ¥** | Transfer Hash | äº¤æ˜“çš„å”¯ä¸€å“ˆå¸Œ | äº¤æ˜“å±¤ | `0x1234...5678`<br>(TXID) |
| **L2b: ä½ç½®æ¨™è¨˜** | Block Number | äº¤æ˜“æ‰€åœ¨å€å¡Š | å€å¡Šå±¤ | `#19000000` |
| **L3: ä»£ç¢¼åŸ·è¡Œ** | Smart Contract | å€å¡Šéˆä¸Šçš„ç¨‹å¼ | åˆç´„å±¤ | USDT åˆç´„<br>`@ 0xdac17f95...` |
| **L4: åŸ·è¡Œè¿½è¹¤** | Debug Trace | åŸ·è¡Œçš„å®Œæ•´æ­¥é©Ÿ | è¿½è¹¤å±¤ | `CALL, SSTORE`<br>`REVERT, emit` |
| **L5: åŸ·è¡Œç´°ç¯€** | Opcode Level | æœ€ç´°ç²’åº¦çš„æ“ä½œ | EVM å±¤ | `PUSH1, ADD`<br>`SSTORE, REVERT` |

### ğŸ—ï¸ æ¶æ§‹è¦–åœ–

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  ä½¿ç”¨è€…å±¤ (L0)                   â”‚
â”‚              Alice ç™¼èµ·è½‰å¸³æ“ä½œ                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              äº¤æ˜“åƒæ•¸å±¤ (L1)                     â”‚
â”‚  From: 0xAlice  |  To: 0xUSDT  |  Gas: 100000  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              äº¤æ˜“æ¨™è­˜å±¤ (L2)                     â”‚
â”‚        Transfer Hash: 0x1234...5678             â”‚
â”‚        Block Number: #19000000                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              åˆç´„åŸ·è¡Œå±¤ (L3)                     â”‚
â”‚          USDT Contract @ 0xdac17f95...          â”‚
â”‚           Function: transfer(Bob, 100)          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              åŸ·è¡Œè¿½è¹¤å±¤ (L4)                     â”‚
â”‚    Debug Trace: CALL â†’ SSTORE â†’ EMIT â†’ RETURN  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              EVM æ“ä½œå±¤ (L5)                     â”‚
â”‚         Opcodes: PUSH1 â†’ ADD â†’ SSTORE           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## äº¤æ˜“ç”Ÿå‘½é€±æœŸè©³è§£

ï¼ˆè©³ç´°å…§å®¹è«‹åƒè€ƒä¸Šæ–¹ã€Œå®Œæ•´äº¤æ˜“æµç¨‹åœ–ã€ç« ç¯€ï¼Œå·²åŒ…å« 10 å€‹æ­¥é©Ÿçš„å®Œæ•´èªªæ˜ï¼‰

---

## å¯¦æˆ°ä»£ç¢¼ç¯„ä¾‹

### ğŸ› ï¸ å®Œæ•´éŒ¢åŒ…å¯¦ä½œï¼ˆå¾é›¶é–‹å§‹ï¼‰

```python
from web3 import Web3
from eth_account import Account
from mnemonic import Mnemonic
import json

class EthereumWallet:
    """å®Œæ•´çš„ä»¥å¤ªåŠéŒ¢åŒ…å¯¦ä½œ"""

    def __init__(self, rpc_url="https://eth-mainnet.infura.io/v3/YOUR-KEY"):
        self.web3 = Web3(Web3.HTTPProvider(rpc_url))
        self.account = None

    # ============================================
    # 1. å‰µå»ºæ–°éŒ¢åŒ…
    # ============================================
    def create_wallet(self):
        """å‰µå»ºæ–°éŒ¢åŒ…ï¼ˆç”ŸæˆåŠ©è¨˜è©ï¼‰"""
        # ç”ŸæˆåŠ©è¨˜è©
        mnemo = Mnemonic("english")
        mnemonic = mnemo.generate(strength=128)  # 12 å€‹å–®è©

        print("ğŸ”‘ æ–°éŒ¢åŒ…å·²å‰µå»ºï¼")
        print(f"åŠ©è¨˜è©: {mnemonic}")
        print("âš ï¸ è«‹å¦¥å–„ä¿ç®¡åŠ©è¨˜è©ï¼Œé€™æ˜¯æ¢å¾©éŒ¢åŒ…çš„å”¯ä¸€æ–¹å¼ï¼\n")

        # å¾åŠ©è¨˜è©æ¨å°ç§é‘°
        Account.enable_unaudited_hdwallet_features()
        self.account = Account.from_mnemonic(mnemonic)

        self._print_wallet_info()

        return {
            'mnemonic': mnemonic,
            'address': self.account.address,
            'private_key': self.account.key.hex()
        }

    # ============================================
    # 2. å°å…¥éŒ¢åŒ…
    # ============================================
    def import_from_mnemonic(self, mnemonic):
        """å¾åŠ©è¨˜è©å°å…¥éŒ¢åŒ…"""
        Account.enable_unaudited_hdwallet_features()
        self.account = Account.from_mnemonic(mnemonic)
        print("âœ… éŒ¢åŒ…å·²å°å…¥")
        self._print_wallet_info()

    def import_from_private_key(self, private_key):
        """å¾ç§é‘°å°å…¥éŒ¢åŒ…"""
        self.account = Account.from_key(private_key)
        print("âœ… éŒ¢åŒ…å·²å°å…¥")
        self._print_wallet_info()

    def _print_wallet_info(self):
        """æ‰“å°éŒ¢åŒ…è³‡è¨Š"""
        print(f"åœ°å€: {self.account.address}")
        print(f"ç§é‘°: {self.account.key.hex()}\n")

    # ============================================
    # 3. æŸ¥è©¢é¤˜é¡
    # ============================================
    def get_balance(self, address=None):
        """æŸ¥è©¢ ETH é¤˜é¡"""
        if address is None:
            address = self.account.address

        balance_wei = self.web3.eth.get_balance(address)
        balance_eth = self.web3.from_wei(balance_wei, 'ether')

        print(f"ğŸ’° åœ°å€: {address}")
        print(f"   é¤˜é¡: {balance_eth} ETH\n")

        return float(balance_eth)

    def get_token_balance(self, token_contract_address, decimals=18):
        """æŸ¥è©¢ ERC20 ä»£å¹£é¤˜é¡"""
        # ERC20 balanceOf ABI
        abi = [{
            "constant": True,
            "inputs": [{"name": "_owner", "type": "address"}],
            "name": "balanceOf",
            "outputs": [{"name": "balance", "type": "uint256"}],
            "type": "function"
        }]

        contract = self.web3.eth.contract(address=token_contract_address, abi=abi)
        balance = contract.functions.balanceOf(self.account.address).call()

        balance_formatted = balance / (10 ** decimals)

        print(f"ğŸª™ ä»£å¹£é¤˜é¡: {balance_formatted}")
        return balance_formatted

    # ============================================
    # 4. ç™¼é€ ETH
    # ============================================
    def send_eth(self, to_address, amount_eth, gas_price_gwei=None):
        """ç™¼é€ ETH"""
        if self.account is None:
            raise Exception("è«‹å…ˆå°å…¥éŒ¢åŒ…")

        # ç²å– nonce
        nonce = self.web3.eth.get_transaction_count(self.account.address)

        # è¨­å®š Gas Price
        if gas_price_gwei is None:
            gas_price = self.web3.eth.gas_price
        else:
            gas_price = self.web3.to_wei(gas_price_gwei, 'gwei')

        # æ§‹å»ºäº¤æ˜“
        transaction = {
            'nonce': nonce,
            'to': to_address,
            'value': self.web3.to_wei(amount_eth, 'ether'),
            'gas': 21000,
            'gasPrice': gas_price,
            'chainId': 1  # ä¸»ç¶²
        }

        # ç°½åäº¤æ˜“
        signed_tx = self.web3.eth.account.sign_transaction(transaction, self.account.key)

        # ç™¼é€äº¤æ˜“
        tx_hash = self.web3.eth.send_raw_transaction(signed_tx.rawTransaction)

        print(f"ğŸ“¤ äº¤æ˜“å·²ç™¼é€ï¼")
        print(f"   TX Hash: {tx_hash.hex()}")
        print(f"   From: {self.account.address}")
        print(f"   To: {to_address}")
        print(f"   Amount: {amount_eth} ETH")
        print(f"   Gas Price: {self.web3.from_wei(gas_price, 'gwei')} gwei\n")

        # ç­‰å¾…ç¢ºèª
        print("â³ ç­‰å¾…äº¤æ˜“ç¢ºèª...")
        receipt = self.web3.eth.wait_for_transaction_receipt(tx_hash)

        if receipt['status'] == 1:
            print("âœ… äº¤æ˜“æˆåŠŸï¼")
            print(f"   Block: {receipt['blockNumber']}")
            print(f"   Gas Used: {receipt['gasUsed']}")
        else:
            print("âŒ äº¤æ˜“å¤±æ•—")

        return tx_hash.hex()

    # ============================================
    # 5. ç™¼é€ ERC20 ä»£å¹£
    # ============================================
    def send_token(self, token_contract_address, to_address, amount, decimals=18):
        """ç™¼é€ ERC20 ä»£å¹£"""
        # ERC20 transfer ABI
        abi = [{
            "constant": False,
            "inputs": [
                {"name": "_to", "type": "address"},
                {"name": "_value", "type": "uint256"}
            ],
            "name": "transfer",
            "outputs": [{"name": "", "type": "bool"}],
            "type": "function"
        }]

        contract = self.web3.eth.contract(address=token_contract_address, abi=abi)

        # è½‰æ›é‡‘é¡
        amount_wei = int(amount * (10 ** decimals))

        # ç²å– nonce
        nonce = self.web3.eth.get_transaction_count(self.account.address)

        # æ§‹å»ºäº¤æ˜“
        transaction = contract.functions.transfer(
            to_address,
            amount_wei
        ).build_transaction({
            'nonce': nonce,
            'gas': 100000,
            'gasPrice': self.web3.eth.gas_price,
            'chainId': 1
        })

        # ç°½åä¸¦ç™¼é€
        signed_tx = self.web3.eth.account.sign_transaction(transaction, self.account.key)
        tx_hash = self.web3.eth.send_raw_transaction(signed_tx.rawTransaction)

        print(f"ğŸ“¤ ä»£å¹£è½‰å¸³å·²ç™¼é€ï¼")
        print(f"   TX Hash: {tx_hash.hex()}")

        receipt = self.web3.eth.wait_for_transaction_receipt(tx_hash)

        if receipt['status'] == 1:
            print("âœ… è½‰å¸³æˆåŠŸï¼")
        else:
            print("âŒ è½‰å¸³å¤±æ•—")

        return tx_hash.hex()

    # ============================================
    # 6. æŸ¥è©¢äº¤æ˜“è©³æƒ…
    # ============================================
    def get_transaction(self, tx_hash):
        """æŸ¥è©¢äº¤æ˜“è©³æƒ…"""
        tx = self.web3.eth.get_transaction(tx_hash)
        receipt = self.web3.eth.get_transaction_receipt(tx_hash)

        print(f"ğŸ“‹ äº¤æ˜“è©³æƒ…:")
        print(f"   Hash: {tx_hash}")
        print(f"   From: {tx['from']}")
        print(f"   To: {tx['to']}")
        print(f"   Value: {self.web3.from_wei(tx['value'], 'ether')} ETH")
        print(f"   Block: {receipt['blockNumber']}")
        print(f"   Gas Used: {receipt['gasUsed']}")
        print(f"   Status: {'Success' if receipt['status'] == 1 else 'Failed'}")

        return {'transaction': tx, 'receipt': receipt}


# ============================================
# ä½¿ç”¨ç¤ºä¾‹
# ============================================
if __name__ == "__main__":
    # å‰µå»ºéŒ¢åŒ…å¯¦ä¾‹
    wallet = EthereumWallet()

    # æ–¹æ³• 1: å‰µå»ºæ–°éŒ¢åŒ…
    # wallet_info = wallet.create_wallet()

    # æ–¹æ³• 2: å°å…¥ç¾æœ‰éŒ¢åŒ…
    wallet.import_from_private_key("YOUR_PRIVATE_KEY")

    # æŸ¥è©¢é¤˜é¡
    wallet.get_balance()

    # æŸ¥è©¢ USDT é¤˜é¡
    USDT_CONTRACT = "0xdAC17F958D2ee523a2206206994597C13D831ec7"
    wallet.get_token_balance(USDT_CONTRACT, decimals=6)

    # ç™¼é€ ETH
    # wallet.send_eth("0xRecipient...", 0.01)

    # ç™¼é€ USDT
    # wallet.send_token(USDT_CONTRACT, "0xRecipient...", 100, decimals=6)
```

---

## å¸¸è¦‹å•é¡Œ FAQ

### Q1: Transfer Hash å’Œ Block Hash æœ‰ä»€éº¼å€åˆ¥ï¼Ÿ

**ç­”**ï¼š
- **Transfer Hash (äº¤æ˜“å“ˆå¸Œ)**ï¼š
  - æ¨™è­˜å–®ç­†äº¤æ˜“
  - ç”±äº¤æ˜“æ•¸æ“šè¨ˆç®—å¾—å‡º
  - æ ¼å¼ï¼š`0x1234...` (64 å­—ç¬¦)

- **Block Hash (å€å¡Šå“ˆå¸Œ)**ï¼š
  - æ¨™è­˜æ•´å€‹å€å¡Š
  - ç”±å€å¡Šé ­æ•¸æ“šè¨ˆç®—å¾—å‡º
  - åŒ…å«å€å¡Šå…§æ‰€æœ‰äº¤æ˜“çš„ Merkle Root

```
Block Hash: 0xaabbccdd...  (å€å¡Šå”¯ä¸€æ¨™è­˜)
  â”œâ”€ Transaction 1: 0x1111...
  â”œâ”€ Transaction 2: 0x2222...  â† Transfer Hash
  â””â”€ Transaction 3: 0x3333...
```

---

### Q2: ç‚ºä»€éº¼æˆ‘çš„äº¤æ˜“ä¸€ç›´ Pendingï¼Ÿ

**å¯èƒ½åŸå› **ï¼š

1. **Gas Price å¤ªä½**
   - è§£æ±ºï¼šæé«˜ Gas Price æˆ–ä½¿ç”¨ EIP-1559

2. **Nonce éŒ¯èª¤**
   - è§£æ±ºï¼šæª¢æŸ¥ nonce æ˜¯å¦é€£çºŒ

3. **ç¶²è·¯æ“å µ**
   - è§£æ±ºï¼šç­‰å¾…æˆ–ä½¿ç”¨åŠ é€Ÿå·¥å…·

4. **Gas Limit ä¸è¶³**
   - è§£æ±ºï¼šå¢åŠ  Gas Limit

---

### Q3: ç§é‘°æ´©æ¼æœƒæ€æ¨£ï¼Ÿ

**ç­”**ï¼š
- âŒ ä»»ä½•äººéƒ½èƒ½ç”¨æ‚¨çš„ç§é‘°ç°½åäº¤æ˜“
- âŒ æ‚¨çš„æ‰€æœ‰è³‡ç”¢éƒ½æœƒè¢«ç›œ
- âŒ **ç„¡æ³•è¿½å›**ï¼ˆå€å¡Šéˆäº¤æ˜“ä¸å¯é€†ï¼‰

**é˜²è­·æªæ–½**ï¼š
- âœ… æ°¸ä¸åœ¨ç¶²è·¯ä¸Šå‚³è¼¸ç§é‘°
- âœ… ä½¿ç”¨ç¡¬é«”éŒ¢åŒ…ï¼ˆLedger/Trezorï¼‰
- âœ… å‚™ä»½åŠ©è¨˜è©åˆ°ç‰©ç†ä»‹è³ªï¼ˆç´™å¼µã€é‡‘å±¬æ¿ï¼‰
- âœ… ä½¿ç”¨å¤šç°½éŒ¢åŒ…ï¼ˆå¤§é¡è³‡ç”¢ï¼‰

---

### Q4: ä¸€æ¢éˆå¯ä»¥éƒ¨ç½²å¤šå°‘å€‹åˆç´„ï¼Ÿ

**ç­”**ï¼šç†è«–ä¸Š**ç„¡é™å€‹**ï¼

- æ¯å€‹åˆç´„éƒ½æœ‰å”¯ä¸€çš„åœ°å€
- ç›®å‰ä»¥å¤ªåŠä¸»ç¶²ä¸Šå·²æœ‰æ•¸ç™¾è¬å€‹åˆç´„
- åˆç´„åœ°å€ç”±éƒ¨ç½²è€…åœ°å€å’Œ nonce è¨ˆç®—å¾—å‡º

```python
# åˆç´„åœ°å€è¨ˆç®—å…¬å¼
contract_address = Keccak256(
    RLP([deployer_address, nonce])
)[12:]  # å–å¾Œ 20 ä½å…ƒçµ„
```

---

### Q5: Gas Used å’Œ Gas Limit çš„å€åˆ¥ï¼Ÿ

| æ¦‚å¿µ | å®šç¾© | ä½•æ™‚ç¢ºå®š | èƒ½å¦é€€å› |
|------|------|---------|---------|
| **Gas Limit** | é¡˜æ„æ”¯ä»˜çš„**æœ€å¤§** Gas | ç™¼é€äº¤æ˜“å‰ | âœ… æœªç”¨å®Œæœƒé€€å› |
| **Gas Used** | **å¯¦éš›æ¶ˆè€—**çš„ Gas | äº¤æ˜“åŸ·è¡Œå¾Œ | âŒ å·²æ¶ˆè€—ä¸é€€å› |

**ä¾‹å­**ï¼š
```
Gas Limit: 100,000  (ä½ é¡˜æ„æœ€å¤šèŠ±é€™éº¼å¤š)
Gas Used:  52,345   (å¯¦éš›åªç”¨äº†é€™éº¼å¤š)
Gas Refund: 47,655  (é€€å›çµ¦ä½ )

æœ€çµ‚è²»ç”¨ = 52,345 Ã— Gas Price
```

---

## ç¸½çµ

### ğŸ¯ æ ¸å¿ƒè¦é»å›é¡§

1ï¸âƒ£ **éˆã€åˆç´„ã€å€å¡Šçš„é—œä¿‚**ï¼š
   - ä¸€æ¢éˆ = ä¸€å€‹å®Œæ•´çš„å€å¡Šéˆç¶²è·¯
   - ä¸€å€‹å€å¡Š = éˆä¸Šçš„ä¸€å€‹æ•¸æ“šå–®ä½
   - ä¸€å€‹åˆç´„ = éƒ¨ç½²åœ¨éˆä¸Šçš„ä¸€æ®µç¨‹å¼ç¢¼
   - **âŒ ä¸€æ¢éˆ â‰  ä¸€å€‹åˆç´„**ï¼ˆé€™æ˜¯éŒ¯èª¤è§€å¿µï¼‰

2ï¸âƒ£ **ç‚ºä»€éº¼éœ€è¦ç§é‘°ç°½ç« **ï¼š
   - âœ… è­‰æ˜äº¤æ˜“ç¢ºå¯¦ç”±æ‚¨ç™¼èµ·ï¼ˆèº«ä»½é©—è­‰ï¼‰
   - âœ… é˜²æ­¢äº¤æ˜“è¢«ç¯¡æ”¹ï¼ˆå®Œæ•´æ€§ï¼‰
   - âœ… ç„¡æ³•å¦èªäº¤æ˜“ï¼ˆä¸å¯å¦èªæ€§ï¼‰
   - **âŒ æ²’æœ‰ç°½ç«  = ä»»ä½•äººéƒ½èƒ½å½é€ æ‚¨çš„äº¤æ˜“ï¼**

3ï¸âƒ£ **å®Œæ•´äº¤æ˜“æµç¨‹**ï¼š
   - æ­¥é©Ÿ 0-1ï¼šæ§‹é€ äº¤æ˜“
   - æ­¥é©Ÿ 2ï¼šç§é‘°ç°½ç« ï¼ˆæœ€é—œéµï¼ï¼‰
   - æ­¥é©Ÿ 3-4ï¼šå»£æ’­åˆ°ç¶²è·¯ï¼Œé€²å…¥ Mempool
   - æ­¥é©Ÿ 5-6ï¼šé©—è­‰è€…æ‰“åŒ…é€²å€å¡Š
   - æ­¥é©Ÿ 7ï¼šEVM åŸ·è¡Œäº¤æ˜“
   - æ­¥é©Ÿ 8-9ï¼šå€å¡Šå…±è­˜èˆ‡ç¢ºèª
   - æ­¥é©Ÿ 10ï¼šäº¤æ˜“å®Œæˆ

4ï¸âƒ£ **éŒ¢åŒ…èˆ‡ç›£è½å™¨**ï¼š
   - éŒ¢åŒ…è² è²¬ï¼šå¯†é‘°ç®¡ç†ã€äº¤æ˜“ç°½åã€é¤˜é¡æŸ¥è©¢
   - ç›£è½å™¨è² è²¬ï¼šè¿½è¹¤å€å¡Šã€è§£æäº‹ä»¶ã€é€šçŸ¥ä½¿ç”¨è€…

---

## æ›´æ–°æ—¥èªŒ

- **2025-01-13**: ç¹é«”ä¸­æ–‡å®Œæ•´ç‰ˆå‰µå»º
  - è©³ç´°è§£é‡‹éˆã€åˆç´„ã€å€å¡Šçš„é—œä¿‚
  - å®Œæ•´äº¤æ˜“æµç¨‹ï¼ˆ10 å€‹æ­¥é©Ÿï¼‰
  - ç§é‘°ç°½ç« çš„å¿…è¦æ€§èˆ‡åŸç†
  - å€å¡Šçµæ§‹è©³è§£
  - éŒ¢åŒ…èˆ‡ç›£è½å™¨æ¶æ§‹ï¼ˆåŸºæ–¼ç™½æ¿å…§å®¹ï¼‰
  - å®Œæ•´ä»£ç¢¼å¯¦ä½œç¯„ä¾‹

---

**æœ¬æ–‡æª”æŒçºŒæ›´æ–°ä¸­...**

å¦‚æœ‰å•é¡Œæˆ–å»ºè­°ï¼Œæ­¡è¿æäº¤ Issueï¼
