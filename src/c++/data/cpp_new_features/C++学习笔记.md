# C++å­¸ç¿’ç­†è¨˜

## ä¸€ã€åŸºç¤çŸ¥è­˜

## [ğŸ“C++åŸºç¤å…¥é–€.md](https://github.com/0voice/cpp_new_features/blob/main/C%2B%2B%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.md)

### 1ã€goto èªå¥(ä¸å»ºè­°ä½¿ç”¨)

**ä½œç”¨ï¼š** å¯ä»¥ç„¡æ¢ä»¶çš„è·³è½‰èªå¥

**èªæ³•ï¼š** `goto æ¨™è¨˜;`

**è§£é‡‹ï¼š** å¦‚æœæ¨™è¨˜çš„åç¨±å­˜åœ¨ï¼ŒåŸ·è¡Œåˆ°gotoèªå¥æ™‚ï¼Œæœƒè·³è½‰åˆ°æ¨™è¨˜çš„ä½ç½®

```cpp
int main() {
    cout << 1 << endl;
    cout << 2 << endl;
    goto FLAG;
    cout << 3 << endl;
    cout << 4 << endl;
    FLAG:
    cout << 5 << endl;
    return 0;
}
```

### 2ã€ä¸€ç¶­æ•¸çµ„

ä¸€ç¶­æ•¸çµ„åç¨±çš„**ç”¨é€”**

1. å¯ä»¥çµ±è¨ˆæ•´å€‹æ•¸çµ„åœ¨å…§å­˜ä¸­çš„é•·åº¦
2. å¯ä»¥ç²å–æ•¸çµ„åœ¨å…§å­˜ä¸­çš„é¦–åœ°å€



**ç¤ºä¾‹ï¼š**

```cpp
int main() {

	//æ•¸çµ„åç”¨é€”
	//1ã€å¯ä»¥ç²å–æ•´å€‹æ•¸çµ„ä½”ç”¨å…§å­˜ç©ºé–“å¤§å°
	int arr[10] = { 1,2,3,4,5,6,7,8,9,10 };

	cout << "æ•´å€‹æ•¸çµ„æ‰€ä½”å…§å­˜ç©ºé–“ç‚ºï¼š " << sizeof(arr) << endl;
	cout << "æ¯å€‹å…ƒç´ æ‰€ä½”å…§å­˜ç©ºé–“ç‚ºï¼š " << sizeof(arr[0]) << endl;
	cout << "æ•¸çµ„çš„å…ƒç´ å€‹æ•¸ç‚ºï¼š " << sizeof(arr) / sizeof(arr[0]) << endl;

	//2ã€å¯ä»¥é€šéæ•¸çµ„åç²å–åˆ°æ•¸çµ„é¦–åœ°å€
	cout << "æ•¸çµ„é¦–åœ°å€ç‚ºï¼š " << (int)arr << endl;
	cout << "æ•¸çµ„ä¸­ç¬¬ä¸€å€‹å…ƒç´ åœ°å€ç‚ºï¼š " << (int)&arr[0] << endl;
	cout << "æ•¸çµ„ä¸­ç¬¬äºŒå€‹å…ƒç´ åœ°å€ç‚ºï¼š " << (int)&arr[1] << endl;

	//arr = 100; éŒ¯èª¤ï¼Œæ•¸çµ„åæ˜¯å¸¸é‡ï¼Œå› æ­¤ä¸å¯ä»¥è³¦å€¼


	system("pause");

	return 0;
}
```

æ³¨æ„ï¼šæ•¸çµ„åæ˜¯å¸¸é‡ï¼Œä¸å¯ä»¥è³¦å€¼

ç¸½çµ1ï¼šç›´æ¥æ‰“å°æ•¸çµ„åï¼Œå¯ä»¥æŸ¥çœ‹æ•¸çµ„æ‰€ä½”å…§å­˜çš„é¦–åœ°å€

ç¸½çµ2ï¼šå°æ•¸çµ„åé€²è¡Œsizeofï¼Œå¯ä»¥ç²å–æ•´å€‹æ•¸çµ„ä½”å…§å­˜ç©ºé–“çš„å¤§å°



### 3ã€äºŒç¶­æ•¸çµ„



äºŒç¶­æ•¸çµ„å®šç¾©çš„å››ç¨®æ–¹å¼ï¼š

1. `æ•¸æ“šé¡å‹ æ•¸çµ„å[ è¡Œæ•¸ ][ åˆ—æ•¸ ];`
2. `æ•¸æ“šé¡å‹ æ•¸çµ„å[ è¡Œæ•¸ ][ åˆ—æ•¸ ] = { {æ•¸æ“š1ï¼Œæ•¸æ“š2 } ï¼Œ{æ•¸æ“š3ï¼Œæ•¸æ“š4 } };`
3. `æ•¸æ“šé¡å‹ æ•¸çµ„å[ è¡Œæ•¸ ][ åˆ—æ•¸ ] = { æ•¸æ“š1ï¼Œæ•¸æ“š2ï¼Œæ•¸æ“š3ï¼Œæ•¸æ“š4};`
4. `æ•¸æ“šé¡å‹ æ•¸çµ„å[ ][ åˆ—æ•¸ ] = { æ•¸æ“š1ï¼Œæ•¸æ“š2ï¼Œæ•¸æ“š3ï¼Œæ•¸æ“š4};`

- æŸ¥çœ‹äºŒç¶­æ•¸çµ„æ‰€ä½”å…§å­˜ç©ºé–“
- ç²å–äºŒç¶­æ•¸çµ„é¦–åœ°å€

```cpp
int main() {

	//äºŒç¶­æ•¸çµ„æ•¸çµ„å
	int arr[2][3] =
	{
		{1,2,3},
		{4,5,6}
	};

	cout << "äºŒç¶­æ•¸çµ„å¤§å°ï¼š " << sizeof(arr) << endl;
	cout << "äºŒç¶­æ•¸çµ„ä¸€è¡Œå¤§å°ï¼š " << sizeof(arr[0]) << endl;
	cout << "äºŒç¶­æ•¸çµ„å…ƒç´ å¤§å°ï¼š " << sizeof(arr[0][0]) << endl;

	cout << "äºŒç¶­æ•¸çµ„è¡Œæ•¸ï¼š " << sizeof(arr) / sizeof(arr[0]) << endl;
	cout << "äºŒç¶­æ•¸çµ„åˆ—æ•¸ï¼š " << sizeof(arr[0]) / sizeof(arr[0][0]) << endl;

	//åœ°å€
	cout << "äºŒç¶­æ•¸çµ„é¦–åœ°å€ï¼š" << arr << endl;
	cout << "äºŒç¶­æ•¸çµ„ç¬¬ä¸€è¡Œåœ°å€ï¼š" << arr[0] << endl;
	cout << "äºŒç¶­æ•¸çµ„ç¬¬äºŒè¡Œåœ°å€ï¼š" << arr[1] << endl;

	cout << "äºŒç¶­æ•¸çµ„ç¬¬ä¸€å€‹å…ƒç´ åœ°å€ï¼š" << &arr[0][0] << endl;
	cout << "äºŒç¶­æ•¸çµ„ç¬¬äºŒå€‹å…ƒç´ åœ°å€ï¼š" << &arr[0][1] << endl;

	system("pause");

	return 0;
}
```

ç¸½çµ1ï¼šäºŒç¶­æ•¸çµ„åå°±æ˜¯é€™å€‹æ•¸çµ„çš„é¦–åœ°å€

ç¸½çµ2ï¼šå°äºŒç¶­æ•¸çµ„åé€²è¡Œsizeofæ™‚ï¼Œå¯ä»¥ç²å–æ•´å€‹äºŒç¶­æ•¸çµ„ä½”ç”¨çš„å…§å­˜ç©ºé–“å¤§å°



### 4ã€å‡½æ•¸ä¸­çš„å€¼å‚³é

- æ‰€è¬‚å€¼å‚³éï¼Œå°±æ˜¯å‡½æ•¸èª¿ç”¨æ™‚å¯¦åƒå°‡æ•¸å€¼å‚³å…¥çµ¦å½¢åƒ
- å€¼å‚³éæ™‚ï¼Œå¦‚æœå½¢åƒç™¼ç”Ÿï¼Œä¸¦ä¸æœƒå½±éŸ¿å¯¦åƒ(æ³¨æ„ï¼šå’ŒJavaä¸­ä¸åŒ)

```cpp
void swap(int num1, int num2)
{
	cout << "äº¤æ›å‰ï¼š" << endl;
	cout << "num1 = " << num1 << endl;
	cout << "num2 = " << num2 << endl;

	int temp = num1;
	num1 = num2;
	num2 = temp;

	cout << "äº¤æ›å¾Œï¼š" << endl;
	cout << "num1 = " << num1 << endl;
	cout << "num2 = " << num2 << endl;

	//return ; ç•¶å‡½æ•¸è²æ˜æ™‚å€™ï¼Œä¸éœ€è¦è¿”å›å€¼ï¼Œå¯ä»¥ä¸å¯«return
}

int main() {

	int a = 10;
	int b = 20;

	swap(a, b);

	cout << "mianä¸­çš„ a = " << a << endl;
	cout << "mianä¸­çš„ b = " << b << endl;

	system("pause");

	return 0;
}
```

ç¸½çµï¼š å€¼å‚³éæ™‚ï¼Œå½¢åƒæ˜¯ä¿®é£¾ä¸äº†å¯¦åƒçš„



### 5ã€å‡½æ•¸çš„è²æ˜



**ä½œç”¨ï¼š** å‘Šè¨´ç·¨è­¯å™¨å‡½æ•¸åç¨±åŠå¦‚ä½•èª¿ç”¨å‡½æ•¸ã€‚å‡½æ•¸çš„å¯¦éš›ä¸»é«”å¯ä»¥å–®ç¨å®šç¾©ã€‚

- å‡½æ•¸çš„**è²æ˜å¯ä»¥å¤šæ¬¡**ï¼Œä½†æ˜¯å‡½æ•¸çš„**å®šç¾©åªèƒ½æœ‰ä¸€æ¬¡**



**(åœ¨Cä¸­ï¼Œå¦‚æœä¸è‡ªå®šç¾©å‡½æ•¸åœ¨mainæ–¹æ³•ä¹‹å¾Œå®šç¾©ï¼Œå¦‚æœmainæ–¹æ³•èª¿ç”¨äº†æ­¤å‡½æ•¸ï¼Œå‰‡mainæ–¹æ³•æ‰¾ä¸åˆ°æ­¤å‡½æ•¸ï¼Œå› æ­¤éœ€è¦æå‰è²æ˜)**

å’ŒJavaä¸­ä¸åŒ



### 6ã€å‡½æ•¸çš„åˆ†æ–‡ä»¶ç·¨å¯«



**ä½œç”¨ï¼š** è®“ä»£ç¢¼çµæ§‹æ›´åŠ æ¸…æ™°

å‡½æ•¸åˆ†æ–‡ä»¶ç·¨å¯«ä¸€èˆ¬æœ‰4å€‹æ­¥é©Ÿ

1. å‰µå»ºå¾Œç¶´åç‚º.hçš„é ­æ–‡ä»¶  
2. å‰µå»ºå¾Œç¶´åç‚º.cppçš„æºæ–‡ä»¶

1. åœ¨é ­æ–‡ä»¶ä¸­å¯«å‡½æ•¸çš„è²æ˜
2. åœ¨æºæ–‡ä»¶ä¸­å¯«å‡½æ•¸çš„å®šç¾©



**ç¤ºä¾‹ï¼š**

```cpp
//swap.hæ–‡ä»¶
#include<iostream>
using namespace std;

//å¯¦ç¾å…©å€‹æ•¸å­—äº¤æ›çš„å‡½æ•¸è²æ˜
void swap(int a, int b);
//swap.cppæ–‡ä»¶
#include "swap.h"

void swap(int a, int b)
{
	int temp = a;
	a = b;
	b = temp;

	cout << "a = " << a << endl;
	cout << "b = " << b << endl;
}
//mainå‡½æ•¸æ–‡ä»¶
#include "swap.h"
int main() {

	int a = 100;
	int b = 200;
	swap(a, b);

	system("pause");

	return 0;
}
```



### 7ã€æŒ‡é‡



#### 7.1 æŒ‡é‡çš„åŸºæœ¬æ¦‚å¿µ

**æŒ‡é‡çš„ä½œç”¨ï¼š** å¯ä»¥é€šéæŒ‡é‡é–“æ¥è¨ªå•å…§å­˜

- å…§å­˜ç·¨è™Ÿæ˜¯å¾0é–‹å§‹è¨˜éŒ„çš„ï¼Œä¸€èˆ¬ç”¨åå…­é€²åˆ¶æ•¸å­—è¡¨ç¤º
- å¯ä»¥åˆ©ç”¨æŒ‡é‡è®Šé‡ä¿å­˜åœ°å€



#### 7.2 æŒ‡é‡è®Šé‡çš„å®šç¾©å’Œä½¿ç”¨

æŒ‡é‡è®Šé‡å®šç¾©èªæ³•ï¼š `æ•¸æ“šé¡å‹ * è®Šé‡å;`

**ç¤ºä¾‹ï¼š**

```cpp
int main() {

	//1ã€æŒ‡é‡çš„å®šç¾©
	int a = 10; //å®šç¾©æ•´å‹è®Šé‡a
	
	//æŒ‡é‡å®šç¾©èªæ³•ï¼š æ•¸æ“šé¡å‹ * è®Šé‡å ;
	int * p;

	//æŒ‡é‡è®Šé‡è³¦å€¼
	p = &a; //æŒ‡é‡æŒ‡å‘è®Šé‡açš„åœ°å€
	cout << &a << endl; //æ‰“å°æ•¸æ“šaçš„åœ°å€
	cout << p << endl;  //æ‰“å°æŒ‡é‡è®Šé‡p

	//2ã€æŒ‡é‡çš„ä½¿ç”¨
	//é€šé*æ“ä½œæŒ‡é‡è®Šé‡æŒ‡å‘çš„å…§å­˜
	cout << "*p = " << *p << endl;

	system("pause");

	return 0;
}
```

æŒ‡é‡è®Šé‡å’Œæ™®é€šè®Šé‡çš„å€åˆ¥

- æ™®é€šè®Šé‡å­˜æ”¾çš„æ˜¯æ•¸æ“š,æŒ‡é‡è®Šé‡å­˜æ”¾çš„æ˜¯åœ°å€
- æŒ‡é‡è®Šé‡å¯ä»¥é€šé" * "æ“ä½œç¬¦ï¼Œæ“ä½œæŒ‡é‡è®Šé‡æŒ‡å‘çš„å…§å­˜ç©ºé–“ï¼Œé€™å€‹éç¨‹ç¨±ç‚ºè§£å¼•ç”¨

ç¸½çµ1ï¼š æˆ‘å€‘å¯ä»¥é€šé & ç¬¦è™Ÿ ç²å–è®Šé‡çš„åœ°å€

ç¸½çµ2ï¼šåˆ©ç”¨æŒ‡é‡å¯ä»¥è¨˜éŒ„åœ°å€

ç¸½çµ3ï¼šå°æŒ‡é‡è®Šé‡è§£å¼•ç”¨ï¼Œå¯ä»¥æ“ä½œæŒ‡é‡æŒ‡å‘çš„å…§å­˜



#### 7.3 æŒ‡é‡æ‰€ä½”å…§å­˜ç©ºé–“

æå•ï¼šæŒ‡é‡ä¹Ÿæ˜¯ç¨®æ•¸æ“šé¡å‹ï¼Œé‚£éº¼é€™ç¨®æ•¸æ“šé¡å‹ä½”ç”¨å¤šå°‘å…§å­˜ç©ºé–“ï¼Ÿ

**ç¤ºä¾‹ï¼š**

```cpp
int main() {

	int a = 10;

	int * p;
	p = &a; //æŒ‡é‡æŒ‡å‘æ•¸æ“šaçš„åœ°å€

	cout << *p << endl; //* è§£å¼•ç”¨
	cout << sizeof(p) << endl;
	cout << sizeof(char *) << endl;
	cout << sizeof(float *) << endl;
	cout << sizeof(double *) << endl;

	system("pause");

	return 0;
}
```

ç¸½çµï¼šæ‰€æœ‰æŒ‡é‡é¡å‹åœ¨32ä½æ“ä½œç³»çµ±ä¸‹æ˜¯4å€‹å­—ç¯€ï¼Œ64ä½æ“ä½œç³»çµ±ç‚º8å€‹å­—ç¯€

#### 7.4 ç©ºæŒ‡é‡å’Œé‡æŒ‡é‡

**ç©ºæŒ‡é‡**ï¼šæŒ‡é‡è®Šé‡æŒ‡å‘å…§å­˜ä¸­ç·¨è™Ÿç‚º0çš„ç©ºé–“

**ç”¨é€”ï¼š** åˆå§‹åŒ–æŒ‡é‡è®Šé‡

**æ³¨æ„ï¼š** ç©ºæŒ‡é‡æŒ‡å‘çš„å…§å­˜æ˜¯ä¸å¯ä»¥è¨ªå•çš„


**ç¤ºä¾‹1ï¼šç©ºæŒ‡é‡**

```cpp
int main() {

	//æŒ‡é‡è®Šé‡pæŒ‡å‘å…§å­˜åœ°å€ç·¨è™Ÿç‚º0çš„ç©ºé–“
	int * p = NULL;

	//è¨ªå•ç©ºæŒ‡é‡å ±éŒ¯ 
	//å…§å­˜ç·¨è™Ÿ0 ~255ç‚ºç³»çµ±ä½”ç”¨å…§å­˜ï¼Œä¸å…è¨±ç”¨æˆ¶è¨ªå•
	cout << *p << endl;

	system("pause");

	return 0;
}
```



**é‡æŒ‡é‡**ï¼šæŒ‡é‡è®Šé‡æŒ‡å‘éæ³•çš„å…§å­˜ç©ºé–“

**ç¤ºä¾‹2ï¼šé‡æŒ‡é‡**

```cpp
int main() {

	//æŒ‡é‡è®Šé‡pæŒ‡å‘å…§å­˜åœ°å€ç·¨è™Ÿç‚º0x1100çš„ç©ºé–“
	int * p = (int *)0x1100;

	//è¨ªå•é‡æŒ‡é‡å ±éŒ¯ 
	cout << *p << endl;

	system("pause");

	return 0;
}
```

ç¸½çµï¼šç©ºæŒ‡é‡å’Œé‡æŒ‡é‡éƒ½ä¸æ˜¯æˆ‘å€‘ç”³è«‹çš„ç©ºé–“ï¼Œå› æ­¤ä¸è¦è¨ªå•ã€‚


#### 7.5 constä¿®é£¾æŒ‡é‡


constä¿®é£¾æŒ‡é‡æœ‰ä¸‰ç¨®æƒ…æ³

1. constä¿®é£¾æŒ‡é‡   --- å¸¸é‡æŒ‡é‡
2. constä¿®é£¾å¸¸é‡   --- æŒ‡é‡å¸¸é‡

1. constæ—¢ä¿®é£¾æŒ‡é‡ï¼Œåˆä¿®é£¾å¸¸é‡


**ç¤ºä¾‹ï¼š**

```cpp
int main() {

	int a = 10;
	int b = 10;

	//constä¿®é£¾çš„æ˜¯æŒ‡é‡ï¼ŒæŒ‡é‡æŒ‡å‘å¯ä»¥æ”¹ï¼ŒæŒ‡é‡æŒ‡å‘çš„å€¼ä¸å¯ä»¥æ›´æ”¹
	const int * p1 = &a; 
	p1 = &b; //æ­£ç¢º
	//*p1 = 100;  å ±éŒ¯
	

	//constä¿®é£¾çš„æ˜¯å¸¸é‡ï¼ŒæŒ‡é‡æŒ‡å‘ä¸å¯ä»¥æ”¹ï¼ŒæŒ‡é‡æŒ‡å‘çš„å€¼å¯ä»¥æ›´æ”¹
	int * const p2 = &a;
	//p2 = &b; //éŒ¯èª¤
	*p2 = 100; //æ­£ç¢º

    //constæ—¢ä¿®é£¾æŒ‡é‡åˆä¿®é£¾å¸¸é‡
	const int * const p3 = &a;
	//p3 = &b; //éŒ¯èª¤
	//*p3 = 100; //éŒ¯èª¤

	system("pause");

	return 0;
}
```

æŠ€å·§ï¼šçœ‹constå³å´ç·Šè·Ÿè‘—çš„æ˜¯æŒ‡é‡é‚„æ˜¯å¸¸é‡, æ˜¯æŒ‡é‡å°±æ˜¯å¸¸é‡æŒ‡é‡ï¼Œæ˜¯å¸¸é‡å°±æ˜¯æŒ‡é‡å¸¸é‡



#### 7.6 æŒ‡é‡å’Œæ•¸çµ„



**ä½œç”¨ï¼š** åˆ©ç”¨æŒ‡é‡è¨ªå•æ•¸çµ„ä¸­å…ƒç´ 

**ç¤ºä¾‹ï¼š**

```cpp
int main() {

	int arr[] = { 1,2,3,4,5,6,7,8,9,10 };

	int * p = arr;  //æŒ‡å‘æ•¸çµ„çš„æŒ‡é‡

	cout << "ç¬¬ä¸€å€‹å…ƒç´ ï¼š " << arr[0] << endl;
	cout << "æŒ‡é‡è¨ªå•ç¬¬ä¸€å€‹å…ƒç´ ï¼š " << *p << endl;

	for (int i = 0; i < 10; i++)
	{
		//åˆ©ç”¨æŒ‡é‡éæ­·æ•¸çµ„
		cout << *p << endl;
		p++;
	}

	system("pause");

	return 0;
}
```



#### 7.7 æŒ‡é‡å’Œå‡½æ•¸

**ä½œç”¨ï¼š** åˆ©ç”¨æŒ‡é‡ä½œå‡½æ•¸åƒæ•¸ï¼Œå¯ä»¥ä¿®æ”¹å¯¦åƒçš„å€¼(å’Œå‰é‚Šå½¢åƒç›¸å)



**ç¤ºä¾‹ï¼š**

```cpp
//å€¼å‚³é
void swap1(int a ,int b)
{
	int temp = a;
	a = b; 
	b = temp;
}
//åœ°å€å‚³é
void swap2(int * p1, int *p2)
{
	int temp = *p1;
	*p1 = *p2;
	*p2 = temp;
}

int main() {

	int a = 10;
	int b = 20;
	swap1(a, b); // å€¼å‚³éä¸æœƒæ”¹è®Šå¯¦åƒ

	swap2(&a, &b); //åœ°å€å‚³éæœƒæ”¹è®Šå¯¦åƒ

	cout << "a = " << a << endl;

	cout << "b = " << b << endl;

	system("pause");

	return 0;
}
```

ç¸½çµï¼šå¦‚æœä¸æƒ³ä¿®æ”¹å¯¦åƒï¼Œå°±ç”¨å€¼å‚³éï¼Œå¦‚æœæƒ³ä¿®æ”¹å¯¦åƒï¼Œå°±ç”¨åœ°å€å‚³é



#### 7.8 æŒ‡é‡ã€æ•¸çµ„ã€å‡½æ•¸



**æ¡ˆä¾‹æè¿°ï¼š** å°è£ä¸€å€‹å‡½æ•¸ï¼Œåˆ©ç”¨å†’æ³¡æ’åºï¼Œå¯¦ç¾å°æ•´å‹æ•¸çµ„çš„å‡åºæ’åº

ä¾‹å¦‚æ•¸çµ„ï¼šint arr[10] = { 4,3,6,9,1,2,10,8,7,5 };



**ç¤ºä¾‹ï¼š**

```cpp
//å†’æ³¡æ’åºå‡½æ•¸
void bubbleSort(int * arr, int len)  //int * arr ä¹Ÿå¯ä»¥å¯«ç‚ºint arr[]
{
	for (int i = 0; i < len - 1; i++)
	{
		for (int j = 0; j < len - 1 - i; j++)
		{
			if (arr[j] > arr[j + 1])
			{
				int temp = arr[j];
				arr[j] = arr[j + 1];
				arr[j + 1] = temp;
			}
		}
	}
}

//æ‰“å°æ•¸çµ„å‡½æ•¸
void printArray(int arr[], int len)
{
	for (int i = 0; i < len; i++)
	{
		cout << arr[i] << endl;
	}
}

int main() {

	int arr[10] = { 4,3,6,9,1,2,10,8,7,5 };
	int len = sizeof(arr) / sizeof(int);

	bubbleSort(arr, len);

	printArray(arr, len);

	system("pause");

	return 0;
}
```

### 8ã€çµæ§‹é«”



#### 8.1 çµæ§‹é«”åŸºæœ¬æ¦‚å¿µ

çµæ§‹é«”å±¬æ–¼ç”¨æˆ¶ è‡ªå®šç¾©çš„æ•¸æ“šé¡å‹ï¼Œå…è¨±ç”¨æˆ¶å­˜å„²ä¸åŒçš„æ•¸æ“šé¡å‹

(è·ŸJavaä¸­çš„å°è±¡æ¯”è¼ƒåƒï¼Œä½†æ˜¯éš»æœ‰å±¬æ€§ï¼Œæ²’æœ‰æ–¹æ³•ã€‚ä¸‹é¢å…¶ä»–çš„çµæ§‹é«”ä½¿ç”¨ï¼Œéƒ½å¯ä»¥é¡æ¯”Javaä¸­å°è±¡çš„ä½¿ç”¨)



#### 8.2 çµæ§‹é«”å®šç¾©å’Œä½¿ç”¨

**èªæ³•ï¼š** `struct çµæ§‹é«”å { çµæ§‹é«”æˆå“¡åˆ—è¡¨ }ï¼›`

é€šéçµæ§‹é«”å‰µå»ºè®Šé‡çš„æ–¹å¼æœ‰ä¸‰ç¨®ï¼š

- struct çµæ§‹é«”å è®Šé‡å
- struct çµæ§‹é«”å è®Šé‡å = { æˆå“¡1å€¼ ï¼Œ æˆå“¡2å€¼...}

- å®šç¾©çµæ§‹é«”æ™‚é †ä¾¿å‰µå»ºè®Šé‡
- 

**ç¤ºä¾‹ï¼š**

```cpp
//çµæ§‹é«”å®šç¾©
struct student
{
	//æˆå“¡åˆ—è¡¨
	string name;  //å§“å
	int age;      //å¹´é½¡
	int score;    //åˆ†æ•¸
}stu3; //çµæ§‹é«”è®Šé‡å‰µå»ºæ–¹å¼3 


int main() {

	//çµæ§‹é«”è®Šé‡å‰µå»ºæ–¹å¼1
	struct student stu1; //struct é—œéµå­—å¯ä»¥çœç•¥

	stu1.name = "å¼µä¸‰";
	stu1.age = 18;
	stu1.score = 100;
	
	cout << "å§“åï¼š" << stu1.name << " å¹´é½¡ï¼š" << stu1.age  << " åˆ†æ•¸ï¼š" << stu1.score << endl;

	//çµæ§‹é«”è®Šé‡å‰µå»ºæ–¹å¼2
	struct student stu2 = { "æå››",19,60 };

	cout << "å§“åï¼š" << stu2.name << " å¹´é½¡ï¼š" << stu2.age  << " åˆ†æ•¸ï¼š" << stu2.score << endl;


	stu3.name = "ç‹äº”";
	stu3.age = 18;
	stu3.score = 80;
	

	cout << "å§“åï¼š" << stu3.name << " å¹´é½¡ï¼š" << stu3.age  << " åˆ†æ•¸ï¼š" << stu3.score << endl;

	system("pause");

	return 0;
}
```

ç¸½çµ1ï¼šå®šç¾©çµæ§‹é«”æ™‚çš„é—œéµå­—æ˜¯structï¼Œä¸å¯çœç•¥

ç¸½çµ2ï¼šå‰µå»ºçµæ§‹é«”è®Šé‡æ™‚ï¼Œé—œéµå­—structå¯ä»¥çœç•¥

ç¸½çµ3ï¼šçµæ§‹é«”è®Šé‡åˆ©ç”¨æ“ä½œç¬¦ ''.''  è¨ªå•æˆå“¡



#### 8.3 çµæ§‹é«”æ•¸çµ„

**ä½œç”¨ï¼š** å°‡è‡ªå®šç¾©çš„çµæ§‹é«”æ”¾å…¥åˆ°æ•¸çµ„ä¸­æ–¹ä¾¿ç¶­è­·

**èªæ³•ï¼š** `struct  çµæ§‹é«”å æ•¸çµ„å[å…ƒç´ å€‹æ•¸] = {  {} , {} , ... {} }`



**ç¤ºä¾‹ï¼š**

```cpp
//çµæ§‹é«”å®šç¾©
struct student
{
	//æˆå“¡åˆ—è¡¨
	string name;  //å§“å
	int age;      //å¹´é½¡
	int score;    //åˆ†æ•¸
}

int main() {
	
	//çµæ§‹é«”æ•¸çµ„
	struct student arr[3]=
	{
		{"å¼µä¸‰",18,80 },
		{"æå››",19,60 },
		{"ç‹äº”",20,70 }
	};

	for (int i = 0; i < 3; i++)
	{
		cout << "å§“åï¼š" << arr[i].name << " å¹´é½¡ï¼š" << arr[i].age << " åˆ†æ•¸ï¼š" << arr[i].score << endl;
	}

	system("pause");

	return 0;
}
```



#### 8.4 çµæ§‹é«”æŒ‡é‡

**ä½œç”¨ï¼š** é€šéæŒ‡é‡è¨ªå•çµæ§‹é«”ä¸­çš„æˆå“¡

- åˆ©ç”¨æ“ä½œç¬¦ `->`å¯ä»¥é€šéçµæ§‹é«”æŒ‡é‡è¨ªå•çµæ§‹é«”å±¬æ€§



**ç¤ºä¾‹ï¼š**

```cpp
//çµæ§‹é«”å®šç¾©
struct student
{
	//æˆå“¡åˆ—è¡¨
	string name;  //å§“å
	int age;      //å¹´é½¡
	int score;    //åˆ†æ•¸
};


int main() {
	
	struct student stu = { "å¼µä¸‰",18,100, };
	
	struct student * p = &stu;
	
	p->score = 80; //æŒ‡é‡é€šé -> æ“ä½œç¬¦å¯ä»¥è¨ªå•æˆå“¡

	cout << "å§“åï¼š" << p->name << " å¹´é½¡ï¼š" << p->age << " åˆ†æ•¸ï¼š" << p->score << endl;
	
	system("pause");

	return 0;
}
```

ç¸½çµï¼šçµæ§‹é«”æŒ‡é‡å¯ä»¥é€šé -> æ“ä½œç¬¦ ä¾†è¨ªå•çµæ§‹é«”ä¸­çš„æˆå“¡



#### 8.5 çµæ§‹é«”åµŒå¥—çµæ§‹é«”

**ä½œç”¨ï¼š** çµæ§‹é«”ä¸­çš„æˆå“¡å¯ä»¥æ˜¯å¦ä¸€å€‹çµæ§‹é«”

**ä¾‹å¦‚ï¼š** æ¯å€‹è€å¸«è¼”å°ä¸€å€‹å­¸å“¡ï¼Œä¸€å€‹è€å¸«çš„çµæ§‹é«”ä¸­ï¼Œè¨˜éŒ„ä¸€å€‹å­¸ç”Ÿçš„çµæ§‹é«”

**ç¤ºä¾‹ï¼š**

```cpp
//å­¸ç”Ÿçµæ§‹é«”å®šç¾©struct student{	//æˆå“¡åˆ—è¡¨	string name;  //å§“å	int age;      //å¹´é½¡	int score;    //åˆ†æ•¸};//æ•™å¸«çµæ§‹é«”å®šç¾©struct teacher{    //æˆå“¡åˆ—è¡¨	int id; //è·å·¥ç·¨è™Ÿ	string name;  //æ•™å¸«å§“å	int age;   //æ•™å¸«å¹´é½¡	struct student stu; //å­çµæ§‹é«” å­¸ç”Ÿ};int main() {	struct teacher t1;	t1.id = 10000;	t1.name = "è€ç‹";	t1.age = 40;	t1.stu.name = "å¼µä¸‰";	t1.stu.age = 18;	t1.stu.score = 100;	cout << "æ•™å¸« è·å·¥ç·¨è™Ÿï¼š " << t1.id << " å§“åï¼š " << t1.name << " å¹´é½¡ï¼š " << t1.age << endl;		cout << "è¼”å°å­¸å“¡ å§“åï¼š " << t1.stu.name << " å¹´é½¡ï¼š" << t1.stu.age << " è€ƒè©¦åˆ†æ•¸ï¼š " << t1.stu.score << endl;	system("pause");	return 0;}
```

**ç¸½çµï¼š** åœ¨çµæ§‹é«”ä¸­å¯ä»¥å®šç¾©å¦ä¸€å€‹çµæ§‹é«”ä½œç‚ºæˆå“¡ï¼Œç”¨ä¾†è§£æ±ºå¯¦éš›å•é¡Œ





#### 8.6 çµæ§‹é«”åšå‡½æ•¸åƒæ•¸ 

**ä½œç”¨ï¼š** å°‡çµæ§‹é«”ä½œç‚ºåƒæ•¸å‘å‡½æ•¸ä¸­å‚³é

å‚³éæ–¹å¼æœ‰å…©ç¨®ï¼š

- å€¼å‚³é
- åœ°å€å‚³é

**ç¤ºä¾‹ï¼š**

```cpp
//å­¸ç”Ÿçµæ§‹é«”å®šç¾©
struct student
{
	//æˆå“¡åˆ—è¡¨
	string name;  //å§“å
	int age;      //å¹´é½¡
	int score;    //åˆ†æ•¸
};

//å€¼å‚³é
void printStudent(student stu )
{
	stu.age = 28;
	cout << "å­å‡½æ•¸ä¸­ å§“åï¼š" << stu.name << " å¹´é½¡ï¼š " << stu.age  << " åˆ†æ•¸ï¼š" << stu.score << endl;
}

//åœ°å€å‚³é
void printStudent2(student *stu)
{
	stu->age = 28;
	cout << "å­å‡½æ•¸ä¸­ å§“åï¼š" << stu->name << " å¹´é½¡ï¼š " << stu->age  << " åˆ†æ•¸ï¼š" << stu->score << endl;
}

int main() {

	student stu = { "å¼µä¸‰",18,100};
	//å€¼å‚³é
	printStudent(stu);
	cout << "ä¸»å‡½æ•¸ä¸­ å§“åï¼š" << stu.name << " å¹´é½¡ï¼š " << stu.age << " åˆ†æ•¸ï¼š" << stu.score << endl;

	cout << endl;

	//åœ°å€å‚³é
	printStudent2(&stu);
	cout << "ä¸»å‡½æ•¸ä¸­ å§“åï¼š" << stu.name << " å¹´é½¡ï¼š " << stu.age  << " åˆ†æ•¸ï¼š" << stu.score << endl;

	system("pause");

	return 0;
}
```

ç¸½çµï¼šå¦‚æœä¸æƒ³ä¿®æ”¹ä¸»å‡½æ•¸ä¸­çš„æ•¸æ“šï¼Œç”¨å€¼å‚³éï¼Œåä¹‹ç”¨åœ°å€å‚³é



#### 8.7 çµæ§‹é«”ä¸­ constä½¿ç”¨å ´æ™¯

**ä½œç”¨ï¼š** ç”¨constä¾†é˜²æ­¢èª¤æ“ä½œ

**ç¤ºä¾‹ï¼š**

```cpp
//å­¸ç”Ÿçµæ§‹é«”å®šç¾©
struct student
{
	//æˆå“¡åˆ—è¡¨
	string name;  //å§“å
	int age;      //å¹´é½¡
	int score;    //åˆ†æ•¸
};

//constä½¿ç”¨å ´æ™¯
void printStudent(const student *stu) //åŠ consté˜²æ­¢å‡½æ•¸é«”ä¸­çš„èª¤æ“ä½œ
{
	//stu->age = 100; //æ“ä½œå¤±æ•—ï¼Œå› ç‚ºåŠ äº†constä¿®é£¾
	cout << "å§“åï¼š" << stu->name << " å¹´é½¡ï¼š" << stu->age << " åˆ†æ•¸ï¼š" << stu->score << endl;

}

int main() {

	student stu = { "å¼µä¸‰",18,100 };

	printStudent(&stu);

	system("pause");

	return 0;
}
```

## äºŒã€æ ¸å¿ƒç·¨ç¨‹

C++ä¸­çš„é¢å‘å°è±¡ç·¨ç¨‹ï¼ˆç¬‘ï¼‰

## [ğŸ“C++æ ¸å¿ƒç·¨ç¨‹.md](https://github.com/0voice/cpp_new_features/blob/main/C%2B%2B%E6%A0%B8%E5%BF%83%E7%BC%96%E7%A8%8B.md)



### 1ã€å…§å­˜åˆ†å€æ¨¡å‹

C++ç¨‹åºåœ¨åŸ·è¡Œæ™‚ï¼Œå°‡å…§å­˜å¤§æ–¹å‘åŠƒåˆ†ç‚º**4å€‹å€åŸŸ**

- ä»£ç¢¼å€ï¼šå­˜æ”¾å‡½æ•¸é«”çš„äºŒé€²åˆ¶ä»£ç¢¼ï¼Œç”±æ“ä½œç³»çµ±é€²è¡Œç®¡ç†çš„
- å…¨å±€å€ï¼šå­˜æ”¾å…¨å±€è®Šé‡å’Œéœæ…‹è®Šé‡ä»¥åŠå¸¸é‡

- æ£§å€ï¼šç”±ç·¨è­¯å™¨è‡ªå‹•åˆ†é…é‡‹æ”¾, å­˜æ”¾å‡½æ•¸çš„åƒæ•¸å€¼,å±€éƒ¨è®Šé‡ç­‰
- å †å€ï¼šç”±ç¨‹åºå“¡åˆ†é…å’Œé‡‹æ”¾,è‹¥ç¨‹åºå“¡ä¸é‡‹æ”¾,ç¨‹åºçµæŸæ™‚ç”±æ“ä½œç³»çµ±å›æ”¶



**å…§å­˜å››å€æ„ç¾©ï¼š**

ä¸åŒå€åŸŸå­˜æ”¾çš„æ•¸æ“šï¼Œè³¦äºˆä¸åŒçš„ç”Ÿå‘½é€±æœŸ, çµ¦æˆ‘å€‘æ›´å¤§çš„éˆæ´»ç·¨ç¨‹


#### 1.1 ç¨‹åºé‹è¡Œå‰

åœ¨ç¨‹åºç·¨è­¯å¾Œï¼Œç”Ÿæˆäº†exeå¯åŸ·è¡Œç¨‹åºï¼Œ**æœªåŸ·è¡Œè©²ç¨‹åºå‰**åˆ†ç‚ºå…©å€‹å€åŸŸ

- ä»£ç¢¼å€ï¼š

- - å­˜æ”¾ CPU åŸ·è¡Œçš„æ©Ÿå™¨æŒ‡ä»¤
  - ä»£ç¢¼å€æ˜¯**å…±äº«**çš„ï¼Œå…±äº«çš„ç›®çš„æ˜¯å°æ–¼é »ç¹è¢«åŸ·è¡Œçš„ç¨‹åºï¼Œåªéœ€è¦åœ¨å…§å­˜ä¸­æœ‰ä¸€ä»½ä»£ç¢¼å³å¯

- - ä»£ç¢¼å€æ˜¯**åªè®€**çš„ï¼Œä½¿å…¶åªè®€çš„åŸå› æ˜¯é˜²æ­¢ç¨‹åºæ„å¤–åœ°ä¿®æ”¹äº†å®ƒçš„æŒ‡ä»¤

- å…¨å±€å€ï¼š

- - å…¨å±€è®Šé‡å’Œéœæ…‹è®Šé‡å­˜æ”¾åœ¨æ­¤
  - å…¨å±€å€é‚„åŒ…å«äº†å¸¸é‡å€, å­—ç¬¦ä¸²å¸¸é‡å’Œå…¶ä»–å¸¸é‡ä¹Ÿå­˜æ”¾åœ¨æ­¤

- - è©²å€åŸŸçš„æ•¸æ“šåœ¨ç¨‹åºçµæŸå¾Œç”±æ“ä½œç³»çµ±é‡‹æ”¾



**ç¤ºä¾‹ï¼š**

```cpp
//å…¨å±€è®Šé‡
int g_a = 10;
int g_b = 10;

//å…¨å±€å¸¸é‡
const int c_g_a = 10;
const int c_g_b = 10;

int main() {

	//å±€éƒ¨è®Šé‡
	int a = 10;
	int b = 10;

	//æ‰“å°åœ°å€
	cout << "å±€éƒ¨è®Šé‡aåœ°å€ç‚ºï¼š " << (int)&a << endl;
	cout << "å±€éƒ¨è®Šé‡båœ°å€ç‚ºï¼š " << (int)&b << endl;

	cout << "å…¨å±€è®Šé‡g_aåœ°å€ç‚ºï¼š " <<  (int)&g_a << endl;
	cout << "å…¨å±€è®Šé‡g_båœ°å€ç‚ºï¼š " <<  (int)&g_b << endl;

	//éœæ…‹è®Šé‡
	static int s_a = 10;
	static int s_b = 10;

	cout << "éœæ…‹è®Šé‡s_aåœ°å€ç‚ºï¼š " << (int)&s_a << endl;
	cout << "éœæ…‹è®Šé‡s_båœ°å€ç‚ºï¼š " << (int)&s_b << endl;

	cout << "å­—ç¬¦ä¸²å¸¸é‡åœ°å€ç‚ºï¼š " << (int)&"hello world" << endl;
	cout << "å­—ç¬¦ä¸²å¸¸é‡åœ°å€ç‚ºï¼š " << (int)&"hello world1" << endl;

	cout << "å…¨å±€å¸¸é‡c_g_aåœ°å€ç‚ºï¼š " << (int)&c_g_a << endl;
	cout << "å…¨å±€å¸¸é‡c_g_båœ°å€ç‚ºï¼š " << (int)&c_g_b << endl;

	const int c_l_a = 10;
	const int c_l_b = 10;
	cout << "å±€éƒ¨å¸¸é‡c_l_aåœ°å€ç‚ºï¼š " << (int)&c_l_a << endl;
	cout << "å±€éƒ¨å¸¸é‡c_l_båœ°å€ç‚ºï¼š " << (int)&c_l_b << endl;

	system("pause");

	return 0;
}
```

![img](https://cdn.nlark.com/yuque/0/2021/png/2797977/1627450152945-bd009327-0c74-498d-8950-d300ec297b88.png)

ç¸½çµï¼š

- C++ä¸­åœ¨ç¨‹åºé‹è¡Œå‰åˆ†ç‚ºå…¨å±€å€å’Œä»£ç¢¼å€
- ä»£ç¢¼å€ç‰¹é»æ˜¯å…±äº«å’Œåªè®€

- å…¨å±€å€ä¸­å­˜æ”¾å…¨å±€è®Šé‡ã€éœæ…‹è®Šé‡ã€å¸¸é‡
- å¸¸é‡å€ä¸­å­˜æ”¾ constä¿®é£¾çš„å…¨å±€å¸¸é‡  å’Œ å­—ç¬¦ä¸²å¸¸é‡





#### 1.2 ç¨‹åºé‹è¡Œå¾Œ

**æ£§å€ï¼š**

- ç”±ç·¨è­¯å™¨è‡ªå‹•åˆ†é…é‡‹æ”¾, å­˜æ”¾å‡½æ•¸çš„åƒæ•¸å€¼,å±€éƒ¨è®Šé‡ç­‰
- æ³¨æ„äº‹é …ï¼šä¸è¦è¿”å›å±€éƒ¨è®Šé‡çš„åœ°å€ï¼Œæ£§å€é–‹é—¢çš„æ•¸æ“šç”±ç·¨è­¯å™¨è‡ªå‹•é‡‹æ”¾



**ç¤ºä¾‹ï¼š**  

```cpp
int * func()
{
	int a = 10;
	return &a;
}

int main() {

	int *p = func();

	cout << *p << endl;
	cout << *p << endl;

	system("pause");

	return 0;
}
```


**å †å€ï¼š**

- ç”±ç¨‹åºå“¡åˆ†é…é‡‹æ”¾,è‹¥ç¨‹åºå“¡ä¸é‡‹æ”¾,ç¨‹åºçµæŸæ™‚ç”±æ“ä½œç³»çµ±å›æ”¶
- åœ¨C++ä¸­ä¸»è¦åˆ©ç”¨newåœ¨å †å€é–‹é—¢å…§å­˜


**ç¤ºä¾‹ï¼š**

```cpp
int* func()
{
	int* a = new int(10);
	return a;
}

int main() {

	int *p = func();

	cout << *p << endl;
	cout << *p << endl;
    
	system("pause");

	return 0;
}
```



**ç¸½çµï¼š**

- å †å€æ•¸æ“šç”±ç¨‹åºå“¡ç®¡ç†é–‹é—¢å’Œé‡‹æ”¾
- å †å€æ•¸æ“šåˆ©ç”¨newé—œéµå­—é€²è¡Œé–‹é—¢å…§å­˜





#### 1.3 newæ“ä½œç¬¦

- C++ä¸­åˆ©ç”¨ new æ“ä½œç¬¦åœ¨å †å€é–‹é—¢æ•¸æ“š
- å †å€é–‹é—¢çš„æ•¸æ“šï¼Œç”±ç¨‹åºå“¡æ‰‹å‹•é–‹é—¢ï¼Œæ‰‹å‹•é‡‹æ”¾ï¼Œé‡‹æ”¾åˆ©ç”¨æ“ä½œç¬¦ delete 

- èªæ³•ï¼š`new æ•¸æ“šé¡å‹`
- åˆ©ç”¨newå‰µå»ºçš„æ•¸æ“šï¼Œæœƒè¿”å›è©²æ•¸æ“šå°æ‡‰çš„é¡å‹çš„æŒ‡é‡



**ç¤ºä¾‹1ï¼š åŸºæœ¬èªæ³•**

```cpp
int* func()
{
	int* a = new int(10);
	return a;
}

int main() {

	int *p = func();

	cout << *p << endl;
	cout << *p << endl;

	//åˆ©ç”¨deleteé‡‹æ”¾å †å€æ•¸æ“š
	delete p;

	//cout << *p << endl; //å ±éŒ¯ï¼Œé‡‹æ”¾çš„ç©ºé–“ä¸å¯è¨ªå•

	system("pause");

	return 0;
}
```



**ç¤ºä¾‹2ï¼šé–‹é—¢æ•¸çµ„**

```cpp
//å †å€é–‹é—¢æ•¸çµ„
int main() {

	int* arr = new int[10];

	for (int i = 0; i < 10; i++)
	{
		arr[i] = i + 100;
	}

	for (int i = 0; i < 10; i++)
	{
		cout << arr[i] << endl;
	}
	//é‡‹æ”¾æ•¸çµ„ delete å¾ŒåŠ  []
	delete[] arr;

	system("pause");

	return 0;
}
```



### 2ã€å¼•ç”¨


#### 2.1 å¼•ç”¨çš„åŸºæœ¬ä½¿ç”¨

**ä½œç”¨ï¼š** çµ¦è®Šé‡èµ·åˆ¥å

**èªæ³•ï¼š** `æ•¸æ“šé¡å‹ &åˆ¥å = åŸå`

**ç¤ºä¾‹ï¼š**

```cpp
int main() {

	int a = 10;
	int &b = a;

	cout << "a = " << a << endl;
	cout << "b = " << b << endl;

	b = 100;

	cout << "a = " << a << endl;
	cout << "b = " << b << endl;

	system("pause");

	return 0;
}
```



#### 2.2 å¼•ç”¨æ³¨æ„äº‹é …

- å¼•ç”¨å¿…é ˆåˆå§‹åŒ–
- å¼•ç”¨åœ¨åˆå§‹åŒ–å¾Œï¼Œä¸å¯ä»¥æ”¹è®Š


**ç¤ºä¾‹ï¼š**

```cpp
int main() {

	int a = 10;
	int b = 20;
	//int &c; //éŒ¯èª¤ï¼Œå¼•ç”¨å¿…é ˆåˆå§‹åŒ–
	int &c = a; //ä¸€æ—¦åˆå§‹åŒ–å¾Œï¼Œå°±ä¸å¯ä»¥æ›´æ”¹
	c = b; //é€™æ˜¯è³¦å€¼æ“ä½œï¼Œä¸æ˜¯æ›´æ”¹å¼•ç”¨

	cout << "a = " << a << endl;
	cout << "b = " << b << endl;
	cout << "c = " << c << endl;

	system("pause");

	return 0;
}
```





#### 2.3 å¼•ç”¨åšå‡½æ•¸åƒæ•¸

**ä½œç”¨ï¼š** å‡½æ•¸å‚³åƒæ™‚ï¼Œå¯ä»¥åˆ©ç”¨å¼•ç”¨çš„æŠ€è¡“è®“å½¢åƒä¿®é£¾å¯¦åƒ

**å„ªé»ï¼š** å¯ä»¥ç°¡åŒ–æŒ‡é‡ä¿®æ”¹å¯¦åƒ

**ç¤ºä¾‹ï¼š**

```cpp
//1. å€¼å‚³é
void mySwap01(int a, int b) {
	int temp = a;
	a = b;
	b = temp;
}

//2. åœ°å€å‚³é
void mySwap02(int* a, int* b) {
	int temp = *a;
	*a = *b;
	*b = temp;
}

//3. å¼•ç”¨å‚³é
void mySwap03(int& a, int& b) {
	int temp = a;
	a = b;
	b = temp;
}

int main() {

	int a = 10;
	int b = 20;

	mySwap01(a, b);
	cout << "a:" << a << " b:" << b << endl;

	mySwap02(&a, &b);
	cout << "a:" << a << " b:" << b << endl;

	mySwap03(a, b);
	cout << "a:" << a << " b:" << b << endl;

	system("pause");

	return 0;
}
```

ç¸½çµï¼šé€šéå¼•ç”¨åƒæ•¸ç”¢ç”Ÿçš„æ•ˆæœåŒæŒ‰åœ°å€å‚³éæ˜¯ä¸€æ¨£çš„ã€‚å¼•ç”¨çš„èªæ³•æ›´æ¸…æ¥šç°¡å–®


#### 2.4 å¼•ç”¨åšå‡½æ•¸è¿”å›å€¼


**ä½œç”¨ï¼š** å¼•ç”¨æ˜¯å¯ä»¥ä½œç‚ºå‡½æ•¸çš„è¿”å›å€¼å­˜åœ¨çš„

**æ³¨æ„ï¼š** **ä¸è¦è¿”å›å±€éƒ¨è®Šé‡å¼•ç”¨**

**ç”¨æ³•ï¼š** å‡½æ•¸èª¿ç”¨ä½œç‚ºå·¦å€¼



**ç¤ºä¾‹ï¼š**

```cpp
//è¿”å›å±€éƒ¨è®Šé‡å¼•ç”¨
int& test01() {
	int a = 10; //å±€éƒ¨è®Šé‡
	return a;
}

//è¿”å›éœæ…‹è®Šé‡å¼•ç”¨
int& test02() {
	static int a = 20;
	return a;
}

int main() {

	//ä¸èƒ½è¿”å›å±€éƒ¨è®Šé‡çš„å¼•ç”¨
	int& ref = test01();
	cout << "ref = " << ref << endl;
	cout << "ref = " << ref << endl;

	//å¦‚æœå‡½æ•¸åšå·¦å€¼ï¼Œé‚£éº¼å¿…é ˆè¿”å›å¼•ç”¨
	int& ref2 = test02();
	cout << "ref2 = " << ref2 << endl;
	cout << "ref2 = " << ref2 << endl;

	test02() = 1000;

	cout << "ref2 = " << ref2 << endl;
	cout << "ref2 = " << ref2 << endl;

	system("pause");

	return 0;
}
```

#### 2.5 å¼•ç”¨çš„æœ¬è³ª

æœ¬è³ªï¼š**å¼•ç”¨çš„æœ¬è³ªåœ¨c++å…§éƒ¨å¯¦ç¾æ˜¯ä¸€å€‹æŒ‡é‡å¸¸é‡.**

è¬›è§£ç¤ºä¾‹ï¼š

```cpp
//ç™¼ç¾æ˜¯å¼•ç”¨ï¼Œè½‰æ›ç‚º int* const ref = &a;
void func(int& ref){
	ref = 100; // refæ˜¯å¼•ç”¨ï¼Œè½‰æ›ç‚º*ref = 100
}
int main(){
	int a = 10;
    
    //è‡ªå‹•è½‰æ›ç‚º int* const ref = &a; æŒ‡é‡å¸¸é‡æ˜¯æŒ‡é‡æŒ‡å‘ä¸å¯æ”¹ï¼Œä¹Ÿèªªæ˜ç‚ºä»€éº¼å¼•ç”¨ä¸å¯æ›´æ”¹
	int& ref = a; 
	ref = 20; //å…§éƒ¨ç™¼ç¾refæ˜¯å¼•ç”¨ï¼Œè‡ªå‹•å¹«æˆ‘å€‘è½‰æ›ç‚º: *ref = 20;
    
	cout << "a:" << a << endl;
	cout << "ref:" << ref << endl;
    
	func(a);
	return 0;
}
```

çµè«–ï¼šC++æ¨è–¦ç”¨å¼•ç”¨æŠ€è¡“ï¼Œå› ç‚ºèªæ³•æ–¹ä¾¿ï¼Œå¼•ç”¨æœ¬è³ªæ˜¯æŒ‡é‡å¸¸é‡ï¼Œä½†æ˜¯æ‰€æœ‰çš„æŒ‡é‡æ“ä½œç·¨è­¯å™¨éƒ½å¹«æˆ‘å€‘åšäº†







#### 2.6 å¸¸é‡å¼•ç”¨

**ä½œç”¨ï¼š** å¸¸é‡å¼•ç”¨ä¸»è¦ç”¨ä¾†ä¿®é£¾å½¢åƒï¼Œé˜²æ­¢èª¤æ“ä½œ

åœ¨å‡½æ•¸å½¢åƒåˆ—è¡¨ä¸­ï¼Œå¯ä»¥åŠ constä¿®é£¾å½¢åƒï¼Œé˜²æ­¢å½¢åƒæ”¹è®Šå¯¦åƒ

**ç¤ºä¾‹ï¼š**

```cpp
//å¼•ç”¨ä½¿ç”¨çš„å ´æ™¯ï¼Œé€šå¸¸ç”¨ä¾†ä¿®é£¾å½¢åƒ
void showValue(const int& v) {
	//v += 10;
	cout << v << endl;
}

int main() {

	//int& ref = 10;  å¼•ç”¨æœ¬èº«éœ€è¦ä¸€å€‹åˆæ³•çš„å…§å­˜ç©ºé–“ï¼Œå› æ­¤é€™è¡ŒéŒ¯èª¤
	//åŠ å…¥constå°±å¯ä»¥äº†ï¼Œç·¨è­¯å™¨å„ªåŒ–ä»£ç¢¼ï¼Œint temp = 10; const int& ref = temp;
	const int& ref = 10;

	//ref = 100;  //åŠ å…¥constå¾Œä¸å¯ä»¥ä¿®æ”¹è®Šé‡
	cout << ref << endl;

	//å‡½æ•¸ä¸­åˆ©ç”¨å¸¸é‡å¼•ç”¨é˜²æ­¢èª¤æ“ä½œä¿®æ”¹å¯¦åƒ
	int a = 10;
	showValue(a);

	system("pause");

	return 0;
}
```

### 3ã€å‡½æ•¸

#### 3.1 å‡½æ•¸é»˜èªåƒæ•¸

åœ¨C++ä¸­ï¼Œå‡½æ•¸çš„å½¢åƒåˆ—è¡¨ä¸­çš„å½¢åƒæ˜¯å¯ä»¥æœ‰é»˜èªå€¼çš„ã€‚

èªæ³•ï¼š`è¿”å›å€¼é¡å‹  å‡½æ•¸å ï¼ˆåƒæ•¸= é»˜èªå€¼ï¼‰{}`

**ç¤ºä¾‹ï¼š**

```cpp
int func(int a, int b = 10, int c = 10) {
	return a + b + c;
}

//1. å¦‚æœæŸå€‹ä½ç½®åƒæ•¸æœ‰é»˜èªå€¼ï¼Œé‚£éº¼å¾é€™å€‹ä½ç½®å¾€å¾Œï¼Œå¾å·¦å‘å³ï¼Œå¿…é ˆéƒ½è¦æœ‰é»˜èªå€¼
//2. å¦‚æœå‡½æ•¸è²æ˜æœ‰é»˜èªå€¼ï¼Œå‡½æ•¸å¯¦ç¾çš„æ™‚å€™å°±ä¸èƒ½æœ‰é»˜èªåƒæ•¸
int func2(int a = 10, int b = 10);
int func2(int a, int b) {
	return a + b;
}

int main() {

	cout << "ret = " << func(20, 20) << endl;
	cout << "ret = " << func(100) << endl;

	system("pause");

	return 0;
}
```





#### 3.2 å‡½æ•¸ä½”ä½åƒæ•¸

C++ä¸­å‡½æ•¸çš„å½¢åƒåˆ—è¡¨è£¡å¯ä»¥æœ‰ä½”ä½åƒæ•¸ï¼Œç”¨ä¾†åšä½”ä½ï¼Œèª¿ç”¨å‡½æ•¸æ™‚å¿…é ˆå¡«è£œè©²ä½ç½®

**èªæ³•ï¼š** `è¿”å›å€¼é¡å‹ å‡½æ•¸å (æ•¸æ“šé¡å‹){}`

**ç¤ºä¾‹ï¼š**

```cpp
//å‡½æ•¸ä½”ä½åƒæ•¸ ï¼Œä½”ä½åƒæ•¸ä¹Ÿå¯ä»¥æœ‰é»˜èªåƒæ•¸
void func(int a, int) {
	cout << "this is func" << endl;
}

int main() {

	func(10,10); //ä½”ä½åƒæ•¸å¿…é ˆå¡«è£œ

	system("pause");

	return 0;
}
```





#### 3.3 å‡½æ•¸é‡è¼‰

##### 3.3.1 å‡½æ•¸é‡è¼‰æ¦‚è¿°

**ä½œç”¨ï¼š** å‡½æ•¸åå¯ä»¥ç›¸åŒï¼Œæé«˜è¤‡ç”¨æ€§


**å‡½æ•¸é‡è¼‰æ»¿è¶³æ¢ä»¶ï¼š**

- åŒä¸€å€‹ä½œç”¨åŸŸä¸‹
- å‡½æ•¸åç¨±ç›¸åŒ

- å‡½æ•¸åƒæ•¸**é¡å‹ä¸åŒ**  æˆ–è€… **å€‹æ•¸ä¸åŒ** æˆ–è€… **é †åºä¸åŒ**

**æ³¨æ„:**  å‡½æ•¸çš„è¿”å›å€¼ä¸å¯ä»¥ä½œç‚ºå‡½æ•¸é‡è¼‰çš„æ¢ä»¶

**ç¤ºä¾‹ï¼š**

```cpp
//å‡½æ•¸é‡è¼‰éœ€è¦å‡½æ•¸éƒ½åœ¨åŒä¸€å€‹ä½œç”¨åŸŸä¸‹
void func()
{
	cout << "func çš„èª¿ç”¨ï¼" << endl;
}
void func(int a)
{
	cout << "func (int a) çš„èª¿ç”¨ï¼" << endl;
}
void func(double a)
{
	cout << "func (double a)çš„èª¿ç”¨ï¼" << endl;
}
void func(int a ,double b)
{
	cout << "func (int a ,double b) çš„èª¿ç”¨ï¼" << endl;
}
void func(double a ,int b)
{
	cout << "func (double a ,int b)çš„èª¿ç”¨ï¼" << endl;
}

//å‡½æ•¸è¿”å›å€¼ä¸å¯ä»¥ä½œç‚ºå‡½æ•¸é‡è¼‰æ¢ä»¶
//int func(double a, int b)
//{
//	cout << "func (double a ,int b)çš„èª¿ç”¨ï¼" << endl;
//}


int main() {

	func();
	func(10);
	func(3.14);
	func(10,3.14);
	func(3.14 , 10);
	
	system("pause");

	return 0;
}
```





##### 3.3.2 å‡½æ•¸é‡è¼‰æ³¨æ„äº‹é …

- å¼•ç”¨ä½œç‚ºé‡è¼‰æ¢ä»¶
- å‡½æ•¸é‡è¼‰ç¢°åˆ°å‡½æ•¸é»˜èªåƒæ•¸



**ç¤ºä¾‹ï¼š**

```cpp
//å‡½æ•¸é‡è¼‰æ³¨æ„äº‹é …
//1ã€å¼•ç”¨ä½œç‚ºé‡è¼‰æ¢ä»¶

void func(int &a)
{
	cout << "func (int &a) èª¿ç”¨ " << endl;
}

void func(const int &a)
{
	cout << "func (const int &a) èª¿ç”¨ " << endl;
}


//2ã€å‡½æ•¸é‡è¼‰ç¢°åˆ°å‡½æ•¸é»˜èªåƒæ•¸

void func2(int a, int b = 10)
{
	cout << "func2(int a, int b = 10) èª¿ç”¨" << endl;
}

void func2(int a)
{
	cout << "func2(int a) èª¿ç”¨" << endl;
}

int main() {
	
	int a = 10;
	func(a); //èª¿ç”¨ç„¡const
	func(10);//èª¿ç”¨æœ‰const


	//func2(10); //ç¢°åˆ°é»˜èªåƒæ•¸ç”¢ç”Ÿæ­§ç¾©ï¼Œéœ€è¦é¿å…

	system("pause");

	return 0;
}
```
