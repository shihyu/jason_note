# 高性能並行編程與優化 - 第0x講的回家作業

通過 pull request 提交作業。會批分數，但是：

沒有結業證書，回家作業僅僅作為評估學習效果和鞏固知識的手段，不必為分數感到緊張 :)
量力而行，只要能在本課中，學到昨天的自己不懂的知識，就是勝利，沒必要和別人攀比。
注意不要偷看別人的作業哦！

- 課件：https://github.com/parallel101/course
- 錄播：https://space.bilibili.com/263032155

作業提交時間不限 :) 即使完結了還想交的話我也會看的~ 不過最好在下一講開播前完成。

- 如何開 pull request：https://zhuanlan.zhihu.com/p/51199833
- 如何設置 https 代理：https://www.jianshu.com/p/b481d2a42274

## 評分規則

- 完成作業基本要求 50 分（詳見下方"作業要求"）
- 能夠在 PR 描述中用自己的話解釋 25 分
- 代碼格式規範、能夠跨平臺 5 分
- 有自己獨特的創新點 20 分
- 明顯抄襲現象 -100 分

## 作業要求

修改 main.cpp，修復並改進其中的 HTTP 服務器：

- 把 `login`, `register` 等函數變成多線程安全的 - 10 分
- 把 `login` 的登錄計時器改成基於 chrono 的 - 5 分
- 能利用 `shared_mutex` 區分讀和寫 - 10 分
- 用 `lock_guard` 系列符合 RAII 思想 - 5 分
- 讓 ThreadPool::create 創建的線程保持後臺運行不要退出 - 15 分
- 等待 tpool 中所有線程都結束後再退出 - 5 分

並通過 `main()` 函數中的基本測試。

## 關於內卷

如果你把 map 改成了自己實現的基於 hash 的，甚至是用了 CAS 的。
只要是在 **滿足作業要求且不出錯** 的基礎上，這是件好事！
老師會酌情加分，視為“獨特的創新點”，但最多不超過 20 分。
