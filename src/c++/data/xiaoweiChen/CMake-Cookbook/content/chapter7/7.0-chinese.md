# 第7章 構建項目

本章的主要內容如下：

* 使用函數和宏重用代碼
* 將CMake源代碼分成模塊
* 編寫函數來測試和設置編譯器標誌
* 用指定參數定義函數或宏
* 重新定義函數和宏
* 使用廢棄函數、宏和變量
* add_subdirectory的限定範圍
* 使用target_sources避免全局變量
* 組織Fortran項目

前幾章中，我們已經使用了一些CMake構建塊來配置和構建的項目。本章中，我們將討論如何組合這些構建塊，並引入抽象，並最小化代碼重複、全局變量、全局狀態和顯式排序，以免CMakeLists.txt文件過於龐大。目標是為模塊化CMake代碼結構和限制變量範圍提供模式。我們將討論一些策略，也將幫助我們控制中大型代碼項目的CMake代碼複雜性。