# 第4章 創建和運行測試

本章的主要內容有：

* 創建一個簡單的單元測試
* 使用Catch2庫進行單元測試
* 使用Google Test庫進行單元測試
* 使用Boost Test進行單元測試
* 使用動態分析來檢測內存缺陷
* 預期測試失敗
* 使用超時測試運行時間過長的測試
* 並行測試
* 運行測試子集
* 使用測試固件

測試代碼是開發工具的核心組件。通過單元測試和集成測試自動化測試，不僅可以幫助開發人員儘早迴歸功能檢測，還可以幫助開發人員參與，並瞭解項目。它可以幫助新開發人員向項目代碼提交修改，並確保預期的功能性。對於驗證安裝是否保留了代碼的功能時，自動化測試必不可少。從一開始對單元、模塊或庫進行測試，可以使用一種純函數式的風格，將全局變量和全局狀態最小化，可讓開發者的具有更模塊化、更簡單的編程風格。

本章中，我們將演示如何使用流行的測試庫和框架，將測試集成到CMake構建結構中，並謹記以下目標：

* 讓用戶、開發人員和持續集成服務很容易地運行測試集。應該像使用`Unix Makefile`時，鍵入`make test`一樣簡單。
* 通過最小化測試時間，高效地運行測試，最大限度地提高運行測試的概率——理想情況下，每次代碼修改都該如此。

