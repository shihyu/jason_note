# 第15章 使用CMake構建已有項目

在本書的最後一章中，我們將結合前幾章中討論過的許多不同的構建塊，並將它們應用到實際項目中。我們的目標是一步一步地演示如何將一個重要的項目使用CMake進行構建。提供關於移植項目或將CMake添加到遺留代碼的建議(無論是來自Autotools、手工編寫的配置腳本和Makefile，還是來自Visual Studio)。

為了得到一個實際示例，我們將使用Vim編輯器(https://www.vim.org )的源代碼，並嘗試將配置和編譯，從Autotools遷移到CMake。

為了使討論和示例相對簡單，我們不會將整個Vim項目遷移到CMake，而是挑出最重要的部分。只構建Vim的核心版本，不支持圖形用戶界面(GUI)。我們將獲取能夠編譯的Vim源碼版本，並使用CMake，用書中介紹的其他工具進行配置、構建和測試。

本章主要有以下內容：

* 如何開始遷移項目
* 生成文件並編寫平臺檢查
* 檢測所需的依賴關係和鏈接
* 複製編譯標誌
* 移植測試
* 移植安裝目標
* 項目轉換為CMake的常見問題

