
使用模板之前，了解模板的优缺点相当重要。

先看看优点:

\begin{itemize}
\item
避免编写重复的代码。

\item
提供算法和类型的泛型库的创建，例如标准C++库(有时\textit{错误地}称为STL)，无论是何类型，都可以在许多应用程序中使用。

\item
使用模板可以得到少而优的代码。例如，使用标准库中的算法可以帮助编写更少的代码，这些代码可能更容易理解和维护，并且可能更健壮(这些算法的开发和测试投入了相当多的精力)。
\end{itemize}

再来看看缺点：

\begin{itemize}
\item
语法复杂，但只要进行过一些实践，这应该不会对模板的开发和使用造成影响。

\item
与模板代码相关的编译器错误通常很长而且神秘，很难确定其原因。新版本的C++编译器已经简化了这类错误(仍然是一个重要的问题)，C++20标准中的概念就可以看做为是一种尝试(包括帮助为编译错误提供更好的诊断信息)。

\item
增加了编译时间，因为其在头文件中实现。每当对模板进行更改时，包含该头文件的所有翻译单元都必须重新编译。

\item
模板库是作为一个或多个头文件的集合，必须与使用其代码一起编译。

\item
头文件中实现模板的另一个缺点是无法隐藏信息，所有人都可以在头文件阅读整个模板代码。标准库开发人员经常使用具有诸如detail或details等命名空间来包含标准库内部的代码，但这些代码是标准库的使用者不应该了解的。

\item
由于编译器没有实例化未使用的代码，因此这部分代码可能更难验证。在编写单元测试时，必须确保良好的代码覆盖率，对于开发库来说尤是如此。
\end{itemize}

虽然缺点有点多，但使用模板并不是一件坏事或应该避免的事情。相反，模板是C++语言的强大特性。模板并不总能被正确理解，有时还会误用或过度使用。然而，明智地使用模板具有毋庸置疑的优势。本书将提供理解模板一种更好的方式(以及使用方式)。







