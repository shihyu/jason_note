# 第8章 併發設計

本章主要內容

- 線程間劃分數據
- 影響併發性能的因素
- 性能因素對數據結構設計的影響
- 多線程中的異常安全
- 可擴展性
- 並行算法的實現

之前章節著重於使用C++中的新工具來寫併發代碼，第6、7章中瞭解如何使用這些工具來設計可併發訪問的數據結構，使用併發代碼要比使用/設計基本數據結構頻繁的多。這就好比一個木匠，不僅要知道如何做一個合頁，還要熟悉組合櫃和桌子的製作方法。所以要將眼界放寬，構建更大的結構，進行高效的工作。我將使用多線程化的C++標準庫算法作為例子，這裡的原則也適用於其他應用。

認真思考如何進行併發化設計，對於每個編程項目來說都很重要。編寫多線程代碼時，需要考慮的因素比寫串行代碼多得多。不僅包括一般性因素，例如：封裝、耦合和聚合(這些在很多軟件設計書籍中有很詳細的介紹)，還要考慮哪些數據需要共享，如何同步訪問數據，哪些線程需要等待等等。

本章將會關注這些問題，從高層(但也是基本的)著眼，思考如何使用線程。哪些代碼該在哪些線程上執行，以及對代碼可讀性的影響。並從底層實現細節上了解，如何構建共享數據來優化程序性能。
