#12.6 增強安全性

安全性是各個Web瀏覽器公司非常重視的問題。你會將瀏覽器作為打開JavaScript腳本的默認程序嗎？出於對未知程序的懷疑，其中可能包含有一些訪問系統數據的操作，可能會從你的電腦中盜取數據，或是向你的電腦安裝病毒或者木馬。惡意腳本還會讓計算機對資源的使用能力降低，甚至是讓其崩潰。

WebGL和WebCL的例子中，其代碼是為了使用GPU從而將性能最大化，不過當前的GPU缺少相應的硬件機制，一個程序中的相應內存不能被其他程序所訪問到，這就需要內存保護和讀取未初始化數據的機制。

保護機制的創建可以保證內核在WebCL中運行時，不會訪問越界。WebCL中的內核可以以文本的形式傳入，然後通過WebCL內置的編譯器進行編譯。當然，使用預編譯文件的方式對於程序和數字簽名處理來說更加安全，不過目前為止沒有相應的內核二進制文件的格式標準。

兩個能保護內存的準則：1. 分配的內存需要初始化(程序不能訪問舊數據)；2. 訪問合法內存的代碼可以置為可信。

下面的機制可用來保證程序的安全性：

- 持續跟蹤內存分配(如果平臺支持動態分配，需要在運行時進行跟蹤)
- 監視合法讀取的內存範圍
- 合法的數據砸編譯和運行時，會顯得更加高效

內核在傳遞時，需要使用一個校驗器對其內容進行校驗，以確保不存在訪問越界的情況，不過這將影響(經測量，性能要比無校驗的性能低30%)。更多安全性的信息可以參閱[1]。

-------

[1] Vicit Ltd: Mikael Lepist, Tamiö Ylimäki, http://learningwebcl.com/wp-content/uploads/2013/11/WebCLMemoryProtection.pdf
