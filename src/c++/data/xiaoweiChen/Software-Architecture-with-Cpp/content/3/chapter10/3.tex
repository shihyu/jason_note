
在计算机系统的早期，所有的程序都是没有外部依赖的庞然大物。自从操作系统出现以来，重要的软件都很难摆脱依赖。这些依赖可以有两种形式:外部依赖和内部依赖:

\begin{itemize}
\item 
外部依赖项应该存在于运行应用程序的环境中。示例可以包括前面提到的操作系统、动态链接的库和其他应用程序(例如数据库)。

\item 
内部依赖是想要重用的模块，所以这通常意味着静态库或只包含头文件的库。
\end{itemize}

这两种依赖关系都提供了潜在的安全风险。随着每一行代码增加漏洞的风险，拥有的组件越多，系统受到攻击的可能性就越高。在下面的部分中，将看到如何检查软件是否容易受到已知漏洞的影响。

\subsubsubsection{10.2.1\hspace{0.2cm}公共缺陷检索}

要检查软件中已知的安全问题，首先要查看\url{https://cve.mitre.org/}上的常见漏洞和披露(Common vulnerability and exposed, CVE)列表。该名单由几个名为CVE编号机构(CNAs)的机构不断更新。这些机构包括供应商和项目、漏洞研究人员、国家和行业CERT，以及漏洞奖励计划。

该网站还提供了一个搜索引擎，可以使用几种方法来了解漏洞:

\begin{itemize}
\item 
可以输入漏洞编号。它们的前缀是CVE，示例包括臭名昭著的ShellShock CVE-2014-6271，或CVE-2017-5715，也被称为Spectre。

\item 
可以输入漏洞的通用名称，如前面提到的ShellShock或Spectre。

\item 
可以输入想要检查软件的名称，例如Bash或Boost。
\end{itemize}

对于每个搜索结果，可以看到描述以及其他bug跟踪器和相关资源的引用列表。描述通常会列出受漏洞影响的版本，这样就可以检查计划使用的依赖项是否已经打了补丁。

\subsubsubsection{10.2.2\hspace{0.2cm}自动扫描}

有一些工具可以帮助您检查依赖项列表。OWASP Dependency-Check(\url{https://www.owasp.org/index.php/OWASP\_Dependency\_Check})就是这样一个工具。虽然官方支持Java和.NET，但它对Python、Ruby、Node.js和C++(当与CMake或autoconf一起使用时)有实验性的支持。除了作为一个独立的工具，它还集成了持续集成/持续部署(CI/CD)软件，如Jenkins、SonarQube和CircleCI。

另一个允许检查已知漏洞的依赖关系的工具是Snyk,这是一个具有多个级别支持的商业产品。它还做了比OWASP依赖检查更多的事情，因为Snyk还可以检查容器映像和许可证遵从性问题，还提供了更多与第三方解决方案的集成。

\subsubsubsection{10.2.3\hspace{0.2cm}自动依赖升级管理}

监视依赖项是否存在漏洞只是确保项目安全的第一步。在此之后，需要采取行动，手动更新失效的依赖项。正如期望的那样，也有一些自动化的解决方案。其中一个是Dependabot，它会扫描你的源代码库，并在有安全相关更新可用的时候发出一个pull请求。在写这本书的时候，Dependabot还不支持C++。但是，可以与您的应用程序可能使用的其他语言一起使用。除此之外，还可以扫描Docker容器在基本映像中发现的漏洞。

自动化的依赖项管理需要成熟的测试支持，没有测试的情况下切换依赖版本可能会导致不稳定和bug，防止依赖关系升级相关问题的一种保护措施是使用包装器与第三方代码进行接口。这样的包装器有自己的测试套件，可以立即告知在升级期间接口何时失效。










