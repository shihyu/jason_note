\input{../preamble}

%----------------------------------------------------------------------------------------
%	TITLE PAGE
%----------------------------------------------------------------------------------------

\title[第1讲]{第1讲 ：操作系统概述} % The short title appears at the bottom of every slide, the full title is only on the title page
\subtitle{第四节：操作系统结构}
\author{向勇、陈渝、李国良} % Your name
\institute[清华大学] % Your institution as it will appear on the bottom of every slide, may be shorthand to save space
{
清华大学计算机系 \\ % Your institution for the title page
\medskip
\textit{xyong,yuchen,liguoliang@tsinghua.edu.cn} % Your email address
}
\date{\today} % Date, can be changed to a custom date

\begin{document}

\begin{frame}
\titlepage % Print the title page as the first slide
\end{frame}

%\begin{frame}
%\frametitle{提纲} % Table of contents slide, comment this block out to remove it
%\tableofcontents % Throughout your presentation, if you choose to use \section{} and \subsection{} commands, these will automatically be printed on this slide as an overview of your presentation
%\end{frame}
%
%%----------------------------------------------------------------------------------------
%%	PRESENTATION SLIDES
%%----------------------------------------------------------------------------------------
%
%%------------------------------------------------
%\section{第七节：操作系统结构} % Sections can be created in order to organize your presentation into discrete blocks, all sections and subsections are automatically printed in the table of contents as an overview of the talk
%%------------------------------------------------

%----------------------------------------------------------------------------------------
\begin{frame}

\frametitle{简单结构}

\begin{figure}
	\centering
	\includegraphics[width=0.6\linewidth]{msdos}
\end{figure}

\begin{itemize}
\item MS-DOS：在最小的空间,设计用于提供大部分功能 (1981--1994)
    %\pause
	\begin{itemize}
	\item 没有拆分为模块
	\item 主要用汇编编写
	\item 没有安全保护
	\end{itemize}
\end{itemize}

\end{frame}

%----------------------------------------------------------------------------------------
\begin{frame}
	
	\frametitle{单体分层结构}
	
	\begin{figure}
		\centering
		\includegraphics[width=0.6\linewidth]{multi-level-os-arch}
	\end{figure}

	%\pause
	
	\begin{itemize}
		\item 将单体操作系统(Monolithic OS)划分为多层 (levels)
		\begin{itemize}
			\item 每层建立在低层之上
			\item 最底层(layer 0), 是硬件驱动
			\item 最高层(layer N) 是用户界面
		\end{itemize}
	\item 每一层仅使用更低一层的功能和服务。
	\end{itemize}

\end{frame}

%----------------------------------------------------------------------------------------
\begin{frame}[plain]
	
	\frametitle{微内核结构}
	
	\begin{figure}
		\centering
		\includegraphics[width=0.4\linewidth]{microkernel-arch}
	\end{figure}
	%\pause
	
	\begin{itemize}
		\item 尽可能把内核功能移到用户空间
		\item 用户模块间的通信使用消息传递 %\pause
		\item 好处: 灵活/安全...
		\item 缺点: 性能
	\end{itemize}

\end{frame}

%----------------------------------------------------------------------------------------
\begin{frame}
	
	\frametitle{外核结构 Exokernel}
	
	\begin{figure}
		\centering
		\includegraphics[width=0.5\linewidth]{exokernel-arch}
	\end{figure}
	%\pause

	\begin{itemize}
		\item 让内核分配物理资源给多个应用程序, 并让每个程序决定如何处理这些资源
		\item 程序能链接到操作系统库(libOS) 实现了操作系统抽象
		\item 保护与控制分离
	\end{itemize}
	
\end{frame}

%----------------------------------------------------------------------------------------
\begin{frame}
	
	\frametitle{虚拟机结构 VMM}
	
	\begin{figure}
		\centering
		\includegraphics[width=0.45\linewidth]{vmm-arch} %\pause
		\includegraphics[width=0.45\linewidth]{vmm-arch-view}
	\end{figure}
	%\pause

	\begin{itemize}
		\item 虚拟机管理器将单独的机器接口转换成很多的虚拟机,每个虚拟机都是一个原始计算机系统的有效副本, 并能完成所有的处理器指令 。
	\end{itemize}
	
\end{frame}
%----------------------------------------------------------------------------------------
\begin{frame}
    
    \frametitle{应用程序运行与OS抽象+架构的关系}
    
    \begin{figure}
        \centering
        \includegraphics[width=0.55\linewidth]{ucore-arch} %\pause
        \includegraphics[width=0.4\linewidth]{run-app}
    \end{figure}
    %\pause
    
    \begin{itemize}
        \item  硬件+操作系统等给应用程序的运行提供了一个“舒适”的执行环境
    \end{itemize}
    
\end{frame}
%----------------------------------------------------------------------------------------
\end{document}
