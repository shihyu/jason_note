<!DOCTYPE HTML>
<html lang="zh" class="rust sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Zig vs C èªè¨€å®Œæ•´æ¯”è¼ƒæŒ‡å— - Jason Notes</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="../highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="../tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "../";
            const default_light_theme = "rust";
            const default_dark_theme = "navy";
            window.path_to_searchindex_js = "../searchindex.js";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../toc.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>â†</kbd> or <kbd>â†’</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('rust')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
                sidebar_toggle.checked = false;
            }
            if (sidebar === 'visible') {
                sidebar_toggle.checked = true;
            } else {
                html.classList.remove('sidebar-visible');
            }
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Jason Notes</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/shihyu/jason_note" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <div class="search-wrapper">
                            <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                            <div class="spinner-wrapper">
                                <i class="fa fa-spinner fa-spin"></i>
                            </div>
                        </div>
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="zig-vs-c-èªè¨€å®Œæ•´æ¯”è¼ƒæŒ‡å—"><a class="header" href="#zig-vs-c-èªè¨€å®Œæ•´æ¯”è¼ƒæŒ‡å—">Zig vs C èªè¨€å®Œæ•´æ¯”è¼ƒæŒ‡å—</a></h1>
<h2 id="ç›®éŒ„"><a class="header" href="#ç›®éŒ„">ç›®éŒ„</a></h2>
<ol>
<li><a href="#%E7%B0%A1%E4%BB%8B">ç°¡ä»‹</a></li>
<li><a href="#%E8%AA%9E%E8%A8%80%E6%A6%82%E8%BF%B0">èªè¨€æ¦‚è¿°</a></li>
<li><a href="#%E6%A0%B8%E5%BF%83%E7%89%B9%E6%80%A7%E6%AF%94%E8%BC%83">æ ¸å¿ƒç‰¹æ€§æ¯”è¼ƒ</a></li>
<li><a href="#%E8%AA%9E%E6%B3%95%E6%AF%94%E8%BC%83">èªæ³•æ¯”è¼ƒ</a></li>
<li><a href="#zig-%E5%84%AA%E5%8B%A2%E8%A9%B3%E8%A7%A3">Zig å„ªå‹¢è©³è§£</a></li>
<li><a href="#%E8%A8%98%E6%86%B6%E9%AB%94%E7%AE%A1%E7%90%86">è¨˜æ†¶é«”ç®¡ç†</a></li>
<li><a href="#%E9%8C%AF%E8%AA%A4%E8%99%95%E7%90%86">éŒ¯èª¤è™•ç†</a></li>
<li><a href="#%E7%B7%A8%E8%AD%AF%E6%99%82%E7%89%B9%E6%80%A7">ç·¨è­¯æ™‚ç‰¹æ€§</a></li>
<li><a href="#%E6%A8%99%E6%BA%96%E5%87%BD%E5%BC%8F%E5%BA%AB">æ¨™æº–å‡½å¼åº«</a></li>
<li><a href="#%E5%AF%A6%E9%9A%9B%E7%AF%84%E4%BE%8B%E5%B0%8D%E6%AF%94">å¯¦éš›ç¯„ä¾‹å°æ¯”</a></li>
<li><a href="#%E5%AF%A6%E7%94%A8%E7%A8%8B%E5%BC%8F%E7%AF%84%E4%BE%8B">å¯¦ç”¨ç¨‹å¼ç¯„ä¾‹</a></li>
<li><a href="#ubuntu-%E5%AE%89%E8%A3%9D%E6%8C%87%E5%8D%97">Ubuntu å®‰è£æŒ‡å—</a></li>
<li><a href="#hello-world-%E5%AE%8C%E6%95%B4%E7%AF%84%E4%BE%8B">Hello World å®Œæ•´ç¯„ä¾‹</a></li>
<li><a href="#%E5%84%AA%E7%BC%BA%E9%BB%9E%E7%B8%BD%E7%B5%90">å„ªç¼ºé»ç¸½çµ</a></li>
<li><a href="#%E9%81%B7%E7%A7%BB%E5%BB%BA%E8%AD%B0">é·ç§»å»ºè­°</a></li>
</ol>
<hr />
<h2 id="ç°¡ä»‹"><a class="header" href="#ç°¡ä»‹">ç°¡ä»‹</a></h2>
<p><strong>Zig</strong> æ˜¯ä¸€å€‹ç¾ä»£çš„ç³»çµ±ç¨‹å¼èªè¨€,ç›®æ¨™æ˜¯æˆç‚ºã€Œæ›´å¥½çš„ Cã€ã€‚å®ƒä¿ç•™äº† C çš„ç°¡æ½”æ€§å’Œæ€§èƒ½ï¼ŒåŒæ™‚å¢åŠ äº†ç¾ä»£èªè¨€çš„å®‰å…¨æ€§å’Œä¾¿åˆ©æ€§ã€‚</p>
<p><strong>è¨­è¨ˆç†å¿µï¼š</strong></p>
<ul>
<li>æ²’æœ‰éš±è—çš„æ§åˆ¶æµ</li>
<li>æ²’æœ‰éš±è—çš„è¨˜æ†¶é«”åˆ†é…</li>
<li>æ²’æœ‰é è™•ç†å™¨</li>
<li>ç·¨è­¯æ™‚ç¨‹å¼è¨­è¨ˆèƒ½åŠ›å¼·å¤§</li>
</ul>
<hr />
<h2 id="èªè¨€æ¦‚è¿°"><a class="header" href="#èªè¨€æ¦‚è¿°">èªè¨€æ¦‚è¿°</a></h2>
<h3 id="c-èªè¨€"><a class="header" href="#c-èªè¨€">C èªè¨€</a></h3>
<ul>
<li><strong>ç™¼å¸ƒå¹´ä»½</strong>: 1972å¹´</li>
<li><strong>è¨­è¨ˆè€…</strong>: Dennis Ritchie</li>
<li><strong>è¨­è¨ˆç†å¿µ</strong>: ç³»çµ±ç¨‹å¼è¨­è¨ˆã€å¯ç§»æ¤æ€§ã€æ•ˆç‡</li>
<li><strong>ä¸»è¦ç”¨é€”</strong>: ä½œæ¥­ç³»çµ±ã€åµŒå…¥å¼ç³»çµ±ã€ç³»çµ±è»Ÿé«”</li>
</ul>
<h3 id="zig-èªè¨€"><a class="header" href="#zig-èªè¨€">Zig èªè¨€</a></h3>
<ul>
<li><strong>ç™¼å¸ƒå¹´ä»½</strong>: 2016å¹´</li>
<li><strong>è¨­è¨ˆè€…</strong>: Andrew Kelley</li>
<li><strong>è¨­è¨ˆç†å¿µ</strong>: å–ä»£ C çš„ç¾ä»£ç³»çµ±ç¨‹å¼èªè¨€ï¼Œæ›´å®‰å…¨ã€æ›´ç°¡å–®</li>
<li><strong>ä¸»è¦ç”¨é€”</strong>: ç³»çµ±ç¨‹å¼è¨­è¨ˆã€åµŒå…¥å¼é–‹ç™¼ã€WebAssembly</li>
</ul>
<hr />
<h2 id="æ ¸å¿ƒç‰¹æ€§æ¯”è¼ƒ"><a class="header" href="#æ ¸å¿ƒç‰¹æ€§æ¯”è¼ƒ">æ ¸å¿ƒç‰¹æ€§æ¯”è¼ƒ</a></h2>
<div class="table-wrapper"><table><thead><tr><th>ç‰¹æ€§</th><th>C èªè¨€</th><th>Zig èªè¨€</th></tr></thead><tbody>
<tr><td><strong>è¨˜æ†¶é«”å®‰å…¨</strong></td><td>æ‰‹å‹•ç®¡ç†ï¼Œå®¹æ˜“å‡ºéŒ¯</td><td>æ‰‹å‹•ç®¡ç†ä½†æœ‰æ›´å¤šå®‰å…¨æª¢æŸ¥</td></tr>
<tr><td><strong>ç©ºæŒ‡æ¨™</strong></td><td>å…è¨±ï¼Œå¸¸è¦‹éŒ¯èª¤ä¾†æº</td><td>å¯é¸é¡å‹ï¼ˆOptional Typesï¼‰</td></tr>
<tr><td><strong>éŒ¯èª¤è™•ç†</strong></td><td>è¿”å›éŒ¯èª¤ç¢¼æˆ– errno</td><td>å…§å»ºéŒ¯èª¤è™•ç†æ©Ÿåˆ¶ (!)</td></tr>
<tr><td><strong>é è™•ç†å™¨</strong></td><td>æœ‰ï¼ˆ#define, #includeï¼‰</td><td>ç„¡ï¼Œä½¿ç”¨ç·¨è­¯æ™‚åŸ·è¡Œ</td></tr>
<tr><td><strong>æ¨™é ­æª”</strong></td><td>éœ€è¦ .h æª”æ¡ˆ</td><td>ä¸éœ€è¦æ¨™é ­æª”</td></tr>
<tr><td><strong>æ³›å‹ç¨‹å¼è¨­è¨ˆ</strong></td><td>é€éå·¨é›†æˆ– void*</td><td>ç·¨è­¯æ™‚æ³›å‹ (comptime)</td></tr>
<tr><td><strong>ç·¨è­¯æ™‚åŸ·è¡Œ</strong></td><td>æœ‰é™ï¼ˆå·¨é›†ï¼‰</td><td>å®Œæ•´çš„ç·¨è­¯æ™‚åŸ·è¡Œ</td></tr>
<tr><td><strong>æœªå®šç¾©è¡Œç‚º</strong></td><td>å¤§é‡å­˜åœ¨</td><td>æ˜ç¢ºå®šç¾©æ‰€æœ‰è¡Œç‚º</td></tr>
<tr><td><strong>äº¤å‰ç·¨è­¯</strong></td><td>éœ€è¦å·¥å…·éˆ</td><td>å…§å»ºäº¤å‰ç·¨è­¯æ”¯æ´</td></tr>
<tr><td><strong>C ç›¸å®¹æ€§</strong></td><td>N/A</td><td>å¯ç›´æ¥å°å…¥ C ç¨‹å¼ç¢¼</td></tr>
<tr><td><strong>åŒ…ç®¡ç†</strong></td><td>ç„¡å®˜æ–¹å·¥å…·</td><td>å…§å»ºåŒ…ç®¡ç†</td></tr>
<tr><td><strong>æ¸¬è©¦æ¡†æ¶</strong></td><td>éœ€è¦å¤–éƒ¨å·¥å…·</td><td>å…§å»ºæ¸¬è©¦</td></tr>
<tr><td><strong>æ•´æ•¸æº¢ä½</strong></td><td>æœªå®šç¾©</td><td>å¯æª¢æ¸¬æˆ–ç’°ç¹</td></tr>
</tbody></table>
</div>
<hr />
<h2 id="èªæ³•æ¯”è¼ƒ"><a class="header" href="#èªæ³•æ¯”è¼ƒ">èªæ³•æ¯”è¼ƒ</a></h2>
<h3 id="1-åŸºæœ¬ç¨‹å¼çµæ§‹"><a class="header" href="#1-åŸºæœ¬ç¨‹å¼çµæ§‹">1. åŸºæœ¬ç¨‹å¼çµæ§‹</a></h3>
<p><strong>C èªè¨€ï¼š</strong></p>
<pre><code class="language-c">#include &lt;stdio.h&gt;

int main() {
    printf("Hello, World!\n");
    return 0;
}
</code></pre>
<p><strong>Zig èªè¨€ï¼š</strong></p>
<pre><code class="language-zig">const std = @import("std");

pub fn main() void {
    std.debug.print("Hello, World!\n", .{});
}
</code></pre>
<h3 id="2-è®Šæ•¸å®£å‘Š"><a class="header" href="#2-è®Šæ•¸å®£å‘Š">2. è®Šæ•¸å®£å‘Š</a></h3>
<p><strong>C èªè¨€ï¼š</strong></p>
<pre><code class="language-c">int x = 10;           // å¯è®Šè®Šæ•¸
const int y = 20;     // å¸¸æ•¸
int *ptr = &amp;x;        // æŒ‡æ¨™
float pi = 3.14;
</code></pre>
<p><strong>Zig èªè¨€ï¼š</strong></p>
<pre><code class="language-zig">var x: i32 = 10;      // å¯è®Šè®Šæ•¸
const y: i32 = 20;    // ç·¨è­¯æ™‚å¸¸æ•¸
var ptr: *i32 = &amp;x;   // æŒ‡æ¨™
const pi: f32 = 3.14; // æµ®é»æ•¸
</code></pre>
<h3 id="3-è³‡æ–™å‹åˆ¥"><a class="header" href="#3-è³‡æ–™å‹åˆ¥">3. è³‡æ–™å‹åˆ¥</a></h3>
<div class="table-wrapper"><table><thead><tr><th>C å‹åˆ¥</th><th>Zig å‹åˆ¥</th><th>èªªæ˜</th></tr></thead><tbody>
<tr><td><code>char</code></td><td><code>u8</code> æˆ– <code>i8</code></td><td>8ä½å…ƒæ•´æ•¸</td></tr>
<tr><td><code>short</code></td><td><code>i16</code></td><td>16ä½å…ƒæœ‰è™Ÿæ•´æ•¸</td></tr>
<tr><td><code>int</code></td><td><code>c_int</code> æˆ– <code>i32</code></td><td>32ä½å…ƒæœ‰è™Ÿæ•´æ•¸</td></tr>
<tr><td><code>long</code></td><td><code>c_long</code> æˆ– <code>i64</code></td><td>64ä½å…ƒæœ‰è™Ÿæ•´æ•¸</td></tr>
<tr><td><code>float</code></td><td><code>f32</code></td><td>32ä½å…ƒæµ®é»æ•¸</td></tr>
<tr><td><code>double</code></td><td><code>f64</code></td><td>64ä½å…ƒæµ®é»æ•¸</td></tr>
<tr><td><code>void*</code></td><td><code>*anyopaque</code></td><td>ä¸é€æ˜æŒ‡æ¨™</td></tr>
<tr><td><code>NULL</code></td><td><code>null</code></td><td>ç©ºå€¼</td></tr>
</tbody></table>
</div>
<h3 id="4-å‡½å¼å®šç¾©"><a class="header" href="#4-å‡½å¼å®šç¾©">4. å‡½å¼å®šç¾©</a></h3>
<p><strong>C èªè¨€ï¼š</strong></p>
<pre><code class="language-c">int add(int a, int b) {
    return a + b;
}

void swap(int *a, int *b) {
    int temp = *a;
    *a = *b;
    *b = temp;
}

void print_hello() {
    printf("Hello\n");
}
</code></pre>
<p><strong>Zig èªè¨€ï¼š</strong></p>
<pre><code class="language-zig">fn add(a: i32, b: i32) i32 {
    return a + b;
}

fn swap(a: *i32, b: *i32) void {
    const temp = a.*;
    a.* = b.*;
    b.* = temp;
}

fn printHello() void {
    std.debug.print("Hello\n", .{});
}
</code></pre>
<h3 id="5-çµæ§‹é«”"><a class="header" href="#5-çµæ§‹é«”">5. çµæ§‹é«”</a></h3>
<p><strong>C èªè¨€ï¼š</strong></p>
<pre><code class="language-c">struct Point {
    int x;
    int y;
};

struct Point p = {10, 20};
p.x = 30;

typedef struct {
    char name[50];
    int age;
} Person;
</code></pre>
<p><strong>Zig èªè¨€ï¼š</strong></p>
<pre><code class="language-zig">const Point = struct {
    x: i32,
    y: i32,
};

var p = Point{ .x = 10, .y = 20 };
p.x = 30;

const Person = struct {
    name: [50]u8,
    age: i32,

    // å¯ä»¥åŒ…å«æ–¹æ³•
    pub fn greet(self: Person) void {
        std.debug.print("Hello, {s}\n", .{self.name});
    }
};
</code></pre>
<h3 id="6-é™£åˆ—"><a class="header" href="#6-é™£åˆ—">6. é™£åˆ—</a></h3>
<p><strong>C èªè¨€ï¼š</strong></p>
<pre><code class="language-c">int arr[5] = {1, 2, 3, 4, 5};
int len = sizeof(arr) / sizeof(arr[0]);  // å®¹æ˜“å‡ºéŒ¯
</code></pre>
<p><strong>Zig èªè¨€ï¼š</strong></p>
<pre><code class="language-zig">const arr = [_]i32{1, 2, 3, 4, 5};
const len = arr.len;  // å…§å»ºé•·åº¦å±¬æ€§
</code></pre>
<h3 id="7-æŒ‡æ¨™"><a class="header" href="#7-æŒ‡æ¨™">7. æŒ‡æ¨™</a></h3>
<p><strong>C èªè¨€ï¼š</strong></p>
<pre><code class="language-c">int x = 10;
int *ptr = &amp;x;
*ptr = 20;

int *null_ptr = NULL;
</code></pre>
<p><strong>Zig èªè¨€ï¼š</strong></p>
<pre><code class="language-zig">var x: i32 = 10;
var ptr: *i32 = &amp;x;
ptr.* = 20;

var null_ptr: ?*i32 = null;  // å¯é¸æŒ‡æ¨™
</code></pre>
<h3 id="8-æ¢ä»¶åˆ¤æ–·"><a class="header" href="#8-æ¢ä»¶åˆ¤æ–·">8. æ¢ä»¶åˆ¤æ–·</a></h3>
<p><strong>C èªè¨€ï¼š</strong></p>
<pre><code class="language-c">if (x &gt; 0) {
    printf("Positive\n");
} else if (x &lt; 0) {
    printf("Negative\n");
} else {
    printf("Zero\n");
}

// ä¸‰å…ƒé‹ç®—å­
int result = (x &gt; 0) ? 1 : -1;

// Switch
switch (x) {
    case 1:
        printf("One\n");
        break;  // éœ€è¦ break
    case 2:
        printf("Two\n");
        break;
    default:
        printf("Other\n");
}
</code></pre>
<p><strong>Zig èªè¨€ï¼š</strong></p>
<pre><code class="language-zig">if (x &gt; 0) {
    std.debug.print("Positive\n", .{});
} else if (x &lt; 0) {
    std.debug.print("Negative\n", .{});
} else {
    std.debug.print("Zero\n", .{});
}

// if è¡¨é”å¼
const result = if (x &gt; 0) 1 else -1;

// Switch
switch (x) {
    1 =&gt; std.debug.print("One\n", .{}),
    2 =&gt; std.debug.print("Two\n", .{}),
    else =&gt; std.debug.print("Other\n", .{}),
}  // ä¸éœ€è¦ breakï¼Œä¸æœƒ fall-through
</code></pre>
<h3 id="9-è¿´åœˆ"><a class="header" href="#9-è¿´åœˆ">9. è¿´åœˆ</a></h3>
<p><strong>C èªè¨€ï¼š</strong></p>
<pre><code class="language-c">// for è¿´åœˆ
for (int i = 0; i &lt; 10; i++) {
    printf("%d ", i);
}

// while è¿´åœˆ
int i = 0;
while (i &lt; 10) {
    printf("%d ", i);
    i++;
}

// do-while è¿´åœˆ
do {
    printf("%d ", i);
    i++;
} while (i &lt; 10);
</code></pre>
<p><strong>Zig èªè¨€ï¼š</strong></p>
<pre><code class="language-zig">// for è¿´åœˆï¼ˆç¯„åœï¼‰
for (0..10) |i| {
    std.debug.print("{} ", .{i});
}

// for è¿´åœˆï¼ˆé™£åˆ—ï¼‰
const array = [_]i32{1, 2, 3, 4, 5};
for (array) |item| {
    std.debug.print("{} ", .{item});
}

// while è¿´åœˆ
var i: usize = 0;
while (i &lt; 10) : (i += 1) {
    std.debug.print("{} ", .{i});
}
</code></pre>
<h3 id="10-åˆ—èˆ‰"><a class="header" href="#10-åˆ—èˆ‰">10. åˆ—èˆ‰</a></h3>
<p><strong>C èªè¨€ï¼š</strong></p>
<pre><code class="language-c">enum Color {
    RED,
    GREEN,
    BLUE
};

enum Color c = RED;
</code></pre>
<p><strong>Zig èªè¨€ï¼š</strong></p>
<pre><code class="language-zig">const Color = enum {
    red,
    green,
    blue,
};

var c = Color.red;

// æ¨™ç±¤è¯åˆï¼ˆTagged Unionï¼‰
const Value = union(enum) {
    int: i32,
    float: f32,
    string: []const u8,
};
</code></pre>
<hr />
<h2 id="zig-å„ªå‹¢è©³è§£"><a class="header" href="#zig-å„ªå‹¢è©³è§£">Zig å„ªå‹¢è©³è§£</a></h2>
<h3 id="1-æ²’æœ‰éš±è—çš„è¨˜æ†¶é«”åˆ†é…"><a class="header" href="#1-æ²’æœ‰éš±è—çš„è¨˜æ†¶é«”åˆ†é…">1. æ²’æœ‰éš±è—çš„è¨˜æ†¶é«”åˆ†é…</a></h3>
<p><strong>C/C++ çš„éš±è—åˆ†é…ï¼š</strong></p>
<pre><code class="language-cpp">// C++ - éš±è—çš„åˆ†é…
std::vector&lt;int&gt; vec;
vec.push_back(42);  // å…§éƒ¨è‡ªå‹• mallocï¼Œä½ çœ‹ä¸åˆ°

std::string str = "Hello";
str += " World";  // åˆä¸€æ¬¡éš±è—çš„åˆ†é…
</code></pre>
<p><strong>Zig çš„é¡¯å¼åˆ†é…ï¼š</strong></p>
<pre><code class="language-zig">// Zig - æ‰€æœ‰åˆ†é…éƒ½éœ€è¦æ˜ç¢ºçš„ allocator
const std = @import("std");

pub fn main() !void {
    var gpa = std.heap.GeneralPurposeAllocator(.{}){};
    defer _ = gpa.deinit();
    const allocator = gpa.allocator();

    // å¿…é ˆæ˜ç¢ºå‚³å…¥ allocator
    var list = std.ArrayList(i32).init(allocator);
    defer list.deinit();
    try list.append(42);  // ä½ çŸ¥é“é€™è£¡å¯èƒ½åˆ†é…è¨˜æ†¶é«”

    // å­—ä¸²è™•ç†ä¹Ÿè¦æ˜ç¢º
    const text = try std.fmt.allocPrint(allocator, "Hello {s}", .{"World"});
    defer allocator.free(text);
}
</code></pre>
<p><strong>å¥½è™•ï¼š</strong></p>
<ul>
<li>è¨˜æ†¶é«”ä½¿ç”¨æ¸…æ™°å¯è¦‹</li>
<li>å¯ä»¥é¸æ“‡ä¸åŒçš„åˆ†é…ç­–ç•¥ï¼ˆarenaã€poolã€fixed bufferï¼‰</li>
<li>å®¹æ˜“è¿½è¹¤å’Œèª¿è©¦è¨˜æ†¶é«”å•é¡Œ</li>
<li>é©åˆåµŒå…¥å¼å’Œå³æ™‚ç³»çµ±</li>
</ul>
<h3 id="2-ç·¨è­¯æ™‚ç¨‹å¼è¨­è¨ˆ-comptime"><a class="header" href="#2-ç·¨è­¯æ™‚ç¨‹å¼è¨­è¨ˆ-comptime">2. ç·¨è­¯æ™‚ç¨‹å¼è¨­è¨ˆ (comptime)</a></h3>
<p><strong>C èªè¨€çš„é™åˆ¶ï¼š</strong></p>
<pre><code class="language-c">// C - éœ€è¦ç”¨å®
#define MAX(a, b) ((a) &gt; (b) ? (a) : (b))  // å¯èƒ½å¤šæ¬¡æ±‚å€¼

// æˆ–ä½¿ç”¨å…§è¯å‡½æ•¸ï¼Œä½†ç„¡æ³•ç·¨è­¯æ™‚è¨ˆç®—
</code></pre>
<p><strong>Zig çš„ comptimeï¼š</strong></p>
<pre><code class="language-zig">// ç·¨è­¯æ™‚è¨ˆç®—
fn fibonacci(comptime n: u32) u32 {
    if (n &lt;= 1) return n;
    return fibonacci(n - 1) + fibonacci(n - 2);
}

const fib_10 = fibonacci(10);  // åœ¨ç·¨è­¯æ™‚è¨ˆç®—å‡º 55

// ç·¨è­¯æ™‚æ³›å‹
fn max(comptime T: type, a: T, b: T) T {
    return if (a &gt; b) a else b;
}

const result1 = max(i32, 10, 20);
const result2 = max(f64, 3.14, 2.71);
</code></pre>
<h3 id="3-å…§å»ºéŒ¯èª¤è™•ç†"><a class="header" href="#3-å…§å»ºéŒ¯èª¤è™•ç†">3. å…§å»ºéŒ¯èª¤è™•ç†</a></h3>
<p><strong>C èªè¨€ï¼š</strong></p>
<pre><code class="language-c">// C - å¤šç¨®éŒ¯èª¤è™•ç†æ–¹å¼ï¼Œä¸çµ±ä¸€
FILE* file = fopen("test.txt", "r");
if (file == NULL) {
    perror("Error opening file");
    return -1;
}

// æˆ–ä½¿ç”¨ errno
int result = some_function();
if (result &lt; 0) {
    fprintf(stderr, "Error: %s\n", strerror(errno));
}
</code></pre>
<p><strong>Zig èªè¨€ï¼š</strong></p>
<pre><code class="language-zig">// Zig - çµ±ä¸€çš„éŒ¯èª¤è™•ç†
const std = @import("std");

const MyError = error{
    FileNotFound,
    PermissionDenied,
};

fn openFile(path: []const u8) !std.fs.File {
    return std.fs.cwd().openFile(path, .{}) catch |err| {
        return err;
    };
}

pub fn main() !void {
    const file = try openFile("test.txt");
    defer file.close();

    // æˆ–ä½¿ç”¨ catch è‡ªè¨‚è™•ç†
    const file2 = openFile("test.txt") catch |err| {
        std.debug.print("Error: {}\n", .{err});
        return err;
    };
}
</code></pre>
<h3 id="4-defer-å’Œ-errdefer"><a class="header" href="#4-defer-å’Œ-errdefer">4. defer å’Œ errdefer</a></h3>
<p><strong>C èªè¨€çš„æ¸…ç†å•é¡Œï¼š</strong></p>
<pre><code class="language-c">// C - å®¹æ˜“éºæ¼æ¸…ç†
void process() {
    FILE* f1 = fopen("file1.txt", "r");
    if (!f1) return;

    char* buffer = malloc(1024);
    if (!buffer) {
        fclose(f1);  // å®¹æ˜“å¿˜è¨˜
        return;
    }

    FILE* f2 = fopen("file2.txt", "r");
    if (!f2) {
        free(buffer);  // è¦è¨˜å¾—æ¸…ç†
        fclose(f1);    // è¦è¨˜å¾—é—œé–‰
        return;
    }

    // ... è™•ç†

    fclose(f2);
    free(buffer);
    fclose(f1);
}
</code></pre>
<p><strong>Zig çš„ deferï¼š</strong></p>
<pre><code class="language-zig">// Zig - è‡ªå‹•æ¸…ç†ï¼Œä¸æœƒéºæ¼
fn process() !void {
    const f1 = try std.fs.cwd().openFile("file1.txt", .{});
    defer f1.close();  // ä¿è­‰åŸ·è¡Œ

    const buffer = try allocator.alloc(u8, 1024);
    defer allocator.free(buffer);

    const f2 = try std.fs.cwd().openFile("file2.txt", .{});
    defer f2.close();

    // ... è™•ç†

    // defer è‡ªå‹•æŒ‰ç›¸åé †åºæ¸…ç†ï¼šf2 -&gt; buffer -&gt; f1
}
</code></pre>
<p><strong>defer åŸ·è¡Œè¦å‰‡ï¼š</strong></p>
<ul>
<li>åœ¨ç•¶å‰ä½œç”¨åŸŸçµæŸæ™‚åŸ·è¡Œ</li>
<li>åŸ·è¡Œé †åºï¼šå¾Œé€²å…ˆå‡º (LIFO)</li>
<li>å³ä½¿æœ‰ error return ä¹ŸæœƒåŸ·è¡Œ</li>
</ul>
<p><strong>errdeferï¼š</strong></p>
<pre><code class="language-zig">fn createResources() !void {
    const r1 = try allocateResource1();
    errdefer freeResource1(r1);  // åªåœ¨éŒ¯èª¤æ™‚åŸ·è¡Œ

    const r2 = try allocateResource2();  // å¦‚æœé€™è£¡å¤±æ•—
    errdefer freeResource2(r2);

    // å¦‚æœæˆåŠŸï¼Œerrdefer ä¸åŸ·è¡Œ
    // å¦‚æœå¤±æ•—ï¼Œè‡ªå‹•æ¸…ç†å·²åˆ†é…çš„è³‡æº
}
</code></pre>
<h3 id="5-å¯é¸é¡å‹-optional-types"><a class="header" href="#5-å¯é¸é¡å‹-optional-types">5. å¯é¸é¡å‹ (Optional Types)</a></h3>
<p><strong>C èªè¨€çš„ç©ºæŒ‡æ¨™å•é¡Œï¼š</strong></p>
<pre><code class="language-c">// C - ç©ºæŒ‡æ¨™å®¹æ˜“é€ æˆå´©æ½°
int* find_value(int key) {
    // ...
    return NULL;  // å¯èƒ½è¿”å› NULL
}

int* result = find_value(42);
*result = 10;  // ğŸ’¥ å¦‚æœ result æ˜¯ NULLï¼Œç¨‹å¼å´©æ½°
</code></pre>
<p><strong>Zig çš„å¯é¸é¡å‹ï¼š</strong></p>
<pre><code class="language-zig">// Zig - å¼·åˆ¶æª¢æŸ¥ null
fn findValue(key: i32) ?*i32 {
    // ...
    return null;
}

const result = findValue(42);
if (result) |value| {
    value.* = 10;  // å®‰å…¨ï¼Œå·²ç¶“è§£åŒ…
} else {
    std.debug.print("Not found\n", .{});
}

// æˆ–ä½¿ç”¨ orelse
const value = findValue(42) orelse return error.NotFound;
</code></pre>
<h3 id="6-æ›´ç²¾ç¢ºçš„æ•´æ•¸é¡å‹"><a class="header" href="#6-æ›´ç²¾ç¢ºçš„æ•´æ•¸é¡å‹">6. æ›´ç²¾ç¢ºçš„æ•´æ•¸é¡å‹</a></h3>
<p><strong>C èªè¨€ï¼š</strong></p>
<pre><code class="language-c">// C - å¹³å°ç›¸ä¾
int x;        // å¯èƒ½æ˜¯ 16/32/64 ä½å…ƒ
long y;       // å¯èƒ½æ˜¯ 32/64 ä½å…ƒ
size_t z;     // å¹³å°ç›¸ä¾

// éœ€è¦ stdint.h
int32_t a;
uint64_t b;
</code></pre>
<p><strong>Zig èªè¨€ï¼š</strong></p>
<pre><code class="language-zig">// Zig - æ˜ç¢ºä¸”ä¸€è‡´
const x: i32 = 0;   // 32 ä½å…ƒæœ‰ç¬¦è™Ÿæ•´æ•¸
const y: u64 = 0;   // 64 ä½å…ƒç„¡ç¬¦è™Ÿæ•´æ•¸
const z: i8 = 0;    // 8 ä½å…ƒæœ‰ç¬¦è™Ÿæ•´æ•¸
const w: u1 = 0;    // 1 ä½å…ƒï¼ˆboolï¼‰

// ç”šè‡³æ”¯æ´ä»»æ„ä½å…ƒå¯¬åº¦
const a: i7 = 0;    // 7 ä½å…ƒæ•´æ•¸
const b: u24 = 0;   // 24 ä½å…ƒæ•´æ•¸
</code></pre>
<h3 id="7-å…§å»ºæ¸¬è©¦"><a class="header" href="#7-å…§å»ºæ¸¬è©¦">7. å…§å»ºæ¸¬è©¦</a></h3>
<p><strong>C èªè¨€ï¼š</strong></p>
<pre><code class="language-c">// C - éœ€è¦å¤–éƒ¨æ¸¬è©¦æ¡†æ¶ï¼ˆå¦‚ CUnit, Checkï¼‰
#include &lt;assert.h&gt;

void test_add() {
    assert(add(2, 3) == 5);
}

int main() {
    test_add();
    return 0;
}
</code></pre>
<p><strong>Zig èªè¨€ï¼š</strong></p>
<pre><code class="language-zig">// Zig - å…§å»ºæ¸¬è©¦
const std = @import("std");

fn add(a: i32, b: i32) i32 {
    return a + b;
}

test "basic addition" {
    try std.testing.expect(add(2, 3) == 5);
    try std.testing.expectEqual(@as(i32, 10), add(7, 3));
}

test "negative numbers" {
    try std.testing.expect(add(-5, 3) == -2);
}

// åŸ·è¡Œ: zig test myfile.zig
</code></pre>
<h3 id="8-c-äº’æ“ä½œæ€§"><a class="header" href="#8-c-äº’æ“ä½œæ€§">8. C äº’æ“ä½œæ€§</a></h3>
<p><strong>Zig å¯ä»¥ç›´æ¥ä½¿ç”¨ C ç¨‹å¼åº«ï¼š</strong></p>
<pre><code class="language-zig">// ç›´æ¥å¼•å…¥ C æ¨™é ­æª”
const c = @cImport({
    @cInclude("stdio.h");
    @cInclude("stdlib.h");
});

pub fn main() void {
    c.printf("Hello from C!\n");

    const ptr = c.malloc(100);
    defer c.free(ptr);
}

// ä¹Ÿå¯ä»¥åŒ¯å‡ºçµ¦ C ä½¿ç”¨
export fn zigAdd(a: i32, b: i32) i32 {
    return a + b;
}
</code></pre>
<h3 id="9-è·¨å¹³å°ç·¨è­¯"><a class="header" href="#9-è·¨å¹³å°ç·¨è­¯">9. è·¨å¹³å°ç·¨è­¯</a></h3>
<p><strong>C èªè¨€ï¼š</strong></p>
<pre><code class="language-bash"># C - éœ€è¦å®‰è£ä¸åŒå¹³å°çš„å·¥å…·éˆ
sudo apt install gcc-mingw-w64  # Windows
sudo apt install gcc-arm-linux-gnueabihf  # ARM
</code></pre>
<p><strong>Zig èªè¨€ï¼š</strong></p>
<pre><code class="language-bash"># Zig - å…§å»ºè·¨å¹³å°ç·¨è­¯
zig build-exe main.zig -target x86_64-windows
zig build-exe main.zig -target x86_64-linux
zig build-exe main.zig -target aarch64-macos
zig build-exe main.zig -target wasm32-freestanding

# æ”¯æ´è¶…é 30 å€‹ç›®æ¨™å¹³å°
</code></pre>
<h3 id="10-æ›´å®‰å…¨çš„é è¨­è¡Œç‚º"><a class="header" href="#10-æ›´å®‰å…¨çš„é è¨­è¡Œç‚º">10. æ›´å®‰å…¨çš„é è¨­è¡Œç‚º</a></h3>
<div class="table-wrapper"><table><thead><tr><th>è¡Œç‚º</th><th>C èªè¨€</th><th>Zig èªè¨€</th></tr></thead><tbody>
<tr><td>æ•´æ•¸æº¢ä½</td><td>æœªå®šç¾©è¡Œç‚º</td><td>Debug: panic, Release: å¯é¸</td></tr>
<tr><td>é™£åˆ—è¶Šç•Œ</td><td>æœªå®šç¾©è¡Œç‚º</td><td>Debug: panic, Release: å¯é¸</td></tr>
<tr><td>ç©ºæŒ‡æ¨™è§£å¼•ç”¨</td><td>æœªå®šç¾©è¡Œç‚º</td><td>ç·¨è­¯éŒ¯èª¤ï¼ˆå¯é¸é¡å‹ï¼‰</td></tr>
<tr><td>æœªåˆå§‹åŒ–è®Šæ•¸</td><td>æœªå®šç¾©è¡Œç‚º</td><td>ç·¨è­¯éŒ¯èª¤</td></tr>
<tr><td>Switch æœªè™•ç†</td><td>è­¦å‘Š</td><td>ç·¨è­¯éŒ¯èª¤ï¼ˆéœ€è¦ elseï¼‰</td></tr>
</tbody></table>
</div>
<hr />
<h2 id="è¨˜æ†¶é«”ç®¡ç†"><a class="header" href="#è¨˜æ†¶é«”ç®¡ç†">è¨˜æ†¶é«”ç®¡ç†</a></h2>
<h3 id="c-èªè¨€çš„è¨˜æ†¶é«”ç®¡ç†"><a class="header" href="#c-èªè¨€çš„è¨˜æ†¶é«”ç®¡ç†">C èªè¨€çš„è¨˜æ†¶é«”ç®¡ç†</a></h3>
<pre><code class="language-c">#include &lt;stdlib.h&gt;
#include &lt;string.h&gt;

void example() {
    // åˆ†é…
    int* arr = (int*)malloc(10 * sizeof(int));
    if (!arr) {
        // è™•ç†éŒ¯èª¤
        return;
    }

    // ä½¿ç”¨
    for (int i = 0; i &lt; 10; i++) {
        arr[i] = i;
    }

    // é‡æ–°åˆ†é…
    int* new_arr = (int*)realloc(arr, 20 * sizeof(int));
    if (!new_arr) {
        free(arr);
        return;
    }
    arr = new_arr;

    // é‡‹æ”¾
    free(arr);
}
</code></pre>
<h3 id="zig-çš„è¨˜æ†¶é«”ç®¡ç†"><a class="header" href="#zig-çš„è¨˜æ†¶é«”ç®¡ç†">Zig çš„è¨˜æ†¶é«”ç®¡ç†</a></h3>
<pre><code class="language-zig">const std = @import("std");

fn example() !void {
    // å»ºç«‹ allocator
    var gpa = std.heap.GeneralPurposeAllocator(.{}){};
    defer _ = gpa.deinit();
    const allocator = gpa.allocator();

    // åˆ†é…
    const arr = try allocator.alloc(i32, 10);
    defer allocator.free(arr);

    // ä½¿ç”¨
    for (arr, 0..) |*item, i| {
        item.* = @intCast(i);
    }

    // é‡æ–°åˆ†é…
    const new_arr = try allocator.realloc(arr, 20);
    defer allocator.free(new_arr);
}
</code></pre>
<h3 id="å‹•æ…‹è¨˜æ†¶é«”åˆ†é…æ¯”è¼ƒ"><a class="header" href="#å‹•æ…‹è¨˜æ†¶é«”åˆ†é…æ¯”è¼ƒ">å‹•æ…‹è¨˜æ†¶é«”åˆ†é…æ¯”è¼ƒ</a></h3>
<p><strong>C èªè¨€ï¼š</strong></p>
<pre><code class="language-c">#include &lt;stdlib.h&gt;

int *arr = (int*)malloc(10 * sizeof(int));
if (arr == NULL) {
    // è™•ç†éŒ¯èª¤
}

// ä½¿ç”¨é™£åˆ—
arr[0] = 42;

free(arr);  // å¿…é ˆè¨˜å¾—é‡‹æ”¾
</code></pre>
<p><strong>Zig èªè¨€ï¼š</strong></p>
<pre><code class="language-zig">const std = @import("std");

pub fn main() !void {
    var gpa = std.heap.GeneralPurposeAllocator(.{}){};
    defer _ = gpa.deinit();
    const allocator = gpa.allocator();

    const arr = try allocator.alloc(i32, 10);
    defer allocator.free(arr);  // defer ç¢ºä¿é‡‹æ”¾

    arr[0] = 42;
}
</code></pre>
<h3 id="zig-çš„ä¸åŒ-allocator"><a class="header" href="#zig-çš„ä¸åŒ-allocator">Zig çš„ä¸åŒ Allocator</a></h3>
<pre><code class="language-zig">const std = @import("std");

pub fn main() !void {
    // 1. GeneralPurposeAllocator - é€šç”¨åˆ†é…å™¨ï¼Œæœ‰å®‰å…¨æª¢æŸ¥
    var gpa = std.heap.GeneralPurposeAllocator(.{}){};
    defer _ = gpa.deinit();

    // 2. ArenaAllocator - ä¸€æ¬¡æ€§é‡‹æ”¾æ‰€æœ‰
    var arena = std.heap.ArenaAllocator.init(std.heap.page_allocator);
    defer arena.deinit();  // ä¸€æ¬¡é‡‹æ”¾å…¨éƒ¨
    const arena_allocator = arena.allocator();

    const item1 = try arena_allocator.create(i32);
    const item2 = try arena_allocator.create(i32);
    // ä¸éœ€è¦é€å€‹ free

    // 3. FixedBufferAllocator - å›ºå®šç·©è¡å€ï¼ˆåµŒå…¥å¼ï¼‰
    var buffer: [1024]u8 = undefined;
    var fba = std.heap.FixedBufferAllocator.init(&amp;buffer);
    const fba_allocator = fba.allocator();

    // 4. page_allocator - ç›´æ¥å¾ OS
    const page_mem = try std.heap.page_allocator.alloc(u8, 4096);
    defer std.heap.page_allocator.free(page_mem);
}
</code></pre>
<hr />
<h2 id="éŒ¯èª¤è™•ç†"><a class="header" href="#éŒ¯èª¤è™•ç†">éŒ¯èª¤è™•ç†</a></h2>
<h3 id="c-èªè¨€çš„éŒ¯èª¤è™•ç†"><a class="header" href="#c-èªè¨€çš„éŒ¯èª¤è™•ç†">C èªè¨€çš„éŒ¯èª¤è™•ç†</a></h3>
<pre><code class="language-c">FILE *file = fopen("test.txt", "r");
if (file == NULL) {
    perror("Error opening file");
    return -1;
}

// æˆ–ä½¿ç”¨ errno
if (some_function() == -1) {
    if (errno == ENOENT) {
        printf("File not found\n");
    }
}
</code></pre>
<h3 id="zig-èªè¨€çš„éŒ¯èª¤è™•ç†"><a class="header" href="#zig-èªè¨€çš„éŒ¯èª¤è™•ç†">Zig èªè¨€çš„éŒ¯èª¤è™•ç†</a></h3>
<pre><code class="language-zig">const file = std.fs.cwd().openFile("test.txt", .{}) catch |err| {
    std.debug.print("Error opening file: {}\n", .{err});
    return err;
};
defer file.close();

// éŒ¯èª¤è¯åˆé¡å‹
fn divide(a: f32, b: f32) !f32 {
    if (b == 0) {
        return error.DivisionByZero;
    }
    return a / b;
}

// ä½¿ç”¨ try
const result = try divide(10, 2);
</code></pre>
<h3 id="å®Œæ•´çš„éŒ¯èª¤è™•ç†ç¯„ä¾‹"><a class="header" href="#å®Œæ•´çš„éŒ¯èª¤è™•ç†ç¯„ä¾‹">å®Œæ•´çš„éŒ¯èª¤è™•ç†ç¯„ä¾‹</a></h3>
<pre><code class="language-zig">const std = @import("std");

// å®šç¾©éŒ¯èª¤é›†åˆ
const FileError = error{
    FileNotFound,
    PermissionDenied,
    OutOfMemory,
};

// å‡½æ•¸å¯èƒ½è¿”å›éŒ¯èª¤
fn readConfig(path: []const u8) ![]u8 {
    const file = try std.fs.cwd().openFile(path, .{});
    defer file.close();

    const size = (try file.stat()).size;
    const allocator = std.heap.page_allocator;

    const content = try allocator.alloc(u8, size);
    errdefer allocator.free(content);  // éŒ¯èª¤æ™‚é‡‹æ”¾

    _ = try file.readAll(content);
    return content;
}

pub fn main() !void {
    // æ–¹æ³• 1: ä½¿ç”¨ tryï¼ˆéŒ¯èª¤æœƒå‘ä¸Šå‚³éï¼‰
    const config = try readConfig("config.txt");
    defer std.heap.page_allocator.free(config);

    // æ–¹æ³• 2: ä½¿ç”¨ catchï¼ˆè‡ªè¨‚éŒ¯èª¤è™•ç†ï¼‰
    const config2 = readConfig("config.txt") catch |err| {
        std.debug.print("Failed to read config: {}\n", .{err});
        return;
    };
    defer std.heap.page_allocator.free(config2);

    // æ–¹æ³• 3: ä½¿ç”¨ if
    if (readConfig("config.txt")) |config3| {
        defer std.heap.page_allocator.free(config3);
        std.debug.print("Success!\n", .{});
    } else |err| {
        std.debug.print("Error: {}\n", .{err});
    }
}
</code></pre>
<hr />
<h2 id="ç·¨è­¯æ™‚ç‰¹æ€§"><a class="header" href="#ç·¨è­¯æ™‚ç‰¹æ€§">ç·¨è­¯æ™‚ç‰¹æ€§</a></h2>
<h3 id="c-èªè¨€çš„é è™•ç†å™¨"><a class="header" href="#c-èªè¨€çš„é è™•ç†å™¨">C èªè¨€çš„é è™•ç†å™¨</a></h3>
<pre><code class="language-c">#define MAX_SIZE 100
#define MIN(a, b) ((a) &lt; (b) ? (a) : (b))

#ifdef DEBUG
    #define LOG(x) printf("%s\n", x)
#else
    #define LOG(x)
#endif
</code></pre>
<h3 id="zig-èªè¨€çš„ç·¨è­¯æ™‚åŸ·è¡Œ"><a class="header" href="#zig-èªè¨€çš„ç·¨è­¯æ™‚åŸ·è¡Œ">Zig èªè¨€çš„ç·¨è­¯æ™‚åŸ·è¡Œ</a></h3>
<pre><code class="language-zig">const max_size = 100;  // ç·¨è­¯æ™‚å¸¸æ•¸

fn min(comptime T: type, a: T, b: T) T {
    return if (a &lt; b) a else b;
}

// ç·¨è­¯æ™‚åŸ·è¡Œ
const fibonacci = comptime blk: {
    var fib: [10]i32 = undefined;
    fib[0] = 0;
    fib[1] = 1;
    var i: usize = 2;
    while (i &lt; 10) : (i += 1) {
        fib[i] = fib[i-1] + fib[i-2];
    }
    break :blk fib;
};

// æ¢ä»¶ç·¨è­¯
const debug = @import("builtin").mode == .Debug;
fn log(msg: []const u8) void {
    if (debug) {
        std.debug.print("{s}\n", .{msg});
    }
}
</code></pre>
<hr />
<h2 id="æ¨™æº–å‡½å¼åº«"><a class="header" href="#æ¨™æº–å‡½å¼åº«">æ¨™æº–å‡½å¼åº«</a></h2>
<h3 id="å­—ä¸²æ“ä½œ"><a class="header" href="#å­—ä¸²æ“ä½œ">å­—ä¸²æ“ä½œ</a></h3>
<p><strong>C èªè¨€ï¼š</strong></p>
<pre><code class="language-c">#include &lt;string.h&gt;

char str1[100] = "Hello";
char str2[] = " World";

strcat(str1, str2);        // ä¸²æ¥
int len = strlen(str1);     // é•·åº¦
int cmp = strcmp(str1, str2); // æ¯”è¼ƒ
char *copy = strcpy(dest, src); // è¤‡è£½
</code></pre>
<p><strong>Zig èªè¨€ï¼š</strong></p>
<pre><code class="language-zig">const std = @import("std");

var buffer: [100]u8 = undefined;
const str1 = "Hello";
const str2 = " World";

// ä½¿ç”¨ fmt æ ¼å¼åŒ–
const result = try std.fmt.bufPrint(&amp;buffer, "{s}{s}", .{str1, str2});

// é•·åº¦
const len = str1.len;

// æ¯”è¼ƒ
const equal = std.mem.eql(u8, str1, str2);

// è¤‡è£½
std.mem.copy(u8, &amp;buffer, str1);
</code></pre>
<hr />
<h2 id="å¯¦éš›ç¯„ä¾‹å°æ¯”"><a class="header" href="#å¯¦éš›ç¯„ä¾‹å°æ¯”">å¯¦éš›ç¯„ä¾‹å°æ¯”</a></h2>
<h3 id="ç¯„ä¾‹-1é™£åˆ—æ“ä½œ"><a class="header" href="#ç¯„ä¾‹-1é™£åˆ—æ“ä½œ">ç¯„ä¾‹ 1ï¼šé™£åˆ—æ“ä½œ</a></h3>
<p><strong>C èªè¨€ï¼š</strong></p>
<pre><code class="language-c">#include &lt;stdio.h&gt;

void print_array(int arr[], int size) {
    for (int i = 0; i &lt; size; i++) {
        printf("%d ", arr[i]);
    }
    printf("\n");
}

int sum_array(int arr[], int size) {
    int sum = 0;
    for (int i = 0; i &lt; size; i++) {
        sum += arr[i];
    }
    return sum;
}

int main() {
    int numbers[] = {1, 2, 3, 4, 5};
    int size = sizeof(numbers) / sizeof(numbers[0]);

    print_array(numbers, size);
    printf("Sum: %d\n", sum_array(numbers, size));

    return 0;
}
</code></pre>
<p><strong>Zig èªè¨€ï¼š</strong></p>
<pre><code class="language-zig">const std = @import("std");

fn printArray(arr: []const i32) void {
    for (arr) |item| {
        std.debug.print("{} ", .{item});
    }
    std.debug.print("\n", .{});
}

fn sumArray(arr: []const i32) i32 {
    var sum: i32 = 0;
    for (arr) |item| {
        sum += item;
    }
    return sum;
}

pub fn main() void {
    const numbers = [_]i32{ 1, 2, 3, 4, 5 };

    printArray(&amp;numbers);
    std.debug.print("Sum: {}\n", .{sumArray(&amp;numbers)});
}
</code></pre>
<h3 id="ç¯„ä¾‹-2éˆçµä¸²åˆ—"><a class="header" href="#ç¯„ä¾‹-2éˆçµä¸²åˆ—">ç¯„ä¾‹ 2ï¼šéˆçµä¸²åˆ—</a></h3>
<p><strong>C èªè¨€ï¼š</strong></p>
<pre><code class="language-c">#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

struct Node {
    int data;
    struct Node* next;
};

struct Node* create_node(int data) {
    struct Node* node = (struct Node*)malloc(sizeof(struct Node));
    if (node == NULL) return NULL;
    node-&gt;data = data;
    node-&gt;next = NULL;
    return node;
}

void free_list(struct Node* head) {
    struct Node* temp;
    while (head != NULL) {
        temp = head;
        head = head-&gt;next;
        free(temp);
    }
}
</code></pre>
<p><strong>Zig èªè¨€ï¼š</strong></p>
<pre><code class="language-zig">const std = @import("std");

const Node = struct {
    data: i32,
    next: ?*Node,

    fn create(allocator: std.mem.Allocator, data: i32) !*Node {
        const node = try allocator.create(Node);
        node.* = Node{
            .data = data,
            .next = null,
        };
        return node;
    }

    fn destroyList(self: *Node, allocator: std.mem.Allocator) void {
        var current: ?*Node = self;
        while (current) |node| {
            const next = node.next;
            allocator.destroy(node);
            current = next;
        }
    }
};
</code></pre>
<hr />
<h2 id="å¯¦ç”¨ç¨‹å¼ç¯„ä¾‹"><a class="header" href="#å¯¦ç”¨ç¨‹å¼ç¯„ä¾‹">å¯¦ç”¨ç¨‹å¼ç¯„ä¾‹</a></h2>
<h3 id="æª”æ¡ˆè®€å¯«"><a class="header" href="#æª”æ¡ˆè®€å¯«">æª”æ¡ˆè®€å¯«</a></h3>
<pre><code class="language-zig">const std = @import("std");

pub fn main() !void {
    var gpa = std.heap.GeneralPurposeAllocator(.{}){};
    defer _ = gpa.deinit();
    const allocator = gpa.allocator();

    // å¯«å…¥æª”æ¡ˆ
    const file = try std.fs.cwd().createFile("test.txt", .{});
    defer file.close();

    try file.writeAll("Hello from Zig!\n");

    // è®€å–æª”æ¡ˆ
    const content = try std.fs.cwd().readFileAlloc(
        allocator,
        "test.txt",
        1024 * 1024,  // æœ€å¤§ 1MB
    );
    defer allocator.free(content);

    std.debug.print("File content: {s}\n", .{content});
}
</code></pre>
<h3 id="http-è«‹æ±‚ä½¿ç”¨æ¨™æº–åº«"><a class="header" href="#http-è«‹æ±‚ä½¿ç”¨æ¨™æº–åº«">HTTP è«‹æ±‚ï¼ˆä½¿ç”¨æ¨™æº–åº«ï¼‰</a></h3>
<pre><code class="language-zig">const std = @import("std");

pub fn main() !void {
    var gpa = std.heap.GeneralPurposeAllocator(.{}){};
    defer _ = gpa.deinit();
    const allocator = gpa.allocator();

    var client = std.http.Client{ .allocator = allocator };
    defer client.deinit();

    const uri = try std.Uri.parse("http://example.com");

    var buf: [4096]u8 = undefined;
    var req = try client.open(.GET, uri, .{ .server_header_buffer = &amp;buf });
    defer req.deinit();

    try req.send();
    try req.wait();

    const body = try req.reader().readAllAlloc(allocator, 1024 * 1024);
    defer allocator.free(body);

    std.debug.print("Response: {s}\n", .{body});
}
</code></pre>
<hr />
<h2 id="ubuntu-å®‰è£æŒ‡å—"><a class="header" href="#ubuntu-å®‰è£æŒ‡å—">Ubuntu å®‰è£æŒ‡å—</a></h2>
<h3 id="æ–¹æ³•-1-ä¸‹è¼‰å®˜æ–¹äºŒé€²ä½æª”æ¨è–¦"><a class="header" href="#æ–¹æ³•-1-ä¸‹è¼‰å®˜æ–¹äºŒé€²ä½æª”æ¨è–¦">æ–¹æ³• 1: ä¸‹è¼‰å®˜æ–¹äºŒé€²ä½æª”ï¼ˆæ¨è–¦ï¼‰</a></h3>
<pre><code class="language-bash"># 1. ä¸‹è¼‰æœ€æ–°ç‰ˆæœ¬
cd ~/Downloads
wget https://ziglang.org/download/0.13.0/zig-linux-x86_64-0.13.0.tar.xz

# 2. è§£å£“ç¸®
tar -xf zig-linux-x86_64-0.13.0.tar.xz

# 3. ç§»å‹•åˆ°ç³»çµ±ç›®éŒ„
sudo mv zig-linux-x86_64-0.13.0 /opt/zig

# 4. å»ºç«‹ç¬¦è™Ÿé€£çµ
sudo ln -s /opt/zig/zig /usr/local/bin/zig

# 5. é©—è­‰å®‰è£
zig version
</code></pre>
<h3 id="æ–¹æ³•-2-ä½¿ç”¨-snap"><a class="header" href="#æ–¹æ³•-2-ä½¿ç”¨-snap">æ–¹æ³• 2: ä½¿ç”¨ Snap</a></h3>
<pre><code class="language-bash"># å®‰è£
sudo snap install zig --classic --beta

# é©—è­‰
zig version
</code></pre>
<h3 id="æ–¹æ³•-3-ä½¿ç”¨-aptubuntu-2204"><a class="header" href="#æ–¹æ³•-3-ä½¿ç”¨-aptubuntu-2204">æ–¹æ³• 3: ä½¿ç”¨ APTï¼ˆUbuntu 22.04+ï¼‰</a></h3>
<pre><code class="language-bash"># æ›´æ–°å¥—ä»¶åˆ—è¡¨
sudo apt update

# å®‰è£ Zig
sudo apt install zig
</code></pre>
<h3 id="æ–¹æ³•-4-å¾åŸå§‹ç¢¼ç·¨è­¯"><a class="header" href="#æ–¹æ³•-4-å¾åŸå§‹ç¢¼ç·¨è­¯">æ–¹æ³• 4: å¾åŸå§‹ç¢¼ç·¨è­¯</a></h3>
<pre><code class="language-bash"># å®‰è£ä¾è³´
sudo apt update
sudo apt install -y git cmake llvm-14 clang-14 lld-14

# ä¸‹è¼‰åŸå§‹ç¢¼
git clone https://github.com/ziglang/zig.git
cd zig

# ç·¨è­¯
mkdir build
cd build
cmake .. -DCMAKE_BUILD_TYPE=Release
make install

# é©—è­‰
zig version
</code></pre>
<h3 id="åŸºæœ¬ä½¿ç”¨æŒ‡ä»¤"><a class="header" href="#åŸºæœ¬ä½¿ç”¨æŒ‡ä»¤">åŸºæœ¬ä½¿ç”¨æŒ‡ä»¤</a></h3>
<pre><code class="language-bash"># å»ºç«‹å°ˆæ¡ˆç›®éŒ„
mkdir hello-zig
cd hello-zig

# å»ºç«‹ä¸»ç¨‹å¼æª”æ¡ˆ
cat &gt; main.zig &lt;&lt; 'EOF'
const std = @import("std");

pub fn main() void {
    std.debug.print("Hello, Zig!\n", .{});
}
EOF

# ç›´æ¥åŸ·è¡Œï¼ˆé–‹ç™¼æ™‚ä½¿ç”¨ï¼‰
zig run main.zig

# ç·¨è­¯æˆåŸ·è¡Œæª”
zig build-exe main.zig

# åŸ·è¡Œç·¨è­¯å¾Œçš„ç¨‹å¼
./main
</code></pre>
<h3 id="ç·¨è­¯é¸é …è©³è§£"><a class="header" href="#ç·¨è­¯é¸é …è©³è§£">ç·¨è­¯é¸é …è©³è§£</a></h3>
<pre><code class="language-bash"># åŸºæœ¬ç·¨è­¯
zig build-exe main.zig

# æŒ‡å®šè¼¸å‡ºæª”å
zig build-exe main.zig -femit-bin=myapp

# å„ªåŒ–ç­‰ç´š
zig build-exe main.zig -O ReleaseFast    # æœ€ä½³æ•ˆèƒ½
zig build-exe main.zig -O ReleaseSafe    # å¹³è¡¡æ•ˆèƒ½èˆ‡å®‰å…¨
zig build-exe main.zig -O ReleaseSmall   # æœ€å°é«”ç©
zig build-exe main.zig -O Debug          # åµéŒ¯æ¨¡å¼ï¼ˆé è¨­ï¼‰

# éœæ…‹é€£çµï¼ˆé è¨­ï¼‰
zig build-exe main.zig

# å‹•æ…‹é€£çµ
zig build-exe main.zig -dynamic

# äº¤å‰ç·¨è­¯ï¼ˆç·¨è­¯çµ¦å…¶ä»–å¹³å°ï¼‰
zig build-exe main.zig -target x86_64-windows
zig build-exe main.zig -target aarch64-linux
zig build-exe main.zig -target wasm32-wasi
</code></pre>
<h3 id="ä½¿ç”¨-zig-å°ˆæ¡ˆå»ºæ§‹ç³»çµ±"><a class="header" href="#ä½¿ç”¨-zig-å°ˆæ¡ˆå»ºæ§‹ç³»çµ±">ä½¿ç”¨ Zig å°ˆæ¡ˆå»ºæ§‹ç³»çµ±</a></h3>
<pre><code class="language-bash"># å»ºç«‹æ–°å°ˆæ¡ˆ
mkdir myproject
cd myproject

# åˆå§‹åŒ– Zig å°ˆæ¡ˆ
zig init-exe  # å»ºç«‹åŸ·è¡Œæª”å°ˆæ¡ˆ
# æˆ–
zig init-lib  # å»ºç«‹å‡½å¼åº«å°ˆæ¡ˆ

# å°ˆæ¡ˆçµæ§‹
tree
# .
# â”œâ”€â”€ build.zig       # å»ºæ§‹è…³æœ¬
# â”œâ”€â”€ src
# â”‚   â””â”€â”€ main.zig    # ä¸»ç¨‹å¼
# â””â”€â”€ zig-cache/      # å¿«å–ç›®éŒ„ï¼ˆè‡ªå‹•ç”Ÿæˆï¼‰
</code></pre>
<h3 id="æ•´åˆ-c-ç¨‹å¼ç¢¼"><a class="header" href="#æ•´åˆ-c-ç¨‹å¼ç¢¼">æ•´åˆ C ç¨‹å¼ç¢¼</a></h3>
<pre><code class="language-zig">// math_wrapper.zig
const c = @cImport({
    @cInclude("math.h");
    @cInclude("stdio.h");
});

pub fn main() void {
    const result = c.sqrt(16.0);
    _ = c.printf("Square root of 16 is: %f\n", result);
}
</code></pre>
<p>ç·¨è­¯ï¼š</p>
<pre><code class="language-bash"># ç·¨è­¯åŒ…å« C ç¨‹å¼ç¢¼çš„ Zig ç¨‹å¼
zig build-exe math_wrapper.zig -lc
./math_wrapper
</code></pre>
<h3 id="é–‹ç™¼ç’°å¢ƒè¨­å®š"><a class="header" href="#é–‹ç™¼ç’°å¢ƒè¨­å®š">é–‹ç™¼ç’°å¢ƒè¨­å®š</a></h3>
<h4 id="vscode-è¨­å®š"><a class="header" href="#vscode-è¨­å®š">VSCode è¨­å®š</a></h4>
<pre><code class="language-bash"># å®‰è£ VSCode
sudo snap install code --classic

# å®‰è£ Zig æ“´å……å¥—ä»¶
code --install-extension ziglang.vscode-zig

# å»ºç«‹ VSCode è¨­å®šæª” (.vscode/settings.json)
mkdir .vscode
cat &gt; .vscode/settings.json &lt;&lt; 'EOF'
{
    "zig.buildOnSave": true,
    "zig.formattingProvider": "zls",
    "zig.zls.enableAutofix": true
}
EOF
</code></pre>
<h4 id="å®‰è£-zls-zig-language-server"><a class="header" href="#å®‰è£-zls-zig-language-server">å®‰è£ ZLS (Zig Language Server)</a></h4>
<pre><code class="language-bash"># æ–¹æ³• 1: ä½¿ç”¨é ç·¨è­¯ç‰ˆæœ¬
wget https://github.com/zigtools/zls/releases/download/0.11.0/zls-x86_64-linux.tar.gz
tar -xf zls-x86_64-linux.tar.gz
sudo mv zls /usr/local/bin/

# æ–¹æ³• 2: å¾åŸå§‹ç¢¼ç·¨è­¯
git clone https://github.com/zigtools/zls
cd zls
zig build -Doptimize=ReleaseSafe
sudo cp zig-out/bin/zls /usr/local/bin/
</code></pre>
<h3 id="å¸¸ç”¨é–‹ç™¼æŒ‡ä»¤"><a class="header" href="#å¸¸ç”¨é–‹ç™¼æŒ‡ä»¤">å¸¸ç”¨é–‹ç™¼æŒ‡ä»¤</a></h3>
<pre><code class="language-bash"># æ ¼å¼åŒ–ç¨‹å¼ç¢¼
zig fmt src/

# ç”¢ç”Ÿæ–‡ä»¶
zig build-docs

# åŸ·è¡Œå…§å»ºæ¸¬è©¦
zig test src/main.zig

# æª¢æŸ¥ç¨‹å¼ç¢¼
zig ast-check src/main.zig

# é¡¯ç¤ºå»ºæ§‹å¿«å–
zig build --verbose-cc

# æ¸…ç†å¿«å–
rm -rf zig-cache zig-out

# æŸ¥çœ‹ Zig å…§å»ºå‡½å¼
zig builtin

# æŸ¥çœ‹æ”¯æ´çš„ç›®æ¨™å¹³å°
zig targets

# C ç¨‹å¼ç¢¼è½‰æ›ç‚º Zig
zig translate-c helper.c &gt; helper.zig
</code></pre>
<h3 id="åµéŒ¯-zig-ç¨‹å¼"><a class="header" href="#åµéŒ¯-zig-ç¨‹å¼">åµéŒ¯ Zig ç¨‹å¼</a></h3>
<h4 id="ä½¿ç”¨-gdb"><a class="header" href="#ä½¿ç”¨-gdb">ä½¿ç”¨ GDB</a></h4>
<pre><code class="language-bash"># ç·¨è­¯æ™‚åŠ å…¥åµéŒ¯è³‡è¨Š
zig build-exe main.zig -O Debug

# ä½¿ç”¨ GDB åµéŒ¯
gdb ./main

# GDB æŒ‡ä»¤
# (gdb) break main           # è¨­å®šä¸­æ–·é»
# (gdb) run                  # åŸ·è¡Œç¨‹å¼
# (gdb) step                 # å–®æ­¥åŸ·è¡Œ
# (gdb) print variable_name  # å°å‡ºè®Šæ•¸
# (gdb) backtrace           # é¡¯ç¤ºå‘¼å«å †ç–Š
# (gdb) quit                # é›¢é–‹
</code></pre>
<h4 id="ä½¿ç”¨-lldb"><a class="header" href="#ä½¿ç”¨-lldb">ä½¿ç”¨ LLDB</a></h4>
<pre><code class="language-bash"># å®‰è£ LLDB
sudo apt install lldb

# åµéŒ¯
lldb ./main

# LLDB æŒ‡ä»¤
# (lldb) b main             # è¨­å®šä¸­æ–·é»
# (lldb) r                  # åŸ·è¡Œ
# (lldb) s                  # å–®æ­¥åŸ·è¡Œ
# (lldb) p variable_name    # å°å‡ºè®Šæ•¸
# (lldb) bt                 # é¡¯ç¤ºå‘¼å«å †ç–Š
</code></pre>
<h3 id="æ•ˆèƒ½åˆ†æ"><a class="header" href="#æ•ˆèƒ½åˆ†æ">æ•ˆèƒ½åˆ†æ</a></h3>
<pre><code class="language-bash"># ä½¿ç”¨ Valgrind æª¢æŸ¥è¨˜æ†¶é«”æ´©æ¼
sudo apt install valgrind
zig build-exe main.zig -O Debug
valgrind --leak-check=full ./main

# ä½¿ç”¨ perf é€²è¡Œæ•ˆèƒ½åˆ†æ
sudo apt install linux-tools-generic
zig build-exe main.zig -O ReleaseFast
perf record ./main
perf report
</code></pre>
<h3 id="å¸¸è¦‹å•é¡Œè§£æ±º"><a class="header" href="#å¸¸è¦‹å•é¡Œè§£æ±º">å¸¸è¦‹å•é¡Œè§£æ±º</a></h3>
<h4 id="1-ç‰ˆæœ¬ç›¸å®¹æ€§å•é¡Œ"><a class="header" href="#1-ç‰ˆæœ¬ç›¸å®¹æ€§å•é¡Œ">1. ç‰ˆæœ¬ç›¸å®¹æ€§å•é¡Œ</a></h4>
<pre><code class="language-bash"># æª¢æŸ¥ Zig ç‰ˆæœ¬
zig version

# ä½¿ç”¨ç‰¹å®šç‰ˆæœ¬çš„ Zig
# ä¸‹è¼‰ä¸¦ç®¡ç†å¤šå€‹ç‰ˆæœ¬ï¼Œä½¿ç”¨ç¬¦è™Ÿé€£çµåˆ‡æ›
ls -la /opt/zig-*
sudo ln -sf /opt/zig-0.11.0 /opt/zig
</code></pre>
<h4 id="2-ç·¨è­¯éŒ¯èª¤é™¤éŒ¯"><a class="header" href="#2-ç·¨è­¯éŒ¯èª¤é™¤éŒ¯">2. ç·¨è­¯éŒ¯èª¤é™¤éŒ¯</a></h4>
<pre><code class="language-bash"># é¡¯ç¤ºè©³ç´°ç·¨è­¯è³‡è¨Š
zig build-exe main.zig --verbose-cc

# é¡¯ç¤º ASTï¼ˆæŠ½è±¡èªæ³•æ¨¹ï¼‰
zig ast-check --ast main.zig
</code></pre>
<h4 id="3-è¨˜æ†¶é«”å•é¡Œé™¤éŒ¯"><a class="header" href="#3-è¨˜æ†¶é«”å•é¡Œé™¤éŒ¯">3. è¨˜æ†¶é«”å•é¡Œé™¤éŒ¯</a></h4>
<pre><code class="language-zig">// ä½¿ç”¨ GeneralPurposeAllocator çš„é™¤éŒ¯æ¨¡å¼
const std = @import("std");

pub fn main() !void {
    var gpa = std.heap.GeneralPurposeAllocator(.{
        .safety = true,  // å•Ÿç”¨å®‰å…¨æª¢æŸ¥
    }){};
    defer {
        const leaked = gpa.deinit();
        if (leaked) {
            std.debug.print("Memory leak detected!\n", .{});
        }
    }

    const allocator = gpa.allocator();
    // ä½¿ç”¨ allocator...
}
</code></pre>
<hr />
<h2 id="hello-world-å®Œæ•´ç¯„ä¾‹"><a class="header" href="#hello-world-å®Œæ•´ç¯„ä¾‹">Hello World å®Œæ•´ç¯„ä¾‹</a></h2>
<h3 id="å»ºç«‹å°ˆæ¡ˆ"><a class="header" href="#å»ºç«‹å°ˆæ¡ˆ">å»ºç«‹å°ˆæ¡ˆ</a></h3>
<pre><code class="language-bash"># å»ºç«‹å°ˆæ¡ˆç›®éŒ„
mkdir zig-hello
cd zig-hello

# å»ºç«‹ main.zig æª”æ¡ˆ
touch main.zig
</code></pre>
<h3 id="hello-world-ç¨‹å¼ç¢¼"><a class="header" href="#hello-world-ç¨‹å¼ç¢¼">Hello World ç¨‹å¼ç¢¼</a></h3>
<p>å»ºç«‹ <code>main.zig</code> æª”æ¡ˆï¼Œå…§å®¹å¦‚ä¸‹ï¼š</p>
<pre><code class="language-zig">const std = @import("std");

pub fn main() !void {
    // ä½¿ç”¨æ¨™æº–è¼¸å‡º
    const stdout = std.io.getStdOut().writer();

    // æ–¹æ³• 1: ç°¡å–®è¼¸å‡º
    try stdout.print("Hello, World!\n", .{});

    // æ–¹æ³• 2: æ ¼å¼åŒ–è¼¸å‡º
    const name = "Zig";
    const version = "0.13.0";
    try stdout.print("Hello from {s} {s}!\n", .{name, version});

    // æ–¹æ³• 3: Debug è¼¸å‡º
    std.debug.print("Debug: Hello, World!\n", .{});
}
</code></pre>
<h3 id="ç·¨è­¯å’ŒåŸ·è¡Œ"><a class="header" href="#ç·¨è­¯å’ŒåŸ·è¡Œ">ç·¨è­¯å’ŒåŸ·è¡Œ</a></h3>
<pre><code class="language-bash"># ç·¨è­¯ä¸¦åŸ·è¡Œï¼ˆä¸€æ­¥å®Œæˆï¼‰
zig run main.zig

# è¼¸å‡ºï¼š
# Hello, World!
# Hello from Zig 0.13.0!
# Debug: Hello, World!
</code></pre>
<h3 id="ç·¨è­¯ç‚ºå¯åŸ·è¡Œæª”"><a class="header" href="#ç·¨è­¯ç‚ºå¯åŸ·è¡Œæª”">ç·¨è­¯ç‚ºå¯åŸ·è¡Œæª”</a></h3>
<pre><code class="language-bash"># Debug æ¨¡å¼ç·¨è­¯
zig build-exe main.zig

# Release æ¨¡å¼ç·¨è­¯ï¼ˆå„ªåŒ–ï¼‰
zig build-exe main.zig -O ReleaseFast

# Release æ¨¡å¼ï¼ˆå°é«”ç©ï¼‰
zig build-exe main.zig -O ReleaseSmall

# Release æ¨¡å¼ï¼ˆå®‰å…¨æª¢æŸ¥ï¼‰
zig build-exe main.zig -O ReleaseSafe

# åŸ·è¡Œ
./main
</code></pre>
<h3 id="é€²éšç¯„ä¾‹å¸¶åƒæ•¸çš„-hello-world"><a class="header" href="#é€²éšç¯„ä¾‹å¸¶åƒæ•¸çš„-hello-world">é€²éšç¯„ä¾‹ï¼šå¸¶åƒæ•¸çš„ Hello World</a></h3>
<pre><code class="language-zig">const std = @import("std");

pub fn main() !void {
    // å–å¾— allocator
    var gpa = std.heap.GeneralPurposeAllocator(.{}){};
    defer _ = gpa.deinit();
    const allocator = gpa.allocator();

    // å–å¾—å‘½ä»¤åˆ—åƒæ•¸
    const args = try std.process.argsAlloc(allocator);
    defer std.process.argsFree(allocator, args);

    const stdout = std.io.getStdOut().writer();

    if (args.len &gt; 1) {
        try stdout.print("Hello, {s}!\n", .{args[1]});
    } else {
        try stdout.print("Hello, World!\n", .{});
    }
}
</code></pre>
<p>åŸ·è¡Œï¼š</p>
<pre><code class="language-bash">zig build-exe hello.zig
./hello           # è¼¸å‡º: Hello, World!
./hello Alice     # è¼¸å‡º: Hello, Alice!
</code></pre>
<h3 id="ä½¿ç”¨-build-system"><a class="header" href="#ä½¿ç”¨-build-system">ä½¿ç”¨ Build System</a></h3>
<p>å»ºç«‹ <code>build.zig</code>ï¼š</p>
<pre><code class="language-zig">const std = @import("std");

pub fn build(b: *std.Build) void {
    const target = b.standardTargetOptions(.{});
    const optimize = b.standardOptimizeOption(.{});

    const exe = b.addExecutable(.{
        .name = "hello",
        .root_source_file = b.path("main.zig"),
        .target = target,
        .optimize = optimize,
    });

    b.installArtifact(exe);

    const run_cmd = b.addRunArtifact(exe);
    run_cmd.step.dependOn(b.getInstallStep());

    const run_step = b.step("run", "Run the app");
    run_step.dependOn(&amp;run_cmd.step);
}
</code></pre>
<p>ä½¿ç”¨ build systemï¼š</p>
<pre><code class="language-bash"># ç·¨è­¯
zig build

# ç·¨è­¯ä¸¦åŸ·è¡Œ
zig build run

# å¯åŸ·è¡Œæª”åœ¨ zig-out/bin/ ç›®éŒ„
./zig-out/bin/hello
</code></pre>
<hr />
<h2 id="å„ªç¼ºé»ç¸½çµ"><a class="header" href="#å„ªç¼ºé»ç¸½çµ">å„ªç¼ºé»ç¸½çµ</a></h2>
<h3 id="c-èªè¨€å„ªé»"><a class="header" href="#c-èªè¨€å„ªé»">C èªè¨€å„ªé»</a></h3>
<ol>
<li>æˆç†Ÿç©©å®šï¼Œç”Ÿæ…‹ç³»çµ±é¾å¤§</li>
<li>å¹¾ä¹æ‰€æœ‰å¹³å°éƒ½æ”¯æ´</li>
<li>å¤§é‡çš„å‡½å¼åº«å’Œå·¥å…·</li>
<li>è±å¯Œçš„å­¸ç¿’è³‡æº</li>
<li>ç°¡å–®ç›´æ¥çš„èªæ³•</li>
</ol>
<h3 id="c-èªè¨€ç¼ºé»"><a class="header" href="#c-èªè¨€ç¼ºé»">C èªè¨€ç¼ºé»</a></h3>
<ol>
<li>å¤§é‡æœªå®šç¾©è¡Œç‚º</li>
<li>æ‰‹å‹•è¨˜æ†¶é«”ç®¡ç†å®¹æ˜“å‡ºéŒ¯</li>
<li>ç¼ºä¹ç¾ä»£èªè¨€ç‰¹æ€§</li>
<li>é è™•ç†å™¨ç³»çµ±è¤‡é›œä¸”å®¹æ˜“å‡ºéŒ¯</li>
<li>æ²’æœ‰å…§å»ºçš„éŒ¯èª¤è™•ç†æ©Ÿåˆ¶</li>
</ol>
<h3 id="zig-èªè¨€å„ªé»"><a class="header" href="#zig-èªè¨€å„ªé»">Zig èªè¨€å„ªé»</a></h3>
<ol>
<li>æ²’æœ‰æœªå®šç¾©è¡Œç‚º</li>
<li>å„ªç§€çš„ç·¨è­¯æ™‚åŸ·è¡Œèƒ½åŠ›</li>
<li>å…§å»ºéŒ¯èª¤è™•ç†æ©Ÿåˆ¶</li>
<li>æ›´å¥½çš„å‹åˆ¥å®‰å…¨</li>
<li>å…§å»ºäº¤å‰ç·¨è­¯æ”¯æ´</li>
<li>å¯ç›´æ¥ä½¿ç”¨ C ç¨‹å¼ç¢¼</li>
<li>ä¸éœ€è¦æ¨™é ­æª”</li>
<li>defer èªå¥ç¢ºä¿è³‡æºæ¸…ç†</li>
</ol>
<h3 id="zig-èªè¨€ç¼ºé»"><a class="header" href="#zig-èªè¨€ç¼ºé»">Zig èªè¨€ç¼ºé»</a></h3>
<ol>
<li>ç›¸å°è¼ƒæ–°ï¼Œç”Ÿæ…‹ç³»çµ±è¼ƒå°</li>
<li>æ–‡ä»¶å’Œå­¸ç¿’è³‡æºè¼ƒå°‘</li>
<li>èªè¨€ä»åœ¨ç™¼å±•ä¸­ï¼ˆå°šæœªåˆ° 1.0 ç‰ˆï¼‰</li>
<li>IDE æ”¯æ´ä¸å¦‚ C æˆç†Ÿ</li>
<li>ç¤¾ç¾¤ç›¸å°è¼ƒå°</li>
</ol>
<hr />
<h2 id="é·ç§»å»ºè­°"><a class="header" href="#é·ç§»å»ºè­°">é·ç§»å»ºè­°</a></h2>
<h3 id="å¾-c-é·ç§»åˆ°-zig-çš„æ­¥é©Ÿ"><a class="header" href="#å¾-c-é·ç§»åˆ°-zig-çš„æ­¥é©Ÿ">å¾ C é·ç§»åˆ° Zig çš„æ­¥é©Ÿ</a></h3>
<ol>
<li><strong>æ¼¸é€²å¼é·ç§»</strong>ï¼šZig å¯ä»¥ç›´æ¥å°å…¥å’Œä½¿ç”¨ C ç¨‹å¼ç¢¼ï¼Œå¯ä»¥é€æ­¥é·ç§»</li>
<li><strong>å­¸ç¿’æ–°æ¦‚å¿µ</strong>ï¼šé‡é»å­¸ç¿’éŒ¯èª¤è™•ç†ã€å¯é¸é¡å‹ã€ç·¨è­¯æ™‚åŸ·è¡Œ</li>
<li><strong>åˆ©ç”¨ Zig çš„å„ªå‹¢</strong>ï¼šä½¿ç”¨ deferã€éŒ¯èª¤è¯åˆã€ç·¨è­¯æ™‚é©—è­‰</li>
<li><strong>ä¿æŒ C ç›¸å®¹æ€§</strong>ï¼šå¯ä»¥ç¹¼çºŒä½¿ç”¨ç¾æœ‰çš„ C å‡½å¼åº«</li>
</ol>
<h3 id="é©åˆä½¿ç”¨-zig-çš„å ´æ™¯"><a class="header" href="#é©åˆä½¿ç”¨-zig-çš„å ´æ™¯">é©åˆä½¿ç”¨ Zig çš„å ´æ™¯</a></h3>
<ul>
<li>æ–°çš„ç³»çµ±ç¨‹å¼å°ˆæ¡ˆ</li>
<li>éœ€è¦æ›´å¥½çš„å®‰å…¨æ€§ä¿è­‰</li>
<li>åµŒå…¥å¼ç³»çµ±é–‹ç™¼</li>
<li>WebAssembly ç›®æ¨™</li>
<li>éœ€è¦äº¤å‰ç·¨è­¯çš„å°ˆæ¡ˆ</li>
</ul>
<h3 id="é©åˆç¹¼çºŒä½¿ç”¨-c-çš„å ´æ™¯"><a class="header" href="#é©åˆç¹¼çºŒä½¿ç”¨-c-çš„å ´æ™¯">é©åˆç¹¼çºŒä½¿ç”¨ C çš„å ´æ™¯</a></h3>
<ul>
<li>ç¶­è­·ç¾æœ‰çš„å¤§å‹ C ç¨‹å¼ç¢¼åº«</li>
<li>éœ€è¦æœ€å»£æ³›çš„å¹³å°æ”¯æ´</li>
<li>åœ˜éšŠå·²ç¶“ç†Ÿæ‚‰ C</li>
<li>ä¾è³´ç‰¹å®šçš„ C å·¥å…·éˆ</li>
</ul>
<hr />
<h2 id="ç¸½çµå°ç…§è¡¨"><a class="header" href="#ç¸½çµå°ç…§è¡¨">ç¸½çµå°ç…§è¡¨</a></h2>
<div class="table-wrapper"><table><thead><tr><th>é …ç›®</th><th>C èªè¨€</th><th>Zig èªè¨€</th></tr></thead><tbody>
<tr><td><strong>å­¸ç¿’æ›²ç·š</strong></td><td>ä½</td><td>ä¸­ç­‰</td></tr>
<tr><td><strong>è¨˜æ†¶é«”å®‰å…¨</strong></td><td>æ‰‹å‹•ï¼Œæ˜“å‡ºéŒ¯</td><td>æ›´å®‰å…¨ï¼Œæœ‰æª¢æŸ¥</td></tr>
<tr><td><strong>ç·¨è­¯é€Ÿåº¦</strong></td><td>å¿«</td><td>éå¸¸å¿«</td></tr>
<tr><td><strong>åŸ·è¡Œæ•ˆèƒ½</strong></td><td>æ¥µå¿«</td><td>æ¥µå¿«ï¼ˆç›¸ç•¶ï¼‰</td></tr>
<tr><td><strong>å·¥å…·éˆ</strong></td><td>æˆç†Ÿï¼Œå¤šæ¨£</td><td>ç¾ä»£ï¼Œæ•´åˆ</td></tr>
<tr><td><strong>ç”Ÿæ…‹ç³»çµ±</strong></td><td>é¾å¤§</td><td>æˆé•·ä¸­</td></tr>
<tr><td><strong>é©ç”¨å ´æ™¯</strong></td><td>ç³»çµ±ã€åµŒå…¥å¼</td><td>ç³»çµ±ã€åµŒå…¥å¼</td></tr>
<tr><td><strong>ç¶­è­·æ€§</strong></td><td>ä¸­ç­‰</td><td>è¼ƒå¥½</td></tr>
</tbody></table>
</div>
<h2 id="ä½•æ™‚é¸æ“‡-zig"><a class="header" href="#ä½•æ™‚é¸æ“‡-zig">ä½•æ™‚é¸æ“‡ Zigï¼Ÿ</a></h2>
<p>âœ… <strong>é¸æ“‡ Zigï¼š</strong></p>
<ul>
<li>æ–°å°ˆæ¡ˆï¼Œæƒ³è¦ç¾ä»£èªè¨€ç‰¹æ€§</li>
<li>éœ€è¦æ›´å¥½çš„éŒ¯èª¤è™•ç†</li>
<li>é‡è¦–ç·¨è­¯æ™‚å®‰å…¨æª¢æŸ¥</li>
<li>éœ€è¦è·¨å¹³å°ç·¨è­¯</li>
<li>æƒ³è¦æ›´å¥½çš„ C äº’æ“ä½œ</li>
</ul>
<p>âš ï¸ <strong>é¸æ“‡ Cï¼š</strong></p>
<ul>
<li>éœ€è¦æ¥µåº¦æˆç†Ÿçš„ç”Ÿæ…‹ç³»çµ±</li>
<li>åœ˜éšŠå·²ç†Ÿæ‚‰ C</li>
<li>éœ€è¦å¤§é‡ç¾æˆçš„å‡½å¼åº«</li>
<li>å°ˆæ¡ˆå·²ç¶“ç”¨ C é–‹ç™¼</li>
</ul>
<hr />
<h2 id="åƒè€ƒè³‡æº"><a class="header" href="#åƒè€ƒè³‡æº">åƒè€ƒè³‡æº</a></h2>
<ul>
<li><strong>å®˜æ–¹ç¶²ç«™</strong>: https://ziglang.org/</li>
<li><strong>æ–‡æª”</strong>: https://ziglang.org/documentation/master/</li>
<li><strong>å­¸ç¿’è³‡æº</strong>: https://ziglearn.org/</li>
<li><strong>æ¨™æº–åº«æ–‡æª”</strong>: https://ziglang.org/documentation/master/std/</li>
<li><strong>GitHub</strong>: https://github.com/ziglang/zig</li>
</ul>
<hr />
<p><strong>æœ€å¾Œæ›´æ–°</strong>: 2025-10-19</p>
<hr />
<p><em>Zig æ˜¯ä¸€å€‹ç¾ä»£åŒ–çš„ç³»çµ±ç¨‹å¼èªè¨€ï¼Œæ—¨åœ¨è§£æ±º C èªè¨€çš„è¨±å¤šå•é¡Œï¼ŒåŒæ™‚ä¿æŒ C çš„ç°¡å–®æ€§å’Œæ•ˆèƒ½ã€‚é›–ç„¶ Zig é‚„åœ¨ç™¼å±•ä¸­ï¼Œä½†å®ƒæä¾›äº†è¨±å¤šå¸å¼•äººçš„ç‰¹æ€§ï¼Œç‰¹åˆ¥æ˜¯åœ¨å®‰å…¨æ€§å’Œé–‹ç™¼é«”é©—æ–¹é¢ã€‚å°æ–¼æ–°å°ˆæ¡ˆï¼ŒZig æ˜¯ä¸€å€‹å€¼å¾—è€ƒæ…®çš„é¸æ“‡ï¼›å°æ–¼ç¾æœ‰çš„ C å°ˆæ¡ˆï¼Œå¯ä»¥è€ƒæ…®æ¼¸é€²å¼åœ°å¼•å…¥ Zigã€‚</em></p>
<p><em>é¸æ“‡ä½¿ç”¨å“ªç¨®èªè¨€æ‡‰è©²åŸºæ–¼å°ˆæ¡ˆéœ€æ±‚ã€åœ˜éšŠç¶“é©—å’Œé•·æœŸç¶­è­·è€ƒé‡ã€‚å…©ç¨®èªè¨€éƒ½æœ‰å…¶é©ç”¨çš„å ´æ™¯ï¼Œäº†è§£å®ƒå€‘çš„å·®ç•°æœ‰åŠ©æ–¼åšå‡ºæ˜æ™ºçš„æŠ€è¡“æ±ºç­–ã€‚</em></p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../zig/zig_compiler_size.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../web/index.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../zig/zig_compiler_size.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../web/index.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>



        <script>
            window.playground_line_numbers = true;
        </script>

        <script>
            window.playground_copyable = true;
        </script>

        <script src="../ace.js"></script>
        <script src="../mode-rust.js"></script>
        <script src="../editor.js"></script>
        <script src="../theme-dawn.js"></script>
        <script src="../theme-tomorrow_night.js"></script>

        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->
        <script src="../mermaid.min.js"></script>
        <script src="../mermaid-init.js"></script>



    </div>
    </body>
</html>
