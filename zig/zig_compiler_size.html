<!DOCTYPE HTML>
<html lang="zh" class="rust sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>ç‚ºä»€éº¼ Zig ç·¨è­¯å™¨ç¨‹å¼ç¢¼é‚£éº¼å°ï¼Ÿ - Jason Notes</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="../highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="../tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "../";
            const default_light_theme = "rust";
            const default_dark_theme = "navy";
            window.path_to_searchindex_js = "../searchindex.js";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../toc.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>â†</kbd> or <kbd>â†’</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('rust')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
                sidebar_toggle.checked = false;
            }
            if (sidebar === 'visible') {
                sidebar_toggle.checked = true;
            } else {
                html.classList.remove('sidebar-visible');
            }
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Jason Notes</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/shihyu/jason_note" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <div class="search-wrapper">
                            <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                            <div class="spinner-wrapper">
                                <i class="fa fa-spinner fa-spin"></i>
                            </div>
                        </div>
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="ç‚ºä»€éº¼-zig-ç·¨è­¯å™¨ç¨‹å¼ç¢¼é‚£éº¼å°"><a class="header" href="#ç‚ºä»€éº¼-zig-ç·¨è­¯å™¨ç¨‹å¼ç¢¼é‚£éº¼å°">ç‚ºä»€éº¼ Zig ç·¨è­¯å™¨ç¨‹å¼ç¢¼é‚£éº¼å°ï¼Ÿ</a></h1>
<p>Zig ç·¨è­¯å™¨çš„ç¨‹å¼ç¢¼é‡ç¢ºå¯¦æ¯”å…¶ä»–ä¸»æµç·¨è­¯å™¨å°å¾ˆå¤šï¼Œé€™èƒŒå¾Œæœ‰å¹¾å€‹é—œéµè¨­è¨ˆæ±ºç­–ã€‚</p>
<hr />
<h2 id="1-ç¨‹å¼ç¢¼é‡å°æ¯”"><a class="header" href="#1-ç¨‹å¼ç¢¼é‡å°æ¯”">1. ç¨‹å¼ç¢¼é‡å°æ¯”</a></h2>
<pre><code>Zig ç·¨è­¯å™¨:     ~30 è¬è¡Œç¨‹å¼ç¢¼
Rust ç·¨è­¯å™¨:    ~200 è¬è¡Œç¨‹å¼ç¢¼
LLVM:          ~1000 è¬è¡Œç¨‹å¼ç¢¼
GCC:           ~1500 è¬è¡Œç¨‹å¼ç¢¼
Clang:         ~100 è¬è¡Œç¨‹å¼ç¢¼
</code></pre>
<hr />
<h2 id="2-æ ¸å¿ƒè¨­è¨ˆå“²å­¸"><a class="header" href="#2-æ ¸å¿ƒè¨­è¨ˆå“²å­¸">2. æ ¸å¿ƒè¨­è¨ˆå“²å­¸</a></h2>
<h3 id="-ç°¡å–®å‹æ–¼è¤‡é›œsimplicity-over-complexity"><a class="header" href="#-ç°¡å–®å‹æ–¼è¤‡é›œsimplicity-over-complexity">ğŸ¯ ç°¡å–®å‹æ–¼è¤‡é›œï¼ˆSimplicity over Complexityï¼‰</a></h3>
<p>Zig çš„è¨­è¨ˆåŸå‰‡ï¼š</p>
<ul>
<li><strong>æ²’æœ‰éš±è—æ§åˆ¶æµ</strong>ï¼šæ²’æœ‰ç•°å¸¸ã€æ²’æœ‰éš±å¼è¨˜æ†¶é«”åˆ†é…</li>
<li><strong>æ²’æœ‰å·¨é›†ç³»çµ±</strong>ï¼šä¸éœ€è¦è¤‡é›œçš„å·¨é›†å±•é–‹å¼•æ“</li>
<li><strong>æ²’æœ‰é‹ç®—å­é‡è¼‰</strong>ï¼šæ¸›å°‘èªæ„åˆ†æè¤‡é›œåº¦</li>
<li><strong>æ²’æœ‰å‹åˆ¥æ¨å°</strong>ï¼šæ˜ç¢ºçš„å‹åˆ¥ç³»çµ±æ›´å®¹æ˜“å¯¦ä½œ</li>
</ul>
<pre><code class="language-zig">// Zigï¼šæ˜ç¢ºã€ç°¡å–®
const allocator = std.heap.page_allocator;
const memory = try allocator.alloc(u8, 100);
defer allocator.free(memory);
</code></pre>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>// Rustï¼šè¤‡é›œçš„æ‰€æœ‰æ¬Šç³»çµ±éœ€è¦æ›´å¤šç·¨è­¯å™¨é‚è¼¯
let mut vec = Vec::new();
vec.push(1);
// ç·¨è­¯å™¨éœ€è¦è¿½è¹¤ lifetimeã€borrowingã€ownership
<span class="boring">}</span></code></pre></pre>
<hr />
<h2 id="3-æŠ€è¡“å¯¦ç¾ç­–ç•¥"><a class="header" href="#3-æŠ€è¡“å¯¦ç¾ç­–ç•¥">3. æŠ€è¡“å¯¦ç¾ç­–ç•¥</a></h2>
<h3 id="a-ç›´æ¥ä½¿ç”¨-llvm-å¾Œç«¯"><a class="header" href="#a-ç›´æ¥ä½¿ç”¨-llvm-å¾Œç«¯">A. ç›´æ¥ä½¿ç”¨ LLVM å¾Œç«¯</a></h3>
<p>Zig ä¸è‡ªå·±å¯¦ä½œç¨‹å¼ç¢¼ç”Ÿæˆï¼š</p>
<pre><code>å…¶ä»–ç·¨è­¯å™¨æ¶æ§‹:
Source â†’ Lexer â†’ Parser â†’ AST â†’ IR â†’ å„ªåŒ– â†’ ç¨‹å¼ç¢¼ç”Ÿæˆ â†’ Machine Code
                                    â†‘ è‡ªå·±å¯¦ä½œé€™äº›éƒ¨åˆ†

Zig æ¶æ§‹:
Source â†’ Lexer â†’ Parser â†’ AST â†’ LLVM IR â†’ (äº¤çµ¦ LLVM è™•ç†)
                                â†‘ åªåšåˆ°é€™è£¡
</code></pre>
<p><strong>ç¯€çœçš„ç¨‹å¼ç¢¼é‡</strong>ï¼š</p>
<ul>
<li>âœ… ä¸éœ€è¦å¯¦ä½œå¤šå¹³å°ç¨‹å¼ç¢¼ç”Ÿæˆå™¨</li>
<li>âœ… ä¸éœ€è¦å¯¦ä½œè¤‡é›œçš„å„ªåŒ– pass</li>
<li>âœ… ä¸éœ€è¦ç¶­è­·å¹³å°ç›¸é—œçš„çµ„åˆèªè¨€è¼¸å‡º</li>
</ul>
<hr />
<h3 id="b-æ²’æœ‰è¤‡é›œçš„å‹åˆ¥ç³»çµ±"><a class="header" href="#b-æ²’æœ‰è¤‡é›œçš„å‹åˆ¥ç³»çµ±">B. æ²’æœ‰è¤‡é›œçš„å‹åˆ¥ç³»çµ±</a></h3>
<pre><code class="language-zig">// Zigï¼šç°¡å–®çš„å‹åˆ¥ç³»çµ±
fn add(a: i32, b: i32) i32 {
    return a + b;
}
</code></pre>
<p>å°æ¯” Rust ç·¨è­¯å™¨éœ€è¦è™•ç†çš„è¤‡é›œåº¦ï¼š</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>// Rustï¼šéœ€è¦è™•ç† lifetimeã€trait boundsã€æ³›å‹ç´„æŸ
fn add&lt;T&gt;(a: T, b: T) -&gt; T 
where 
    T: std::ops::Add&lt;Output = T&gt; + Copy 
{
    a + b
}

// ç·¨è­¯å™¨éœ€è¦ï¼š
// 1. Trait resolutionï¼ˆç‰¹å¾µè§£æï¼‰
// 2. Lifetime inferenceï¼ˆç”Ÿå‘½é€±æœŸæ¨å°ï¼‰
// 3. Borrow checkerï¼ˆå€Ÿç”¨æª¢æŸ¥å™¨ï¼‰
// 4. Monomorphizationï¼ˆå–®æ…‹åŒ–ï¼‰
<span class="boring">}</span></code></pre></pre>
<p><strong>Zig ç·¨è­¯å™¨çœç•¥çš„åŠŸèƒ½</strong>ï¼š</p>
<ul>
<li>âŒ æ²’æœ‰ Trait ç³»çµ±</li>
<li>âŒ æ²’æœ‰ Lifetime åˆ†æ</li>
<li>âŒ æ²’æœ‰ Borrow Checker</li>
<li>âŒ æ²’æœ‰è¤‡é›œçš„æ³›å‹æ¨å°</li>
</ul>
<hr />
<h3 id="c-comptimeç·¨è­¯æœŸåŸ·è¡Œè€Œéè¤‡é›œæ¨å°"><a class="header" href="#c-comptimeç·¨è­¯æœŸåŸ·è¡Œè€Œéè¤‡é›œæ¨å°">C. Comptimeï¼šç·¨è­¯æœŸåŸ·è¡Œï¼Œè€Œéè¤‡é›œæ¨å°</a></h3>
<p>Zig çš„å¤©æ‰è¨­è¨ˆï¼šç”¨<strong>ç·¨è­¯æœŸåŸ·è¡Œ</strong>å–ä»£<strong>è¤‡é›œçš„å‹åˆ¥ç³»çµ±</strong></p>
<pre><code class="language-zig">// Zigï¼šç›´æ¥åœ¨ç·¨è­¯æœŸåŸ·è¡Œç¨‹å¼ç¢¼
fn max(comptime T: type) type {
    return struct {
        pub fn get(a: T, b: T) T {
            return if (a &gt; b) a else b;
        }
    };
}

// ç·¨è­¯å™¨åªéœ€è¦ï¼š
// 1. åœ¨ç·¨è­¯æœŸåŸ·è¡Œé€™æ®µç¨‹å¼ç¢¼
// 2. ç”Ÿæˆçµæœ
// ä¸éœ€è¦è¤‡é›œçš„å‹åˆ¥æ¨å°å¼•æ“ï¼
</code></pre>
<p>å°æ¯” C++ çš„æ¨¡æ¿ç³»çµ±ï¼š</p>
<pre><code class="language-cpp">// C++ï¼šéœ€è¦è¤‡é›œçš„ template instantiation å¼•æ“
template&lt;typename T&gt;
T max(T a, T b) {
    return a &gt; b ? a : b;
}

// ç·¨è­¯å™¨éœ€è¦ï¼š
// 1. Template parsing
// 2. SFINAE (Substitution Failure Is Not An Error)
// 3. Template specialization resolution
// 4. Two-phase lookup
// é€™äº›éƒ½éœ€è¦å¤§é‡ç¨‹å¼ç¢¼å¯¦ä½œï¼
</code></pre>
<hr />
<h3 id="d-è‡ªèˆ‰self-hostingçš„å„ªå‹¢"><a class="header" href="#d-è‡ªèˆ‰self-hostingçš„å„ªå‹¢">D. è‡ªèˆ‰ï¼ˆSelf-Hostingï¼‰çš„å„ªå‹¢</a></h3>
<p>Zig ç·¨è­¯å™¨æ˜¯ç”¨ Zig å¯«çš„ï¼š</p>
<pre><code class="language-zig">// Zig ç·¨è­¯å™¨æœ¬èº«å°±æ˜¯ Zig ç¨‹å¼
// å¯ä»¥ä½¿ç”¨ Zig çš„ comptime åŠŸèƒ½ä¾†ç°¡åŒ–å¯¦ä½œ

const Parser = struct {
    tokens: []Token,
    pos: usize,
    
    // ç·¨è­¯æœŸç”Ÿæˆ parsing è¡¨æ ¼
    const parse_table = comptime generateParseTable();
};
</code></pre>
<p><strong>å¥½è™•</strong>ï¼š</p>
<ul>
<li>âœ… ç”¨ comptime ç°¡åŒ–ç·¨è­¯å™¨é‚è¼¯</li>
<li>âœ… ä¸éœ€è¦å¯«å…©æ¬¡ï¼ˆbootstrapping compiler + æ­£å¼ compilerï¼‰</li>
<li>âœ… ç·¨è­¯å™¨æœ¬èº«å°±æ˜¯æœ€å¥½çš„æ¸¬è©¦æ¡ˆä¾‹</li>
</ul>
<hr />
<h2 id="4-èˆ‡å…¶ä»–ç·¨è­¯å™¨çš„å°æ¯”"><a class="header" href="#4-èˆ‡å…¶ä»–ç·¨è­¯å™¨çš„å°æ¯”">4. èˆ‡å…¶ä»–ç·¨è­¯å™¨çš„å°æ¯”</a></h2>
<h3 id="rust-ç‚ºä»€éº¼å¤§"><a class="header" href="#rust-ç‚ºä»€éº¼å¤§">Rust ç‚ºä»€éº¼å¤§ï¼Ÿ</a></h3>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>// Rust ç·¨è­¯å™¨éœ€è¦è™•ç†ï¼š

// 1. Borrow Checkerï¼ˆæœ€è¤‡é›œçš„éƒ¨åˆ†ï¼‰
fn process(data: &amp;mut Vec&lt;i32&gt;) {
    // ç·¨è­¯å™¨éœ€è¦è¿½è¹¤æ¯å€‹è®Šæ•¸çš„ lifetime
    // é©—è­‰æ²’æœ‰ data race
    // é€™éœ€è¦å¤§é‡ç¨‹å¼ç¢¼ï¼
}

// 2. Trait System
impl&lt;T: Display + Debug&gt; MyTrait for T { }
// éœ€è¦ trait coherence æª¢æŸ¥
// éœ€è¦ trait resolution æ¼”ç®—æ³•

// 3. Async/Await
async fn fetch() -&gt; Result&lt;String, Error&gt; { }
// éœ€è¦ç‹€æ…‹æ©Ÿè½‰æ›
// éœ€è¦ Future trait å¯¦ä½œ
<span class="boring">}</span></code></pre></pre>
<h3 id="c-ç‚ºä»€éº¼å¤§"><a class="header" href="#c-ç‚ºä»€éº¼å¤§">C++ ç‚ºä»€éº¼å¤§ï¼Ÿ</a></h3>
<pre><code class="language-cpp">// C++ éœ€è¦æ”¯æ´ 40 å¹´çš„æ­·å²åŒ…è¢±

// 1. è¤‡é›œçš„å·¨é›†ç³»çµ±
#define COMPLEX_MACRO(x) \
    template&lt;typename T&gt; \
    void func_##x(T t) { }

// 2. å¤šé‡ç¹¼æ‰¿
class D : public A, public B, public C { };

// 3. Template Metaprogramming
template&lt;int N&gt;
struct Factorial {
    static const int value = N * Factorial&lt;N-1&gt;::value;
};
</code></pre>
<hr />
<h2 id="5-zig-çš„è°æ˜å–æ¨"><a class="header" href="#5-zig-çš„è°æ˜å–æ¨">5. Zig çš„è°æ˜å–æ¨</a></h2>
<h3 id="-ä¸å¯¦ä½œçš„åŠŸèƒ½"><a class="header" href="#-ä¸å¯¦ä½œçš„åŠŸèƒ½">âŒ ä¸å¯¦ä½œçš„åŠŸèƒ½</a></h3>
<pre><code class="language-zig">// 1. æ²’æœ‰ç•°å¸¸è™•ç†
// C++/Java éœ€è¦å¯¦ä½œè¤‡é›œçš„ exception unwinding
// Zigï¼šç”¨ error union
fn readFile() ![]u8 {
    return error.FileNotFound;
}

// 2. æ²’æœ‰é‹ç®—å­é‡è¼‰
// C++ éœ€è¦è™•ç†æ‰€æœ‰é‹ç®—å­çš„é‡è¼‰æ±ºè­°
// Zigï¼šæ˜ç¢ºçš„å‡½æ•¸å‘¼å«
const result = vec.add(other_vec);

// 3. æ²’æœ‰ OOP ç¹¼æ‰¿
// Java/C++ éœ€è¦è™›å‡½æ•¸è¡¨ã€å‹•æ…‹åˆ†æ´¾
// Zigï¼šç”¨ä»‹é¢ï¼ˆinterfaceï¼‰æ¨¡å¼
const interface = MyInterface{
    .ptr = &amp;obj,
    .vtable = &amp;vtable,
};
</code></pre>
<hr />
<h2 id="6-å¯¦éš›ç¨‹å¼ç¢¼é‡çµ±è¨ˆ"><a class="header" href="#6-å¯¦éš›ç¨‹å¼ç¢¼é‡çµ±è¨ˆ">6. å¯¦éš›ç¨‹å¼ç¢¼é‡çµ±è¨ˆ</a></h2>
<h3 id="zig-ç·¨è­¯å™¨ä¸»è¦æ¨¡çµ„"><a class="header" href="#zig-ç·¨è­¯å™¨ä¸»è¦æ¨¡çµ„">Zig ç·¨è­¯å™¨ä¸»è¦æ¨¡çµ„</a></h3>
<pre><code>src/
â”œâ”€â”€ Ast.zig           (èªæ³•æ¨¹, ~5K lines)
â”œâ”€â”€ Sema.zig          (èªæ„åˆ†æ, ~8K lines)  
â”œâ”€â”€ Codegen.zig       (LLVM IR ç”Ÿæˆ, ~6K lines)
â”œâ”€â”€ Type.zig          (å‹åˆ¥ç³»çµ±, ~4K lines)
â”œâ”€â”€ Module.zig        (æ¨¡çµ„ç³»çµ±, ~3K lines)
â””â”€â”€ main.zig          (ä¸»ç¨‹å¼, ~2K lines)

ç¸½è¨ˆï¼š~30 è¬è¡Œï¼ˆåŒ…å«æ¨™æº–åº«ï¼‰
</code></pre>
<h3 id="å°æ¯”-rust"><a class="header" href="#å°æ¯”-rust">å°æ¯” Rust</a></h3>
<pre><code>rustc/
â”œâ”€â”€ typeck/           (å‹åˆ¥æª¢æŸ¥, ~50K lines)
â”œâ”€â”€ borrowck/         (å€Ÿç”¨æª¢æŸ¥, ~40K lines)
â”œâ”€â”€ traits/           (Trait ç³»çµ±, ~30K lines)
â”œâ”€â”€ mir/              (ä¸­é–“è¡¨ç¤º, ~25K lines)
â””â”€â”€ ... (é‚„æœ‰å¾ˆå¤š)

ç¸½è¨ˆï¼š~200 è¬è¡Œ
</code></pre>
<hr />
<h2 id="7-è¨­è¨ˆå“²å­¸çš„å½±éŸ¿"><a class="header" href="#7-è¨­è¨ˆå“²å­¸çš„å½±éŸ¿">7. è¨­è¨ˆå“²å­¸çš„å½±éŸ¿</a></h2>
<h3 id="zig-çš„æ ¸å¿ƒä¿¡å¿µ"><a class="header" href="#zig-çš„æ ¸å¿ƒä¿¡å¿µ">Zig çš„æ ¸å¿ƒä¿¡å¿µ</a></h3>
<blockquote>
<p>"å¦‚æœä½ èƒ½åœ¨ç·¨è­¯æœŸåŸ·è¡Œå®ƒï¼Œå°±ä¸éœ€è¦ç‰¹æ®Šçš„èªè¨€åŠŸèƒ½"</p>
</blockquote>
<pre><code class="language-zig">// ç¯„ä¾‹ï¼šä¸éœ€è¦ç‰¹æ®Šçš„ foreach èªæ³•
// ç”¨ comptime è‡ªå·±å¯¦ä½œï¼

pub fn forEach(comptime T: type, items: []T, func: fn(T) void) void {
    for (items) |item| {
        func(item);
    }
}

// ä½¿ç”¨
const numbers = [_]i32{1, 2, 3};
forEach(i32, &amp;numbers, print);
</code></pre>
<p><strong>çµæœ</strong>ï¼š</p>
<ul>
<li>âœ… èªè¨€åŠŸèƒ½å°‘ â†’ ç·¨è­¯å™¨ç°¡å–®</li>
<li>âœ… ä½†é€é comptime ä¿æŒå¼·å¤§</li>
<li>âœ… ç¨‹å¼ç¢¼é‡å°ä½†åŠŸèƒ½ä¸æ¸›</li>
</ul>
<hr />
<h2 id="8-ç¸½çµç‚ºä»€éº¼-zig-èƒ½ä¿æŒå°å·§"><a class="header" href="#8-ç¸½çµç‚ºä»€éº¼-zig-èƒ½ä¿æŒå°å·§">8. ç¸½çµï¼šç‚ºä»€éº¼ Zig èƒ½ä¿æŒå°å·§</a></h2>
<div class="table-wrapper"><table><thead><tr><th>ç­–ç•¥</th><th>ç¯€çœçš„ç¨‹å¼ç¢¼é‡</th></tr></thead><tbody>
<tr><td>ä½¿ç”¨ LLVM å¾Œç«¯</td><td>~30è¬è¡Œï¼ˆå„ªåŒ–+ç¨‹å¼ç¢¼ç”Ÿæˆï¼‰</td></tr>
<tr><td>æ²’æœ‰è¤‡é›œå‹åˆ¥æ¨å°</td><td>~20è¬è¡Œï¼ˆå‹åˆ¥ç³»çµ±ï¼‰</td></tr>
<tr><td>æ²’æœ‰ Borrow Checker</td><td>~50è¬è¡Œï¼ˆæ‰€æœ‰æ¬Šåˆ†æï¼‰</td></tr>
<tr><td>æ²’æœ‰ç•°å¸¸è™•ç†</td><td>~10è¬è¡Œï¼ˆunwindingï¼‰</td></tr>
<tr><td>æ²’æœ‰å·¨é›†ç³»çµ±</td><td>~15è¬è¡Œï¼ˆå·¨é›†å±•é–‹ï¼‰</td></tr>
<tr><td>Comptime å–ä»£æ³›å‹</td><td>~25è¬è¡Œï¼ˆæ¨¡æ¿ç³»çµ±ï¼‰</td></tr>
</tbody></table>
</div>
<p><strong>æ ¸å¿ƒç†å¿µ</strong>ï¼š</p>
<pre><code>ç°¡å–® â‰  åŠŸèƒ½å¼±
ç°¡å–® = æ›´å®¹æ˜“ç†è§£ã€ç¶­è­·ã€é™¤éŒ¯
</code></pre>
<hr />
<h2 id="9-å°é–‹ç™¼è€…çš„å•Ÿç¤º"><a class="header" href="#9-å°é–‹ç™¼è€…çš„å•Ÿç¤º">9. å°é–‹ç™¼è€…çš„å•Ÿç¤º</a></h2>
<pre><code class="language-zig">// Zig çš„è¨­è¨ˆå‘Šè¨´æˆ‘å€‘ï¼š
// "æ­£äº¤æ€§"ï¼ˆOrthogonalityï¼‰çš„åŠ›é‡

// ä¸è¦ï¼šç‚ºæ¯å€‹éœ€æ±‚åŠ æ–°åŠŸèƒ½
// è¦ï¼šæä¾›å°‘æ•¸å¼·å¤§çš„åŸºæœ¬åŠŸèƒ½,è®“å®ƒå€‘å¯ä»¥çµ„åˆ

// ç¯„ä¾‹ï¼šZig åªæœ‰å¹¾å€‹æ ¸å¿ƒæ¦‚å¿µ
// 1. comptimeï¼ˆç·¨è­¯æœŸåŸ·è¡Œï¼‰
// 2. error unionï¼ˆéŒ¯èª¤è™•ç†ï¼‰
// 3. æ˜ç¢ºçš„è¨˜æ†¶é«”åˆ†é…
// 4. ç°¡å–®çš„å‹åˆ¥ç³»çµ±

// ä½†é€™äº›å¯ä»¥çµ„åˆå‡ºè¤‡é›œåŠŸèƒ½ï¼
</code></pre>
<hr />
<h2 id="çµèª"><a class="header" href="#çµèª">çµèª</a></h2>
<p>Zig çš„å°å·§ä¸æ˜¯å› ç‚ºåŠŸèƒ½å¼±ï¼Œè€Œæ˜¯å› ç‚º<strong>è°æ˜çš„è¨­è¨ˆ</strong>ï¼šç”¨ç°¡å–®çš„æ©Ÿåˆ¶çµ„åˆå‡ºå¼·å¤§çš„åŠŸèƒ½ï¼Œè€Œä¸æ˜¯ç‚ºæ¯å€‹éœ€æ±‚éƒ½åŠ æ–°çš„èªè¨€ç‰¹æ€§ã€‚é€™æ˜¯éå¸¸å€¼å¾—å­¸ç¿’çš„è»Ÿé«”è¨­è¨ˆå“²å­¸ï¼ğŸ¯</p>
<hr />
<p><em>æœ¬æ–‡æª”æ¢è¨äº† Zig ç¨‹å¼èªè¨€ç·¨è­¯å™¨å¦‚ä½•é€éç²¾ç°¡çš„è¨­è¨ˆå“²å­¸ï¼Œåœ¨ä¿æŒå¼·å¤§åŠŸèƒ½çš„åŒæ™‚ç¶­æŒå°å·§çš„ç¨‹å¼ç¢¼åŸºåº•ã€‚</em></p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../zig/zig.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../zig/zig_vs_c_complete_guide.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../zig/zig.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../zig/zig_vs_c_complete_guide.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>



        <script>
            window.playground_line_numbers = true;
        </script>

        <script>
            window.playground_copyable = true;
        </script>

        <script src="../ace.js"></script>
        <script src="../mode-rust.js"></script>
        <script src="../editor.js"></script>
        <script src="../theme-dawn.js"></script>
        <script src="../theme-tomorrow_night.js"></script>

        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->
        <script src="../mermaid.min.js"></script>
        <script src="../mermaid-init.js"></script>



    </div>
    </body>
</html>
