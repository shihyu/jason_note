<!DOCTYPE HTML>
<html lang="zh" class="rust sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>GDB èª¿è©¦å®Œå…¨æŒ‡å— - Rust/C++ å°ˆç”¨ - Jason Notes</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="../highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="../tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "../";
            const default_light_theme = "rust";
            const default_dark_theme = "navy";
            window.path_to_searchindex_js = "../searchindex.js";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../toc.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>â†</kbd> or <kbd>â†’</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('rust')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
                sidebar_toggle.checked = false;
            }
            if (sidebar === 'visible') {
                sidebar_toggle.checked = true;
            } else {
                html.classList.remove('sidebar-visible');
            }
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Jason Notes</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/shihyu/jason_note" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <div class="search-wrapper">
                            <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                            <div class="spinner-wrapper">
                                <i class="fa fa-spinner fa-spin"></i>
                            </div>
                        </div>
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="gdb-èª¿è©¦å®Œå…¨æŒ‡å—---rustc-å°ˆç”¨"><a class="header" href="#gdb-èª¿è©¦å®Œå…¨æŒ‡å—---rustc-å°ˆç”¨">GDB èª¿è©¦å®Œå…¨æŒ‡å— - Rust/C++ å°ˆç”¨</a></h1>
<h2 id="-æ¦‚è¿°"><a class="header" href="#-æ¦‚è¿°">ğŸ“‹ æ¦‚è¿°</a></h2>
<p>æœ¬æŒ‡å—æä¾›å®Œæ•´çš„ GDB èª¿è©¦æŠ€è¡“èªªæ˜ï¼Œé©ç”¨æ–¼ Rust å’Œ C++ ç¨‹å¼çš„æ·±åº¦èª¿è©¦ã€‚åŒ…å«å¾åŸºç¤æŒ‡ä»¤åˆ°é€²éšåŸç†çš„å…¨é¢ä»‹ç´¹ã€‚</p>
<h2 id="-èª¿è©¦è…³æœ¬ç¯„ä¾‹"><a class="header" href="#-èª¿è©¦è…³æœ¬ç¯„ä¾‹">ğŸ¯ èª¿è©¦è…³æœ¬ç¯„ä¾‹</a></h2>
<p>ä»¥ä¸‹æ˜¯å¸¸è¦‹çš„èª¿è©¦è…³æœ¬æ¨¡å¼ï¼š</p>
<div class="table-wrapper"><table><thead><tr><th>è…³æœ¬é¡å‹</th><th>ç”¨é€”</th><th>ä½¿ç”¨å ´æ™¯</th></tr></thead><tbody>
<tr><td><code>list_functions.sh</code></td><td>åˆ—å‡ºç‰¹å®šå‡½æ•¸ç¬¦è™Ÿ</td><td>èª¿è©¦å‰åµå¯Ÿï¼Œäº†è§£å¯ç”¨å‡½æ•¸</td></tr>
<tr><td><code>gdb_minimal.sh</code></td><td>ç²¾ç°¡èª¿è©¦ï¼Œåªè¼‰å…¥æ ¸å¿ƒåº«</td><td>å¿«é€Ÿæ¸¬è©¦ç‰¹å®šåŠŸèƒ½</td></tr>
<tr><td><code>gdb_full.sh</code></td><td>å…¨é¢èª¿è©¦ï¼Œè¨­ç½®æ‰€æœ‰æ¨¡çµ„æ–·é»</td><td>æ·±åº¦åˆ†æç¨‹å¼åŸ·è¡Œæµç¨‹</td></tr>
<tr><td><code>gdb_attach.sh</code></td><td>é™„åŠ åˆ°é‹è¡Œä¸­çš„é€²ç¨‹</td><td>èª¿è©¦å·²é‹è¡Œçš„ç¨‹å¼</td></tr>
</tbody></table>
</div>
<h2 id="-å¿«é€Ÿé–‹å§‹"><a class="header" href="#-å¿«é€Ÿé–‹å§‹">ğŸš€ å¿«é€Ÿé–‹å§‹</a></h2>
<h3 id="1-æŸ¥çœ‹å¯ç”¨å‡½æ•¸"><a class="header" href="#1-æŸ¥çœ‹å¯ç”¨å‡½æ•¸">1. æŸ¥çœ‹å¯ç”¨å‡½æ•¸</a></h3>
<pre><code class="language-bash"># ä½¿ç”¨ nm æŸ¥çœ‹å‡½æ•¸ç¬¦è™Ÿ
nm lib.so | grep "T " | grep "function_pattern"

# æˆ–ä½¿ç”¨è…³æœ¬
./list_functions.sh
cat functions.txt | grep connect  # æŸ¥çœ‹ç‰¹å®šå‡½æ•¸
</code></pre>
<h3 id="2-é¸æ“‡èª¿è©¦æ¨¡å¼"><a class="header" href="#2-é¸æ“‡èª¿è©¦æ¨¡å¼">2. é¸æ“‡èª¿è©¦æ¨¡å¼</a></h3>
<h4 id="è¼•é‡ç´šèª¿è©¦"><a class="header" href="#è¼•é‡ç´šèª¿è©¦">è¼•é‡ç´šèª¿è©¦</a></h4>
<pre><code class="language-bash">gdb ./program -ex "set auto-solib-add off" -ex "run"
</code></pre>
<ul>
<li>âœ… å•Ÿå‹•å¿«é€Ÿ</li>
<li>âœ… å°ˆæ³¨æ ¸å¿ƒé‚è¼¯</li>
<li>âŒ æŸäº›åŠŸèƒ½å¯èƒ½å—é™</li>
</ul>
<h4 id="å…¨é¢èª¿è©¦"><a class="header" href="#å…¨é¢èª¿è©¦">å…¨é¢èª¿è©¦</a></h4>
<pre><code class="language-bash">gdb ./program -ex "set breakpoint pending on" -ex "rbreak .*pattern.*" -ex "run"
</code></pre>
<ul>
<li>âœ… å®Œæ•´æ–·é»è¦†è“‹</li>
<li>âœ… æ‰€æœ‰æ¨¡çµ„è¿½è¹¤</li>
<li>âŒ å•Ÿå‹•è¼ƒæ…¢</li>
</ul>
<h4 id="é‹è¡Œæ™‚èª¿è©¦"><a class="header" href="#é‹è¡Œæ™‚èª¿è©¦">é‹è¡Œæ™‚èª¿è©¦</a></h4>
<pre><code class="language-bash"># é™„åŠ åˆ°é‹è¡Œä¸­çš„é€²ç¨‹
gdb -p $(pgrep program_name)
# æˆ–
gdb -p PID
</code></pre>
<ul>
<li>âœ… ä¸ä¸­æ–·é‹è¡Œç‹€æ…‹</li>
<li>âœ… ä¿æŒæ‡‰ç”¨ä¸Šä¸‹æ–‡</li>
<li>âŒ éœ€è¦é©ç•¶æ¬Šé™</li>
</ul>
<h2 id="-æ ¸å¿ƒ-gdb-æŒ‡ä»¤èªªæ˜"><a class="header" href="#-æ ¸å¿ƒ-gdb-æŒ‡ä»¤èªªæ˜">ğŸ”§ æ ¸å¿ƒ GDB æŒ‡ä»¤èªªæ˜</a></h2>
<h3 id="åŸºæœ¬è¨­å®šæŒ‡ä»¤"><a class="header" href="#åŸºæœ¬è¨­å®šæŒ‡ä»¤">åŸºæœ¬è¨­å®šæŒ‡ä»¤</a></h3>
<div class="table-wrapper"><table><thead><tr><th>æŒ‡ä»¤</th><th>ä½œç”¨</th><th>åŸå› </th></tr></thead><tbody>
<tr><td><code>set pagination off</code></td><td>é—œé–‰åˆ†é é¡¯ç¤º</td><td>é¿å…å¤§é‡è¼¸å‡ºæ™‚éœ€è¦æ‰‹å‹•æŒ‰ Enter</td></tr>
<tr><td><code>set breakpoint pending on</code></td><td>å…è¨±å»¶é²æ–·é»</td><td>å¯åœ¨æœªè¼‰å…¥çš„å‡½å¼åº«ä¸­é è¨­æ–·é»</td></tr>
<tr><td><code>set auto-solib-add off</code></td><td>é—œé–‰è‡ªå‹•è¼‰å…¥å‡½å¼åº«</td><td>æ‰‹å‹•æ§åˆ¶è¼‰å…¥ï¼Œæé«˜æ•ˆç‡</td></tr>
<tr><td><code>set print pretty on</code></td><td>ç¾åŒ–è¼¸å‡ºæ ¼å¼</td><td>æ›´æ˜“è®€çš„çµæ§‹é«”é¡¯ç¤º</td></tr>
<tr><td><code>set confirm off</code></td><td>é—œé–‰ç¢ºèªæç¤º</td><td>è‡ªå‹•åŒ–åŸ·è¡Œä¸éœ€ç¢ºèª</td></tr>
</tbody></table>
</div>
<h3 id="æ–·é»è¨­ç½®æŒ‡ä»¤"><a class="header" href="#æ–·é»è¨­ç½®æŒ‡ä»¤">æ–·é»è¨­ç½®æŒ‡ä»¤</a></h3>
<h4 id="break-vs-rbreak"><a class="header" href="#break-vs-rbreak"><code>break</code> vs <code>rbreak</code></a></h4>
<ul>
<li>
<p><strong><code>break function_name</code></strong>: è¨­ç½®å–®ä¸€æ–·é»</p>
<pre><code class="language-gdb">break main
break MyClass::myMethod
break file.cpp:123
</code></pre>
</li>
<li>
<p><strong><code>rbreak pattern</code></strong>: æ­£å‰‡è¡¨é”å¼æ‰¹é‡è¨­ç½®</p>
<pre><code class="language-gdb">rbreak .*::processData.*      # æ‰€æœ‰ processData ç›¸é—œå‡½æ•¸
rbreak ^handle_.*              # æ‰€æœ‰ handle_ é–‹é ­çš„å‡½æ•¸
rbreak .*Service::.*           # Service é¡çš„æ‰€æœ‰æ–¹æ³•
</code></pre>
</li>
</ul>
<h3 id="å‡½å¼åº«è¼‰å…¥æŒ‡ä»¤"><a class="header" href="#å‡½å¼åº«è¼‰å…¥æŒ‡ä»¤">å‡½å¼åº«è¼‰å…¥æŒ‡ä»¤</a></h3>
<pre><code class="language-gdb"># è¼‰å…¥æ‰€æœ‰å‡½å¼åº«
sharedlibrary

# è¼‰å…¥ç‰¹å®šå‡½å¼åº«
sharedlibrary libexample

# æŸ¥çœ‹å·²è¼‰å…¥çš„å‡½å¼åº«
info sharedlibrary
</code></pre>
<h3 id="å‡½å¼åº«è¼‰å…¥èˆ‡æ–·é»è¨­ç½®é †åº"><a class="header" href="#å‡½å¼åº«è¼‰å…¥èˆ‡æ–·é»è¨­ç½®é †åº">å‡½å¼åº«è¼‰å…¥èˆ‡æ–·é»è¨­ç½®é †åº</a></h3>
<h4 id="é †åºæ¯”è¼ƒ"><a class="header" href="#é †åºæ¯”è¼ƒ">é †åºæ¯”è¼ƒ</a></h4>
<div class="table-wrapper"><table><thead><tr><th>é †åº</th><th>æŒ‡ä»¤æµç¨‹</th><th>å„ªé»</th><th>ç¼ºé»</th><th>é©ç”¨å ´æ™¯</th></tr></thead><tbody>
<tr><td><strong>å…ˆæ–·é»å¾Œè¼‰å…¥</strong></td><td>1. <code>set breakpoint pending on</code><br>2. <code>break function</code><br>3. <code>sharedlibrary</code></td><td>â€¢ å¯æ‰¹é‡è¨­ç½®<br>â€¢ é©åˆè‡ªå‹•åŒ–</td><td>â€¢ éœ€è¦ pending è¨­å®š<br>â€¢ ç¬¦è™ŸéŒ¯èª¤ä¸æ˜“ç™¼ç¾</td><td>è…³æœ¬è‡ªå‹•åŒ–</td></tr>
<tr><td><strong>å…ˆè¼‰å…¥å¾Œæ–·é»</strong></td><td>1. <code>sharedlibrary</code><br>2. <code>break function</code></td><td>â€¢ ç«‹å³é©—è­‰ç¬¦è™Ÿ<br>â€¢ æ”¯æ´ TAB è£œå…¨</td><td>â€¢ éœ€ç­‰å¾…è¼‰å…¥å®Œæˆ</td><td>äº’å‹•å¼èª¿è©¦</td></tr>
</tbody></table>
</div>
<h4 id="æœ€ä½³å¯¦è¸"><a class="header" href="#æœ€ä½³å¯¦è¸">æœ€ä½³å¯¦è¸</a></h4>
<pre><code class="language-gdb"># æ¨è–¦é †åº
set breakpoint pending on          # 1. å…è¨±å»¶é²æ–·é»
sharedlibrary libexample.so        # 2. è¼‰å…¥å‡½å¼åº«
info sharedlibrary                 # 3. é©—è­‰è¼‰å…¥
rbreak .*MyNamespace::.*           # 4. è¨­ç½®æ–·é»
info breakpoints                   # 5. ç¢ºèªç‹€æ…‹
</code></pre>
<h2 id="-gdb-èˆ‡ç¨‹å¼ç¢¼å°æ‡‰æ©Ÿåˆ¶"><a class="header" href="#-gdb-èˆ‡ç¨‹å¼ç¢¼å°æ‡‰æ©Ÿåˆ¶">ğŸ” GDB èˆ‡ç¨‹å¼ç¢¼å°æ‡‰æ©Ÿåˆ¶</a></h2>
<h3 id="æ ¸å¿ƒåŸç†æ¶æ§‹"><a class="header" href="#æ ¸å¿ƒåŸç†æ¶æ§‹">æ ¸å¿ƒåŸç†æ¶æ§‹</a></h3>
<pre><code>æºç¢¼(.rs) â†’ ç·¨è­¯å™¨(rustc) â†’ äºŒé€²åˆ¶æ–‡ä»¶(.so/.exe)
                â†“
        ç”Ÿæˆèª¿è©¦ä¿¡æ¯(DWARF)
                â†“
    GDB è®€å–èª¿è©¦ä¿¡æ¯ â†’ æ˜ å°„åˆ°æºç¢¼
</code></pre>
<h3 id="èª¿è©¦ä¿¡æ¯çµ„æˆ"><a class="header" href="#èª¿è©¦ä¿¡æ¯çµ„æˆ">èª¿è©¦ä¿¡æ¯çµ„æˆ</a></h3>
<h4 id="1-ç¬¦è™Ÿè¡¨-symbol-table"><a class="header" href="#1-ç¬¦è™Ÿè¡¨-symbol-table">1. ç¬¦è™Ÿè¡¨ (Symbol Table)</a></h4>
<pre><code class="language-bash"># æŸ¥çœ‹ç¬¦è™Ÿè¡¨
$ nm libexample.so

0000000000123456 T _Z10initServerv        # T = Textæ®µ(å‡½æ•¸)
0000000000123789 D global_config          # D = Dataæ®µ(è®Šæ•¸)
0000000000234567 T _ZN7MyClass6methodEv   # T = é¡æ–¹æ³•
</code></pre>
<p><strong>ç¬¦è™Ÿé¡å‹èªªæ˜</strong>ï¼š</p>
<ul>
<li><strong>T</strong>: Text (code) segment - å‡½æ•¸å¯¦ç¾</li>
<li><strong>U</strong>: Undefined - å¤–éƒ¨å¼•ç”¨</li>
<li><strong>D</strong>: Data segment - å…¨å±€è®Šæ•¸</li>
<li><strong>B</strong>: BSS segment - æœªåˆå§‹åŒ–æ•¸æ“š</li>
</ul>
<h4 id="2-dwarf-èª¿è©¦ä¿¡æ¯"><a class="header" href="#2-dwarf-èª¿è©¦ä¿¡æ¯">2. DWARF èª¿è©¦ä¿¡æ¯</a></h4>
<pre><code class="language-bash"># æŸ¥çœ‹ DWARF ä¿¡æ¯
$ objdump --dwarf=info libexample.so
$ readelf --debug-dump=info libexample.so
</code></pre>
<p><strong>DWARF åŒ…å«</strong>ï¼š</p>
<ul>
<li>æºæª”æ¡ˆè·¯å¾‘èˆ‡è¡Œè™Ÿå°æ‡‰è¡¨</li>
<li>è®Šæ•¸é¡å‹èˆ‡ä½ç½®ä¿¡æ¯</li>
<li>å‡½æ•¸åƒæ•¸èˆ‡å±€éƒ¨è®Šæ•¸</li>
<li>å…§è¯å‡½æ•¸å±•é–‹ä¿¡æ¯</li>
</ul>
<h3 id="gdb-æ˜ å°„å·¥ä½œæµç¨‹"><a class="header" href="#gdb-æ˜ å°„å·¥ä½œæµç¨‹">GDB æ˜ å°„å·¥ä½œæµç¨‹</a></h3>
<h4 id="æ­¥é©Ÿ-1-åœ°å€è§£æ"><a class="header" href="#æ­¥é©Ÿ-1-åœ°å€è§£æ">æ­¥é©Ÿ 1: åœ°å€è§£æ</a></h4>
<pre><code class="language-gdb">(gdb) break MyClass::processData
# GDB å‹•ä½œï¼š
# 1. æŸ¥æ‰¾ç¬¦è™Ÿè¡¨
# 2. æ‰¾åˆ° MyClass::processData = 0x7ffff7abc123
# 3. åœ¨è©²åœ°å€è¨­ç½® INT3 æ–·é»æŒ‡ä»¤
</code></pre>
<h4 id="æ­¥é©Ÿ-2-è¡Œè™Ÿæ˜ å°„è¡¨"><a class="header" href="#æ­¥é©Ÿ-2-è¡Œè™Ÿæ˜ å°„è¡¨">æ­¥é©Ÿ 2: è¡Œè™Ÿæ˜ å°„è¡¨</a></h4>
<pre><code>è¨˜æ†¶é«”åœ°å€          æºç¢¼ä½ç½®
0x7ffff7abc123  â†’  src/server.rs:42
0x7ffff7abc127  â†’  src/server.rs:43
0x7ffff7abc12b  â†’  src/server.rs:44
</code></pre>
<h4 id="æ­¥é©Ÿ-3-å¯¦éš›å°æ‡‰éç¨‹"><a class="header" href="#æ­¥é©Ÿ-3-å¯¦éš›å°æ‡‰éç¨‹">æ­¥é©Ÿ 3: å¯¦éš›å°æ‡‰éç¨‹</a></h4>
<pre><code class="language-gdb"># ç¨‹å¼åŸ·è¡Œåˆ°æ–·é»
Program received signal SIGTRAP
# GDB è™•ç†æµç¨‹ï¼š
# 1. CPU åŸ·è¡Œåˆ° 0x7ffff7abc123
# 2. è§¸ç™¼ INT3 é™·é˜±
# 3. GDB æŸ¥è©¢ DWARFï¼š0x7ffff7abc123 â†’ server.rs:42
# 4. è®€å– /path/to/server.rs ç¬¬ 42 è¡Œ
# 5. é¡¯ç¤ºæºç¢¼ä½ç½®
</code></pre>
<h3 id="ç·¨è­¯æ™‚èª¿è©¦ä¿¡æ¯ç”Ÿæˆ"><a class="header" href="#ç·¨è­¯æ™‚èª¿è©¦ä¿¡æ¯ç”Ÿæˆ">ç·¨è­¯æ™‚èª¿è©¦ä¿¡æ¯ç”Ÿæˆ</a></h3>
<h4 id="rust-ç·¨è­¯é¸é …"><a class="header" href="#rust-ç·¨è­¯é¸é …">Rust ç·¨è­¯é¸é …</a></h4>
<pre><code class="language-bash"># Debug æ¨¡å¼ï¼ˆå®Œæ•´èª¿è©¦ä¿¡æ¯ï¼‰
cargo build
# ç­‰åŒæ–¼: rustc -g -C opt-level=0 -C debuginfo=2

# Release æ¨¡å¼ + èª¿è©¦ä¿¡æ¯
cargo build --release
# Cargo.toml é…ç½®ï¼š
[profile.release]
debug = true  # æˆ– debug = 2
</code></pre>
<h4 id="èª¿è©¦ä¿¡æ¯å±¤ç´š"><a class="header" href="#èª¿è©¦ä¿¡æ¯å±¤ç´š">èª¿è©¦ä¿¡æ¯å±¤ç´š</a></h4>
<pre><code class="language-toml"># Cargo.toml
[profile.dev]
debug = 2       # å®Œæ•´èª¿è©¦ä¿¡æ¯ï¼ˆé è¨­ï¼‰
debug = 1       # åªæœ‰è¡Œè™Ÿä¿¡æ¯
debug = 0       # ç„¡èª¿è©¦ä¿¡æ¯
</code></pre>
<h3 id="dwarf-æ ¼å¼è©³è§£"><a class="header" href="#dwarf-æ ¼å¼è©³è§£">DWARF æ ¼å¼è©³è§£</a></h3>
<h4 id="die-debugging-information-entry-çµæ§‹"><a class="header" href="#die-debugging-information-entry-çµæ§‹">DIE (Debugging Information Entry) çµæ§‹</a></h4>
<pre><code>DW_TAG_compile_unit
â”œâ”€â”€ DW_AT_name: "main.cpp"
â”œâ”€â”€ DW_AT_comp_dir: "/home/user/project/src"
â””â”€â”€ DW_TAG_subprogram
    â”œâ”€â”€ DW_AT_name: "processData"
    â”œâ”€â”€ DW_AT_low_pc: 0x7ffff7abc123    # å‡½æ•¸èµ·å§‹åœ°å€
    â”œâ”€â”€ DW_AT_high_pc: 0x7ffff7abc456   # å‡½æ•¸çµæŸåœ°å€
    â”œâ”€â”€ DW_AT_decl_file: 1              # æª”æ¡ˆç´¢å¼•
    â””â”€â”€ DW_AT_decl_line: 42             # æºç¢¼è¡Œè™Ÿ
</code></pre>
<h3 id="name-mangling-ç¬¦è™Ÿä¿®é£¾"><a class="header" href="#name-mangling-ç¬¦è™Ÿä¿®é£¾">Name Mangling (ç¬¦è™Ÿä¿®é£¾)</a></h3>
<h4 id="c-å‘½åè½‰æ›"><a class="header" href="#c-å‘½åè½‰æ›">C++ å‘½åè½‰æ›</a></h4>
<pre><code class="language-cpp">// C++ æºç¢¼
class MyClass {
    void processData(int value);
};

// ç·¨è­¯å¾Œç¬¦è™Ÿï¼ˆMangledï¼‰
_ZN7MyClass11processDataEi

// è§£ç¢¼å¾Œï¼ˆDemangledï¼‰
MyClass::processData(int)
</code></pre>
<h4 id="rust-å‘½åè½‰æ›"><a class="header" href="#rust-å‘½åè½‰æ›">Rust å‘½åè½‰æ›</a></h4>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>// Rust æºç¢¼
impl DataProcessor {
    pub fn process(&amp;self) -&gt; Result&lt;()&gt; { }
}

// ç·¨è­¯å¾Œç¬¦è™Ÿï¼ˆMangledï¼‰
_ZN13DataProcessor7process17h8a3f5d2c1b9e7046E

// è§£ç¢¼å¾Œï¼ˆDemangledï¼‰
DataProcessor::process
<span class="boring">}</span></code></pre></pre>
<h4 id="gdb-è§£ç¢¼æ–¹å¼"><a class="header" href="#gdb-è§£ç¢¼æ–¹å¼">GDB è§£ç¢¼æ–¹å¼</a></h4>
<pre><code class="language-gdb"># è‡ªå‹•è§£ç¢¼
(gdb) info functions connect
ButtplugClient::connect()

# æ‰‹å‹•è§£ç¢¼å·¥å…·
$ c++filt _ZN14ButtplugClient7connect17h8a3f5d2c1b9e7046E
$ rustfilt _ZN14ButtplugClient7connect17h8a3f5d2c1b9e7046E
</code></pre>
<h3 id="å¯¦éš›æŸ¥çœ‹èª¿è©¦ä¿¡æ¯"><a class="header" href="#å¯¦éš›æŸ¥çœ‹èª¿è©¦ä¿¡æ¯">å¯¦éš›æŸ¥çœ‹èª¿è©¦ä¿¡æ¯</a></h3>
<pre><code class="language-bash"># 1. æª¢æŸ¥æ˜¯å¦æœ‰èª¿è©¦ä¿¡æ¯
$ file libexample.so
# è¼¸å‡º: with debug_info, not stripped

# 2. æŸ¥çœ‹èª¿è©¦æ®µå¤§å°
$ size -A libexample.so | grep debug
.debug_info    123456   # DWARF ä¿¡æ¯
.debug_line    45678    # è¡Œè™Ÿæ˜ å°„
.debug_str     12345    # èª¿è©¦å­—ä¸²

# 3. æŸ¥çœ‹è¡Œè™Ÿæ˜ å°„
$ objdump -d -l libexample.so

# 4. æŸ¥çœ‹ç¬¦è™Ÿè©³æƒ…
$ readelf -s libexample.so | grep MyClass
$ nm -C libexample.so | grep processData  # -C è‡ªå‹• demangle
</code></pre>
<h3 id="gdb-æ·±å±¤å‘½ä»¤"><a class="header" href="#gdb-æ·±å±¤å‘½ä»¤">GDB æ·±å±¤å‘½ä»¤</a></h3>
<pre><code class="language-gdb"># æŸ¥çœ‹ç¬¦è™Ÿä¾†æº
(gdb) info symbol 0x7ffff7abc123
MyClass::processData(int) in section .text

# æŸ¥çœ‹åœ°å€å°æ‡‰è¡Œè™Ÿ
(gdb) info line *0x7ffff7abc123
Line 42 of "server.rs" starts at 0x7ffff7abc123

# æŸ¥çœ‹æºç¢¼æœç´¢è·¯å¾‘
(gdb) show directories

# è¨­ç½®æºç¢¼è·¯å¾‘æ˜ å°„
(gdb) set substitute-path /original/path /current/path

# æŸ¥çœ‹ DWARF åŸå§‹ä¿¡æ¯
(gdb) maintenance info sections .debug_*

# æŸ¥çœ‹è¼‰å…¥çš„ç¬¦è™Ÿæª”æ¡ˆ
(gdb) info sources
</code></pre>
<h3 id="èª¿è©¦ä¿¡æ¯æœ€ä½³åŒ–å½±éŸ¿"><a class="header" href="#èª¿è©¦ä¿¡æ¯æœ€ä½³åŒ–å½±éŸ¿">èª¿è©¦ä¿¡æ¯æœ€ä½³åŒ–å½±éŸ¿</a></h3>
<div class="table-wrapper"><table><thead><tr><th>ç·¨è­¯æ¨¡å¼</th><th>äºŒé€²åˆ¶å¤§å°</th><th>èª¿è©¦é«”é©—</th><th>åŸ·è¡Œé€Ÿåº¦</th><th>è®Šæ•¸å¯è¦‹æ€§</th></tr></thead><tbody>
<tr><td>Debug</td><td>100MB</td><td>æ¥µä½³</td><td>æ…¢</td><td>å®Œæ•´</td></tr>
<tr><td>Release</td><td>20MB</td><td>å·®</td><td>å¿«</td><td>å¤šæ•¸ optimized out</td></tr>
<tr><td>Release+debug</td><td>80MB</td><td>è‰¯å¥½</td><td>å¿«</td><td>éƒ¨åˆ†å¯è¦‹</td></tr>
<tr><td>Release+split-debuginfo</td><td>20MB+60MB</td><td>è‰¯å¥½</td><td>å¿«</td><td>éƒ¨åˆ†å¯è¦‹</td></tr>
</tbody></table>
</div>
<h3 id="å¸¸è¦‹èª¿è©¦ä¿¡æ¯å•é¡Œ"><a class="header" href="#å¸¸è¦‹èª¿è©¦ä¿¡æ¯å•é¡Œ">å¸¸è¦‹èª¿è©¦ä¿¡æ¯å•é¡Œ</a></h3>
<h4 id="å•é¡Œno-debugging-symbols-found"><a class="header" href="#å•é¡Œno-debugging-symbols-found">å•é¡Œï¼šNo debugging symbols found</a></h4>
<pre><code class="language-bash"># è§£æ±ºæ–¹æ¡ˆ
cargo clean
cargo build  # ç¢ºä¿æœ‰èª¿è©¦ä¿¡æ¯
</code></pre>
<h4 id="å•é¡Œæºç¢¼è·¯å¾‘ä¸åŒ¹é…"><a class="header" href="#å•é¡Œæºç¢¼è·¯å¾‘ä¸åŒ¹é…">å•é¡Œï¼šæºç¢¼è·¯å¾‘ä¸åŒ¹é…</a></h4>
<pre><code class="language-gdb"># è¨­ç½®æºç¢¼æœç´¢è·¯å¾‘
(gdb) directory /new/source/path
(gdb) set substitute-path /build/path /actual/path
</code></pre>
<h4 id="å•é¡Œoptimized-out-è®Šæ•¸"><a class="header" href="#å•é¡Œoptimized-out-è®Šæ•¸">å•é¡Œï¼šOptimized out è®Šæ•¸</a></h4>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>// é˜²æ­¢å„ªåŒ–çš„æ–¹æ³•
#[inline(never)]
fn function() { }

// æˆ–ä½¿ç”¨ black_box
use std::hint::black_box;
let x = black_box(42);
<span class="boring">}</span></code></pre></pre>
<h2 id="-èª¿è©¦å·¥ä½œæµç¨‹"><a class="header" href="#-èª¿è©¦å·¥ä½œæµç¨‹">ğŸ“Š èª¿è©¦å·¥ä½œæµç¨‹</a></h2>
<pre class="mermaid">graph TD
    A[é–‹å§‹èª¿è©¦] --&gt; B[åˆ†æç¬¦è™Ÿè¡¨]
    B --&gt; C[ç¢ºèªèª¿è©¦ä¿¡æ¯]
    C --&gt; D{é¸æ“‡èª¿è©¦ç­–ç•¥}

    D --&gt;|å¿«é€Ÿæ¸¬è©¦| E[ç²¾ç°¡è¼‰å…¥æ¨¡å¼]
    E --&gt; F[è¨­ç½®ç‰¹å®šæ–·é»]

    D --&gt;|å…¨é¢åˆ†æ| G[å®Œæ•´èª¿è©¦æ¨¡å¼]
    G --&gt; H[è‡ªå‹•è¨­ç½®æ‰€æœ‰æ–·é»]

    D --&gt;|é‹è¡Œæ™‚å•é¡Œ| I[é™„åŠ èª¿è©¦æ¨¡å¼]
    I --&gt; J[é™„åŠ åˆ° PID]

    F --&gt; K[é‹è¡Œå’Œèª¿è©¦]
    H --&gt; K
    J --&gt; K

    K --&gt; L[åˆ†æå•é¡Œ]
    L --&gt; M[ä¿®å¾©ä»£ç¢¼]
</pre>
<h2 id="-å¯¦ç”¨èª¿è©¦æŠ€å·§"><a class="header" href="#-å¯¦ç”¨èª¿è©¦æŠ€å·§">ğŸ’¡ å¯¦ç”¨èª¿è©¦æŠ€å·§</a></h2>
<h3 id="1-æ–·é»ç®¡ç†"><a class="header" href="#1-æ–·é»ç®¡ç†">1. æ–·é»ç®¡ç†</a></h3>
<pre><code class="language-gdb">info breakpoints          # åˆ—å‡ºæ‰€æœ‰æ–·é»
disable 1-5              # æš«æ™‚ç¦ç”¨æ–·é» 1 åˆ° 5
enable 3                 # å•Ÿç”¨æ–·é» 3
delete 10                # åˆªé™¤æ–·é» 10
clear function_name      # æ¸…é™¤å‡½æ•¸ä¸Šçš„æ–·é»
</code></pre>
<h3 id="2-åŸ·è¡Œæ§åˆ¶"><a class="header" href="#2-åŸ·è¡Œæ§åˆ¶">2. åŸ·è¡Œæ§åˆ¶</a></h3>
<pre><code class="language-gdb">run                      # é–‹å§‹åŸ·è¡Œ
continue (c)             # ç¹¼çºŒåŸ·è¡Œ
step (s)                 # å–®æ­¥åŸ·è¡Œï¼ˆé€²å…¥å‡½æ•¸ï¼‰
next (n)                 # å–®æ­¥åŸ·è¡Œï¼ˆä¸é€²å…¥å‡½æ•¸ï¼‰
finish                   # åŸ·è¡Œåˆ°ç•¶å‰å‡½æ•¸è¿”å›
until 123               # åŸ·è¡Œåˆ°ç¬¬ 123 è¡Œ
</code></pre>
<h3 id="3-æª¢æŸ¥ç¨‹å¼ç‹€æ…‹"><a class="header" href="#3-æª¢æŸ¥ç¨‹å¼ç‹€æ…‹">3. æª¢æŸ¥ç¨‹å¼ç‹€æ…‹</a></h3>
<pre><code class="language-gdb">backtrace (bt)          # æŸ¥çœ‹èª¿ç”¨å †ç–Š
frame 2                 # åˆ‡æ›åˆ°å †ç–Šç¬¬ 2 å±¤
info locals             # æŸ¥çœ‹å±€éƒ¨è®Šæ•¸
info args               # æŸ¥çœ‹å‡½æ•¸åƒæ•¸
print variable_name     # æ‰“å°è®Šæ•¸å€¼
print *pointer         # æ‰“å°æŒ‡é‡å…§å®¹
x/10x $rsp             # æŸ¥çœ‹å †ç–Šè¨˜æ†¶é«”ï¼ˆ16é€²åˆ¶ï¼‰
</code></pre>
<h3 id="4-rust-ç‰¹æœ‰èª¿è©¦"><a class="header" href="#4-rust-ç‰¹æœ‰èª¿è©¦">4. Rust ç‰¹æœ‰èª¿è©¦</a></h3>
<pre><code class="language-gdb"># è¨­ç½® Rust èªè¨€æ¨¡å¼
set language rust

# æŸ¥çœ‹ Result é¡å‹
print result

# æŸ¥çœ‹ Option é¡å‹
print option_value

# æŸ¥çœ‹å­—ç¬¦ä¸²
print string_variable

# æŸ¥çœ‹ Vec
print vector_name
print vector_name.len
print vector_name.buf.ptr
</code></pre>
<h2 id="-å¸¸è¦‹å•é¡Œè§£æ±º"><a class="header" href="#-å¸¸è¦‹å•é¡Œè§£æ±º">ğŸ› ï¸ å¸¸è¦‹å•é¡Œè§£æ±º</a></h2>
<h3 id="å•é¡Œ-1-æ‰¾ä¸åˆ°ç¬¦è™Ÿ"><a class="header" href="#å•é¡Œ-1-æ‰¾ä¸åˆ°ç¬¦è™Ÿ">å•é¡Œ 1: æ‰¾ä¸åˆ°ç¬¦è™Ÿ</a></h3>
<p><strong>ç—‡ç‹€</strong>: <code>No symbol "function_name" in current context</code></p>
<p><strong>è§£æ±ºæ–¹æ¡ˆ</strong>:</p>
<ol>
<li>ç¢ºèªå‡½å¼åº«å·²è¼‰å…¥: <code>info sharedlibrary</code></li>
<li>æ‰‹å‹•è¼‰å…¥: <code>sharedlibrary libname</code></li>
<li>æª¢æŸ¥ç¬¦è™Ÿè¡¨: <code>nm lib.so | grep function_name</code></li>
</ol>
<h3 id="å•é¡Œ-2-æ–·é»æœªè§¸ç™¼"><a class="header" href="#å•é¡Œ-2-æ–·é»æœªè§¸ç™¼">å•é¡Œ 2: æ–·é»æœªè§¸ç™¼</a></h3>
<p><strong>ç—‡ç‹€</strong>: ç¨‹å¼åŸ·è¡Œä½†æ–·é»æ²’æœ‰åœæ­¢</p>
<p><strong>è§£æ±ºæ–¹æ¡ˆ</strong>:</p>
<ol>
<li>æª¢æŸ¥æ–·é»ç‹€æ…‹: <code>info breakpoints</code></li>
<li>ç¢ºèªå‡½æ•¸è¢«èª¿ç”¨: æ·»åŠ æ—¥èªŒè¼¸å‡º</li>
<li>ä½¿ç”¨ <code>rbreak</code> è¨­ç½®æ›´å»£æ³›çš„æ–·é»</li>
</ol>
<h3 id="å•é¡Œ-3-ç„¡æ³•æŸ¥çœ‹è®Šæ•¸"><a class="header" href="#å•é¡Œ-3-ç„¡æ³•æŸ¥çœ‹è®Šæ•¸">å•é¡Œ 3: ç„¡æ³•æŸ¥çœ‹è®Šæ•¸</a></h3>
<p><strong>ç—‡ç‹€</strong>: <code>optimized out</code> è¨Šæ¯</p>
<p><strong>è§£æ±ºæ–¹æ¡ˆ</strong>:</p>
<ol>
<li>ä½¿ç”¨ debug ç‰ˆæœ¬ç·¨è­¯: <code>cargo build</code> (ä¸åŠ  --release)</li>
<li>é™ä½å„ªåŒ–ç­‰ç´š: åœ¨ Cargo.toml è¨­ç½® <code>opt-level = 0</code></li>
</ol>
<h2 id="-é€²éšæŠ€å·§"><a class="header" href="#-é€²éšæŠ€å·§">ğŸ“š é€²éšæŠ€å·§</a></h2>
<h3 id="è…³æœ¬ç¯„ä¾‹"><a class="header" href="#è…³æœ¬ç¯„ä¾‹">è…³æœ¬ç¯„ä¾‹</a></h3>
<h4 id="åˆ—å‡ºå‡½æ•¸ç¬¦è™Ÿè…³æœ¬-list_functionssh"><a class="header" href="#åˆ—å‡ºå‡½æ•¸ç¬¦è™Ÿè…³æœ¬-list_functionssh">åˆ—å‡ºå‡½æ•¸ç¬¦è™Ÿè…³æœ¬ (list_functions.sh)</a></h4>
<pre><code class="language-bash">#!/bin/bash
LIBRARY=${1:-"lib/libexample.so"}
PATTERN=${2:-".*"}

echo "Extracting function symbols from $LIBRARY..."
nm -C "$LIBRARY" | grep " T " | grep -E "$PATTERN" | awk '{print $3}' &gt; functions.txt
echo "Found $(wc -l &lt; functions.txt) functions"
</code></pre>
<h4 id="ç²¾ç°¡èª¿è©¦è…³æœ¬-gdb_minimalsh"><a class="header" href="#ç²¾ç°¡èª¿è©¦è…³æœ¬-gdb_minimalsh">ç²¾ç°¡èª¿è©¦è…³æœ¬ (gdb_minimal.sh)</a></h4>
<pre><code class="language-bash">#!/bin/bash
cat &gt; /tmp/gdb_commands &lt;&lt; 'EOF'
set pagination off
set breakpoint pending on
set auto-solib-add off
file ./program
sharedlibrary libexample
break main
run
EOF

gdb -x /tmp/gdb_commands
</code></pre>
<h4 id="é™„åŠ èª¿è©¦è…³æœ¬-gdb_attachsh"><a class="header" href="#é™„åŠ èª¿è©¦è…³æœ¬-gdb_attachsh">é™„åŠ èª¿è©¦è…³æœ¬ (gdb_attach.sh)</a></h4>
<pre><code class="language-bash">#!/bin/bash
PROGRAM_NAME=${1:-"program"}
PID=$(pgrep -f "$PROGRAM_NAME" | head -1)

if [ -z "$PID" ]; then
    echo "Process not found: $PROGRAM_NAME"
    exit 1
fi

echo "Attaching to PID: $PID"
gdb -p "$PID"
</code></pre>
<h3 id="æ¢ä»¶æ–·é»"><a class="header" href="#æ¢ä»¶æ–·é»">æ¢ä»¶æ–·é»</a></h3>
<pre><code class="language-gdb"># åªåœ¨ç‰¹å®šæ¢ä»¶ä¸‹ä¸­æ–·
break function_name if variable == 42
condition 5 counter &gt; 100  # ç‚ºæ–·é» 5 æ·»åŠ æ¢ä»¶
</code></pre>
<h3 id="è§€å¯Ÿé»"><a class="header" href="#è§€å¯Ÿé»">è§€å¯Ÿé»</a></h3>
<pre><code class="language-gdb"># ç•¶è®Šæ•¸æ”¹è®Šæ™‚ä¸­æ–·
watch variable_name
rwatch variable_name     # è®€å–æ™‚ä¸­æ–·
awatch variable_name     # è®€å¯«æ™‚ä¸­æ–·
</code></pre>
<h3 id="è‡ªå‹•åŒ–èª¿è©¦"><a class="header" href="#è‡ªå‹•åŒ–èª¿è©¦">è‡ªå‹•åŒ–èª¿è©¦</a></h3>
<pre><code class="language-gdb"># å®šç¾©å‘½ä»¤åºåˆ—
define print_state
  print variable1
  print variable2
  backtrace 3
end

# æ–·é»è§¸ç™¼æ™‚è‡ªå‹•åŸ·è¡Œ
commands 1
  print_state
  continue
end
</code></pre>
<h3 id="æ—¥èªŒè¨˜éŒ„"><a class="header" href="#æ—¥èªŒè¨˜éŒ„">æ—¥èªŒè¨˜éŒ„</a></h3>
<pre><code class="language-gdb"># é–‹å•Ÿæ—¥èªŒ
set logging on
set logging file debug.log

# è¨­ç½®æ—¥èªŒç­‰ç´š
set logging overwrite on
set logging redirect on
</code></pre>
<h2 id="-ç›¸é—œè³‡æº"><a class="header" href="#-ç›¸é—œè³‡æº">ğŸ”— ç›¸é—œè³‡æº</a></h2>
<ul>
<li><a href="https://www.gnu.org/software/gdb/documentation/">GDB å®˜æ–¹æ–‡æª”</a></li>
<li><a href="https://rust-lang.github.io/rustup/debugging.html">Rust GDB èª¿è©¦æŒ‡å—</a></li>
<li><a href="https://sourceware.org/gdb/current/onlinedocs/gdb/">GNU Debugger Documentation</a></li>
</ul>
<h2 id="-å‚™è¨»"><a class="header" href="#-å‚™è¨»">ğŸ“ å‚™è¨»</a></h2>
<ul>
<li>éœ€è¦èª¿è©¦ç¬¦è™Ÿçš„äºŒé€²åˆ¶æ–‡ä»¶ï¼ˆé strippedï¼‰</li>
<li>æŸäº›åŠŸèƒ½å¯èƒ½éœ€è¦ root æ¬Šé™ï¼ˆå¦‚ ptraceï¼‰</li>
<li>C++ ç¨‹å¼å»ºè­°ä½¿ç”¨ <code>-g -O0</code> ç·¨è­¯é¸é …</li>
<li>Rust ç¨‹å¼å»ºè­°ä½¿ç”¨ <code>cargo build</code> (debug mode)</li>
<li>å¯ä½¿ç”¨ <code>gdb-dashboard</code> æˆ– <code>gef</code> å¢å¼·èª¿è©¦é«”é©—</li>
</ul>
<h2 id="-ç·¨è­¯å»ºè­°"><a class="header" href="#-ç·¨è­¯å»ºè­°">ğŸ”¨ ç·¨è­¯å»ºè­°</a></h2>
<h3 id="c-ç·¨è­¯é¸é …"><a class="header" href="#c-ç·¨è­¯é¸é …">C++ ç·¨è­¯é¸é …</a></h3>
<pre><code class="language-bash"># Debug ç‰ˆæœ¬
g++ -g -O0 -fno-omit-frame-pointer main.cpp

# Release with debug info
g++ -g -O2 main.cpp
</code></pre>
<h3 id="rust-ç·¨è­¯é¸é …-1"><a class="header" href="#rust-ç·¨è­¯é¸é …-1">Rust ç·¨è­¯é¸é …</a></h3>
<pre><code class="language-bash"># Debug ç‰ˆæœ¬
cargo build

# Release with debug info
cargo build --release
# Cargo.toml:
# [profile.release]
# debug = true
</code></pre>
<h3 id="cmake-é…ç½®"><a class="header" href="#cmake-é…ç½®">CMake é…ç½®</a></h3>
<pre><code class="language-cmake"># Debug ç‰ˆæœ¬
set(CMAKE_BUILD_TYPE Debug)
set(CMAKE_CXX_FLAGS_DEBUG "-g -O0")

# Release with debug
set(CMAKE_BUILD_TYPE RelWithDebInfo)
</code></pre>
<hr />
<p>æœ€å¾Œæ›´æ–°: 2025-09-17</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../gdb/gdb_ex_complete_guide.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../gdb/gdb-so-analysis-guide.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../gdb/gdb_ex_complete_guide.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../gdb/gdb-so-analysis-guide.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>



        <script>
            window.playground_line_numbers = true;
        </script>

        <script>
            window.playground_copyable = true;
        </script>

        <script src="../ace.js"></script>
        <script src="../mode-rust.js"></script>
        <script src="../editor.js"></script>
        <script src="../theme-dawn.js"></script>
        <script src="../theme-tomorrow_night.js"></script>

        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->
        <script src="../mermaid.min.js"></script>
        <script src="../mermaid-init.js"></script>



    </div>
    </body>
</html>
