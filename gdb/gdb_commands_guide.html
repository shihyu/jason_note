<!DOCTYPE HTML>
<html lang="zh" class="rust sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>GDB æŒ‡ä»¤æŒ‡å— - Jason Notes</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="../highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="../tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "../";
            const default_light_theme = "rust";
            const default_dark_theme = "navy";
            window.path_to_searchindex_js = "../searchindex.js";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../toc.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>â†</kbd> or <kbd>â†’</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('rust')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
                sidebar_toggle.checked = false;
            }
            if (sidebar === 'visible') {
                sidebar_toggle.checked = true;
            } else {
                html.classList.remove('sidebar-visible');
            }
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Jason Notes</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/shihyu/jason_note" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <div class="search-wrapper">
                            <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                            <div class="spinner-wrapper">
                                <i class="fa fa-spinner fa-spin"></i>
                            </div>
                        </div>
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="gdb-commands-å’Œè…³æœ¬èªæ³•å®Œæ•´æŒ‡å—"><a class="header" href="#gdb-commands-å’Œè…³æœ¬èªæ³•å®Œæ•´æŒ‡å—">GDB Commands å’Œè…³æœ¬èªæ³•å®Œæ•´æŒ‡å—</a></h1>
<h2 id="ç›®éŒ„"><a class="header" href="#ç›®éŒ„">ç›®éŒ„</a></h2>
<ul>
<li><a href="#commands-%E5%9F%BA%E6%9C%AC%E8%AA%9E%E6%B3%95">Commands åŸºæœ¬èªæ³•</a></li>
<li><a href="#%E5%B8%B8%E7%94%A8-commands-%E7%AF%84%E4%BE%8B">å¸¸ç”¨ Commands ç¯„ä¾‹</a></li>
<li><a href="#%E6%A2%9D%E4%BB%B6%E6%8E%A7%E5%88%B6%E8%AA%9E%E6%B3%95">æ¢ä»¶æ§åˆ¶èªæ³•</a></li>
<li><a href="#%E5%BE%AA%E7%92%B0%E6%8E%A7%E5%88%B6%E8%AA%9E%E6%B3%95">å¾ªç’°æ§åˆ¶èªæ³•</a></li>
<li><a href="#%E8%87%AA%E5%AE%9A%E7%BE%A9%E5%87%BD%E6%95%B8-define">è‡ªå®šç¾©å‡½æ•¸ (define)</a></li>
<li><a href="#gdb-%E8%85%B3%E6%9C%AC%E6%AA%94%E6%A1%88">GDB è…³æœ¬æª”æ¡ˆ</a></li>
<li><a href="#%E9%80%B2%E9%9A%8E%E6%87%89%E7%94%A8%E7%AF%84%E4%BE%8B">é€²éšæ‡‰ç”¨ç¯„ä¾‹</a></li>
</ul>
<h2 id="commands-åŸºæœ¬èªæ³•"><a class="header" href="#commands-åŸºæœ¬èªæ³•">Commands åŸºæœ¬èªæ³•</a></h2>
<h3 id="1-åŸºæœ¬çµæ§‹"><a class="header" href="#1-åŸºæœ¬çµæ§‹">1. åŸºæœ¬çµæ§‹</a></h3>
<pre><code class="language-gdb">(gdb) commands [æ–·é»ç·¨è™Ÿ]
Type commands for breakpoint(s) N, one per line.
End with a line saying just "end".
&gt; å‘½ä»¤1
&gt; å‘½ä»¤2
&gt; å‘½ä»¤3
&gt; end
</code></pre>
<h3 id="2-èªæ³•è¦å‰‡"><a class="header" href="#2-èªæ³•è¦å‰‡">2. èªæ³•è¦å‰‡</a></h3>
<ul>
<li><code>commands</code> å¾Œå¯æ¥æ–·é»ç·¨è™Ÿï¼Œè‹¥çœç•¥å‰‡å¥—ç”¨åˆ°æœ€è¿‘è¨­å®šçš„æ–·é»</li>
<li>æ¯å€‹å‘½ä»¤ä½”ä¸€è¡Œ</li>
<li>å¿…é ˆä»¥ <code>end</code> çµæŸå‘½ä»¤åºåˆ—</li>
<li>æ”¯æ´æ‰€æœ‰ GDB å‘½ä»¤å’Œè‡ªå®šç¾©å‡½æ•¸</li>
</ul>
<h2 id="continue-æŒ‡ä»¤çš„é‡è¦æ€§"><a class="header" href="#continue-æŒ‡ä»¤çš„é‡è¦æ€§">Continue æŒ‡ä»¤çš„é‡è¦æ€§</a></h2>
<h3 id="ç‚ºä»€éº¼éœ€è¦-continue"><a class="header" href="#ç‚ºä»€éº¼éœ€è¦-continue">ç‚ºä»€éº¼éœ€è¦ continueï¼Ÿ</a></h3>
<p>åœ¨ <code>commands</code> å€å¡Šä¸­ï¼Œ<code>continue</code> æŒ‡ä»¤æ±ºå®šäº†ç¨‹å¼æ˜¯å¦æœƒåœ¨æ–·é»è™•åœæ­¢ï¼š</p>
<ul>
<li><strong>æ²’æœ‰ continue</strong>ï¼šç¨‹å¼åŸ·è¡Œå®Œ commands å¾Œæœƒåœåœ¨æ–·é»è™•ï¼Œç­‰å¾…æ‰‹å‹•è¼¸å…¥</li>
<li><strong>æœ‰ continue</strong>ï¼šç¨‹å¼åŸ·è¡Œå®Œ commands å¾Œè‡ªå‹•ç¹¼çºŒåŸ·è¡Œ</li>
</ul>
<h3 id="continue-çš„åŸ·è¡Œæµç¨‹æ¯”è¼ƒ"><a class="header" href="#continue-çš„åŸ·è¡Œæµç¨‹æ¯”è¼ƒ">Continue çš„åŸ·è¡Œæµç¨‹æ¯”è¼ƒ</a></h3>
<h4 id="1-æ²’æœ‰-continueæœƒåœæ­¢"><a class="header" href="#1-æ²’æœ‰-continueæœƒåœæ­¢">1. æ²’æœ‰ continueï¼ˆæœƒåœæ­¢ï¼‰</a></h4>
<pre><code class="language-gdb">(gdb) break main
(gdb) commands 1
&gt; printf "Hit breakpoint\n"
&gt; print x
&gt; end  # æ²’æœ‰ continueï¼Œç¨‹å¼æœƒåœåœ¨é€™è£¡
</code></pre>
<p>çµæœï¼šéœ€è¦æ‰‹å‹•è¼¸å…¥ <code>continue</code> æˆ– <code>next</code> æ‰èƒ½ç¹¼çºŒ</p>
<h4 id="2-æœ‰-continueè‡ªå‹•ç¹¼çºŒ"><a class="header" href="#2-æœ‰-continueè‡ªå‹•ç¹¼çºŒ">2. æœ‰ continueï¼ˆè‡ªå‹•ç¹¼çºŒï¼‰</a></h4>
<pre><code class="language-gdb">(gdb) break main  
(gdb) commands 1
&gt; printf "Hit breakpoint\n"
&gt; print x
&gt; continue  # è‡ªå‹•ç¹¼çºŒåŸ·è¡Œï¼Œä¸æœƒåœä¸‹ä¾†
&gt; end
</code></pre>
<p>çµæœï¼šç¨‹å¼è‡ªå‹•ç¹¼çºŒåŸ·è¡Œï¼Œé©åˆè¨˜éŒ„å’Œç›£æ§</p>
<h3 id="continue-çš„ä½ç½®ç­–ç•¥"><a class="header" href="#continue-çš„ä½ç½®ç­–ç•¥">Continue çš„ä½ç½®ç­–ç•¥</a></h3>
<h4 id="åœ¨çµå°¾æœ€å¸¸è¦‹"><a class="header" href="#åœ¨çµå°¾æœ€å¸¸è¦‹">åœ¨çµå°¾ï¼ˆæœ€å¸¸è¦‹ï¼‰</a></h4>
<pre><code class="language-gdb">(gdb) commands
&gt; print x
&gt; print y
&gt; continue  # åŸ·è¡Œå®Œæ‰€æœ‰å‘½ä»¤å¾Œç¹¼çºŒ
&gt; end
</code></pre>
<h4 id="åœ¨æ¢ä»¶ä¸­é¸æ“‡æ€§ç¹¼çºŒ"><a class="header" href="#åœ¨æ¢ä»¶ä¸­é¸æ“‡æ€§ç¹¼çºŒ">åœ¨æ¢ä»¶ä¸­ï¼ˆé¸æ“‡æ€§ç¹¼çºŒï¼‰</a></h4>
<pre><code class="language-gdb">(gdb) commands
&gt; if (x == 0)
&gt;   continue  # æ»¿è¶³æ¢ä»¶æ™‚ç›´æ¥ç¹¼çºŒï¼Œè·³éå¾Œé¢çš„å‘½ä»¤
&gt; end
&gt; # x != 0 æ™‚æ‰æœƒåŸ·è¡Œä»¥ä¸‹å‘½ä»¤
&gt; print "x is not zero"
&gt; print x
&gt; # é€™è£¡æ•…æ„ä¸åŠ  continueï¼Œæœƒåœä¸‹ä¾†
&gt; end
</code></pre>
<h4 id="æ··åˆä½¿ç”¨æ™ºèƒ½åœæ­¢"><a class="header" href="#æ··åˆä½¿ç”¨æ™ºèƒ½åœæ­¢">æ··åˆä½¿ç”¨ï¼ˆæ™ºèƒ½åœæ­¢ï¼‰</a></h4>
<pre><code class="language-gdb">(gdb) commands
&gt; silent
&gt; printf "Function called with: %d\n", param
&gt; if (param &gt; 0 &amp;&amp; param &lt; 100)
&gt;   # æ­£å¸¸ç¯„åœï¼Œç¹¼çºŒåŸ·è¡Œ
&gt;   continue
&gt; end
&gt; # ç•°å¸¸å€¼ï¼Œåœä¸‹ä¾†èª¿è©¦
&gt; printf "Abnormal parameter: %d\n", param
&gt; backtrace
&gt; # ä¸åŠ  continueï¼Œéœ€è¦æ‰‹å‹•æª¢æŸ¥
&gt; end
</code></pre>
<h2 id="å¸¸ç”¨-commands-ç¯„ä¾‹"><a class="header" href="#å¸¸ç”¨-commands-ç¯„ä¾‹">å¸¸ç”¨ Commands ç¯„ä¾‹</a></h2>
<h3 id="1-åŸºæœ¬è¼¸å‡ºå’Œç¹¼çºŒåŸ·è¡Œ"><a class="header" href="#1-åŸºæœ¬è¼¸å‡ºå’Œç¹¼çºŒåŸ·è¡Œ">1. åŸºæœ¬è¼¸å‡ºå’Œç¹¼çºŒåŸ·è¡Œ</a></h3>
<pre><code class="language-gdb">(gdb) break main
Breakpoint 1 at 0x1150: file test.cpp, line 10.

(gdb) commands 1
&gt; printf "Program started at main()\n"
&gt; print argc
&gt; print argv[0]
&gt; continue  # è¨˜éŒ„å¾Œè‡ªå‹•ç¹¼çºŒ
&gt; end
</code></pre>
<h3 id="2-è¨˜éŒ„è®Šæ•¸å€¼ä¸ä¸­æ–·åŸ·è¡Œ"><a class="header" href="#2-è¨˜éŒ„è®Šæ•¸å€¼ä¸ä¸­æ–·åŸ·è¡Œ">2. è¨˜éŒ„è®Šæ•¸å€¼ï¼ˆä¸ä¸­æ–·åŸ·è¡Œï¼‰</a></h3>
<pre><code class="language-gdb">(gdb) break loop_function
Breakpoint 2 at 0x1234: file test.cpp, line 25.

(gdb) commands 2
&gt; silent  # æŠ‘åˆ¶é è¨­è¨Šæ¯
&gt; printf "i = %d, sum = %d\n", i, sum
&gt; continue  # å¿…é ˆåŠ  continueï¼Œå¦å‰‡è¿´åœˆæœƒå¡ä½
&gt; end
</code></pre>
<h3 id="3-èª¿è©¦æ¨¡å¼éœ€è¦åœæ­¢æª¢æŸ¥"><a class="header" href="#3-èª¿è©¦æ¨¡å¼éœ€è¦åœæ­¢æª¢æŸ¥">3. èª¿è©¦æ¨¡å¼ï¼ˆéœ€è¦åœæ­¢æª¢æŸ¥ï¼‰</a></h3>
<pre><code class="language-gdb">(gdb) break error_handler
Breakpoint 3 at 0x1300: file test.cpp, line 40.

(gdb) commands 3
&gt; echo === Error Occurred ===\n
&gt; print error_code
&gt; print error_message
&gt; backtrace
&gt; info locals
&gt; # æ•…æ„ä¸åŠ  continueï¼Œéœ€è¦æ‰‹å‹•æª¢æŸ¥éŒ¯èª¤
&gt; end
</code></pre>
<h3 id="4-æ€§èƒ½åˆ†æé«˜é »æ–·é»å¿…é ˆç”¨-continue"><a class="header" href="#4-æ€§èƒ½åˆ†æé«˜é »æ–·é»å¿…é ˆç”¨-continue">4. æ€§èƒ½åˆ†æï¼ˆé«˜é »æ–·é»å¿…é ˆç”¨ continueï¼‰</a></h3>
<pre><code class="language-gdb">(gdb) break frequently_called_function
Breakpoint 4 at 0x1400: file test.cpp, line 55.

(gdb) commands 4
&gt; silent
&gt; set $call_count = $call_count + 1
&gt; if ($call_count % 10000 == 0)
&gt;   printf "Function called %d times\n", $call_count
&gt; end
&gt; continue  # é«˜é »å‡½æ•¸å¿…é ˆè‡ªå‹•ç¹¼çºŒï¼Œå¦å‰‡ç¨‹å¼ç„¡æ³•æ­£å¸¸é‹è¡Œ
&gt; end
</code></pre>
<h3 id="5-æ¢ä»¶å¼åœæ­¢æ™ºèƒ½èª¿è©¦"><a class="header" href="#5-æ¢ä»¶å¼åœæ­¢æ™ºèƒ½èª¿è©¦">5. æ¢ä»¶å¼åœæ­¢ï¼ˆæ™ºèƒ½èª¿è©¦ï¼‰</a></h3>
<pre><code class="language-gdb">(gdb) break process_data
Breakpoint 5 at 0x1500: file test.cpp, line 70.

(gdb) commands 5
&gt; silent
&gt; if (data_size &lt; 1000)
&gt;   # å°æ•¸æ“šï¼Œä¸éœ€è¦èª¿è©¦
&gt;   continue
&gt; end
&gt; # å¤§æ•¸æ“šï¼Œéœ€è¦æª¢æŸ¥
&gt; printf "Processing large data: size=%d\n", data_size
&gt; print data_ptr
&gt; info locals
&gt; # ä¸åŠ  continueï¼Œè®“é–‹ç™¼è€…æ±ºå®šå¦‚ä½•è™•ç†
&gt; end
</code></pre>
<p><strong>è¨»ï¼š<code>silent</code> å¯ä»¥æŠ‘åˆ¶æ–·é»è§¸ç™¼çš„é è¨­è¨Šæ¯</strong></p>
<h3 id="3-æ¢ä»¶å¼è¼¸å‡º"><a class="header" href="#3-æ¢ä»¶å¼è¼¸å‡º">3. æ¢ä»¶å¼è¼¸å‡º</a></h3>
<pre><code class="language-gdb">(gdb) break process_data
Breakpoint 3 at 0x1300: file test.cpp, line 40.

(gdb) commands 3
&gt; silent
&gt; if (value &gt; 100)
&gt;   printf "Warning: value = %d exceeds limit!\n", value
&gt;   backtrace
&gt; end
&gt; continue  # è¨˜éŒ„å¾Œç¹¼çºŒåŸ·è¡Œ
&gt; end
</code></pre>
<h3 id="4-æ”¶é›†è³‡æ–™åˆ°æª”æ¡ˆèƒŒæ™¯è¨˜éŒ„"><a class="header" href="#4-æ”¶é›†è³‡æ–™åˆ°æª”æ¡ˆèƒŒæ™¯è¨˜éŒ„">4. æ”¶é›†è³‡æ–™åˆ°æª”æ¡ˆï¼ˆèƒŒæ™¯è¨˜éŒ„ï¼‰</a></h3>
<pre><code class="language-gdb">(gdb) break calculate
Breakpoint 4 at 0x1400: file test.cpp, line 55.

(gdb) commands 4
&gt; silent
&gt; set logging file debug.log
&gt; set logging on
&gt; printf "Time: %d, Result: %f\n", timestamp, result
&gt; set logging off
&gt; continue  # è¨˜éŒ„å¾Œè‡ªå‹•ç¹¼çºŒï¼Œä¸ä¸­æ–·ç¨‹å¼
&gt; end
</code></pre>
<h3 id="5-è¤‡é›œçš„èª¿è©¦åºåˆ—éœ€è¦åœæ­¢"><a class="header" href="#5-è¤‡é›œçš„èª¿è©¦åºåˆ—éœ€è¦åœæ­¢">5. è¤‡é›œçš„èª¿è©¦åºåˆ—ï¼ˆéœ€è¦åœæ­¢ï¼‰</a></h3>
<pre><code class="language-gdb">(gdb) break error_handler
Breakpoint 5 at 0x1500: file test.cpp, line 70.

(gdb) commands 5
&gt; echo === Error occurred ===\n
&gt; backtrace full
&gt; info locals
&gt; info args
&gt; up
&gt; info locals
&gt; down
&gt; if (error_code == -1)
&gt;   print *error_struct
&gt;   x/10x error_buffer
&gt; end
&gt; # æ³¨æ„ï¼šé€™è£¡æ²’æœ‰ continueï¼Œå› ç‚ºéŒ¯èª¤éœ€è¦æ‰‹å‹•æª¢æŸ¥
&gt; end
</code></pre>
<h2 id="æ¢ä»¶æ§åˆ¶èªæ³•"><a class="header" href="#æ¢ä»¶æ§åˆ¶èªæ³•">æ¢ä»¶æ§åˆ¶èªæ³•</a></h2>
<h3 id="1-if-else-çµæ§‹"><a class="header" href="#1-if-else-çµæ§‹">1. if-else çµæ§‹</a></h3>
<pre><code class="language-gdb">(gdb) commands 6
&gt; if (ptr != 0)
&gt;   print *ptr
&gt;   printf "Pointer value: 0x%x\n", ptr
&gt; else
&gt;   echo Pointer is NULL\n
&gt; end
&gt; continue
&gt; end
</code></pre>
<h3 id="2-å·¢ç‹€æ¢ä»¶"><a class="header" href="#2-å·¢ç‹€æ¢ä»¶">2. å·¢ç‹€æ¢ä»¶</a></h3>
<pre><code class="language-gdb">(gdb) commands 7
&gt; if (status == 1)
&gt;   echo Status: Running\n
&gt;   if (counter &gt; 10)
&gt;     echo Counter overflow!\n
&gt;     set counter = 0
&gt;   end
&gt; else
&gt;   if (status == 0)
&gt;     echo Status: Stopped\n
&gt;   else
&gt;     echo Status: Unknown\n
&gt;   end
&gt; end
&gt; continue
&gt; end
</code></pre>
<h3 id="3-å¤šé‡æ¢ä»¶æª¢æŸ¥"><a class="header" href="#3-å¤šé‡æ¢ä»¶æª¢æŸ¥">3. å¤šé‡æ¢ä»¶æª¢æŸ¥</a></h3>
<pre><code class="language-gdb">(gdb) commands 8
&gt; silent
&gt; set $flag = 0
&gt; if (x &gt; 0 &amp;&amp; y &gt; 0)
&gt;   set $flag = 1
&gt;   echo First quadrant\n
&gt; end
&gt; if (x &lt; 0 &amp;&amp; y &gt; 0)
&gt;   set $flag = 2
&gt;   echo Second quadrant\n
&gt; end
&gt; if ($flag == 0)
&gt;   echo Origin or axis\n
&gt; end
&gt; continue
&gt; end
</code></pre>
<h2 id="å¾ªç’°æ§åˆ¶èªæ³•"><a class="header" href="#å¾ªç’°æ§åˆ¶èªæ³•">å¾ªç’°æ§åˆ¶èªæ³•</a></h2>
<h3 id="1-while-å¾ªç’°"><a class="header" href="#1-while-å¾ªç’°">1. while å¾ªç’°</a></h3>
<pre><code class="language-gdb">(gdb) commands 9
&gt; set $i = 0
&gt; while ($i &lt; 10)
&gt;   printf "array[%d] = %d\n", $i, array[$i]
&gt;   set $i = $i + 1
&gt; end
&gt; continue
&gt; end
</code></pre>
<h3 id="2-éæ­·éˆè¡¨"><a class="header" href="#2-éæ­·éˆè¡¨">2. éæ­·éˆè¡¨</a></h3>
<pre><code class="language-gdb">(gdb) commands 10
&gt; set $node = head
&gt; set $count = 0
&gt; while ($node != 0)
&gt;   printf "Node %d: value = %d\n", $count, $node-&gt;value
&gt;   set $node = $node-&gt;next
&gt;   set $count = $count + 1
&gt;   if ($count &gt; 100)
&gt;     echo Warning: Possible infinite loop!\n
&gt;     loop_break
&gt;   end
&gt; end
&gt; printf "Total nodes: %d\n", $count
&gt; continue
&gt; end
</code></pre>
<h3 id="3-è¨˜æ†¶é«”æƒæ"><a class="header" href="#3-è¨˜æ†¶é«”æƒæ">3. è¨˜æ†¶é«”æƒæ</a></h3>
<pre><code class="language-gdb">(gdb) commands 11
&gt; set $addr = buffer
&gt; set $end = buffer + size
&gt; while ($addr &lt; $end)
&gt;   if (*(char*)$addr == 0)
&gt;     printf "Found null at 0x%x\n", $addr
&gt;     loop_break
&gt;   end
&gt;   set $addr = $addr + 1
&gt; end
&gt; continue
&gt; end
</code></pre>
<h2 id="è‡ªå®šç¾©å‡½æ•¸-define"><a class="header" href="#è‡ªå®šç¾©å‡½æ•¸-define">è‡ªå®šç¾©å‡½æ•¸ (define)</a></h2>
<h3 id="1-åŸºæœ¬å‡½æ•¸å®šç¾©"><a class="header" href="#1-åŸºæœ¬å‡½æ•¸å®šç¾©">1. åŸºæœ¬å‡½æ•¸å®šç¾©</a></h3>
<pre><code class="language-gdb">(gdb) define print_array
Type commands for definition of "print_array".
End with a line saying just "end".
&gt; set $i = 0
&gt; while ($i &lt; $arg1)
&gt;   printf "array[%d] = %d\n", $i, array[$i]
&gt;   set $i = $i + 1
&gt; end
&gt; end

# ä½¿ç”¨æ–¹å¼
(gdb) print_array 5
</code></pre>
<h3 id="2-å¸¶åƒæ•¸çš„å‡½æ•¸"><a class="header" href="#2-å¸¶åƒæ•¸çš„å‡½æ•¸">2. å¸¶åƒæ•¸çš„å‡½æ•¸</a></h3>
<pre><code class="language-gdb">(gdb) define examine_pointer
&gt; if ($arg0 != 0)
&gt;   printf "Pointer: 0x%x\n", $arg0
&gt;   printf "Value: %d\n", *$arg0
&gt;   x/4x $arg0
&gt; else
&gt;   echo Null pointer!\n
&gt; end
&gt; end

# ä½¿ç”¨æ–¹å¼
(gdb) examine_pointer ptr
</code></pre>
<h3 id="3-è¤‡é›œçš„èª¿è©¦å‡½æ•¸"><a class="header" href="#3-è¤‡é›œçš„èª¿è©¦å‡½æ•¸">3. è¤‡é›œçš„èª¿è©¦å‡½æ•¸</a></h3>
<pre><code class="language-gdb">(gdb) define debug_struct
&gt; echo === Structure Debug Info ===\n
&gt; print $arg0
&gt; print *$arg0
&gt; printf "Size: %d bytes\n", sizeof(*$arg0)
&gt; if ($arg0-&gt;next != 0)
&gt;   echo Has next element\n
&gt;   print $arg0-&gt;next
&gt; end
&gt; if ($argc &gt; 1)
&gt;   if ($arg1 == 1)
&gt;     echo Detailed mode\n
&gt;     x/20x $arg0
&gt;   end
&gt; end
&gt; end

# ä½¿ç”¨æ–¹å¼
(gdb) debug_struct my_struct
(gdb) debug_struct my_struct 1  # è©³ç´°æ¨¡å¼
</code></pre>
<h3 id="4-éè¿´å‡½æ•¸"><a class="header" href="#4-éè¿´å‡½æ•¸">4. éè¿´å‡½æ•¸</a></h3>
<pre><code class="language-gdb">(gdb) define print_tree
&gt; if ($arg0 != 0)
&gt;   printf "Node value: %d\n", $arg0-&gt;value
&gt;   if ($arg0-&gt;left != 0)
&gt;     echo Left: 
&gt;     print_tree $arg0-&gt;left
&gt;   end
&gt;   if ($arg0-&gt;right != 0)
&gt;     echo Right: 
&gt;     print_tree $arg0-&gt;right
&gt;   end
&gt; end
&gt; end
</code></pre>
<h2 id="gdb-è…³æœ¬æª”æ¡ˆ"><a class="header" href="#gdb-è…³æœ¬æª”æ¡ˆ">GDB è…³æœ¬æª”æ¡ˆ</a></h2>
<h3 id="1-åŸºæœ¬è…³æœ¬çµæ§‹"><a class="header" href="#1-åŸºæœ¬è…³æœ¬çµæ§‹">1. åŸºæœ¬è…³æœ¬çµæ§‹</a></h3>
<p><strong>debug_script.gdb:</strong></p>
<pre><code class="language-gdb"># GDB èª¿è©¦è…³æœ¬
# ä½¿ç”¨æ–¹å¼: gdb -x debug_script.gdb ./program

# è¨­å®šç’°å¢ƒ
set pagination off
set logging file debug.log
set logging on

# å®šç¾©è¼”åŠ©å‡½æ•¸
define print_status
  echo === Program Status ===\n
  info registers
  info frame
  backtrace 3
end

# è¨­å®šæ–·é»
break main
commands
  silent
  echo Program started\n
  continue
end

break error_function
commands
  echo Error detected!\n
  print_status
  print error_code
  continue
end

# è¨­å®š watchpoint
watch global_counter
commands
  silent
  printf "Counter changed to: %d\n", global_counter
  continue
end

# åŸ·è¡Œç¨‹å¼
run

# ç¨‹å¼çµæŸå¾Œçš„æ¸…ç†
echo Program finished\n
set logging off
quit
</code></pre>
<h3 id="2-æ‰¹æ¬¡è™•ç†è…³æœ¬"><a class="header" href="#2-æ‰¹æ¬¡è™•ç†è…³æœ¬">2. æ‰¹æ¬¡è™•ç†è…³æœ¬</a></h3>
<p><strong>batch_debug.gdb:</strong></p>
<pre><code class="language-gdb"># æ‰¹æ¬¡è™•ç†å¤šå€‹æ ¸å¿ƒè½‰å„²æª”æ¡ˆ
set pagination off
set confirm off

define analyze_core
  echo ========================================\n
  printf "Analyzing: %s\n", $arg0
  echo ========================================\n
  
  core $arg0
  
  echo === Backtrace ===\n
  backtrace
  
  echo === Registers ===\n
  info registers
  
  echo === Local Variables ===\n
  info locals
  
  echo === Memory Map ===\n
  info proc mappings
  
  echo \n\n
end

# åˆ†æå¤šå€‹ core æª”æ¡ˆ
analyze_core core.1234
analyze_core core.5678
analyze_core core.9012

quit
</code></pre>
<h3 id="3-è‡ªå‹•åŒ–æ¸¬è©¦è…³æœ¬"><a class="header" href="#3-è‡ªå‹•åŒ–æ¸¬è©¦è…³æœ¬">3. è‡ªå‹•åŒ–æ¸¬è©¦è…³æœ¬</a></h3>
<p><strong>auto_test.gdb:</strong></p>
<pre><code class="language-gdb"># è‡ªå‹•åŒ–æ¸¬è©¦è…³æœ¬
set pagination off
set breakpoint pending on

# æ¸¬è©¦è¨ˆæ•¸å™¨
set $test_passed = 0
set $test_failed = 0

# å®šç¾©æ¸¬è©¦å‡½æ•¸
define test_function
  printf "Testing: %s\n", $arg0
  
  # è¨­å®šæ–·é»ä¸¦åŸ·è¡Œ
  tbreak $arg0
  continue
  
  # æª¢æŸ¥çµæœ
  if ($arg1 == $return_value)
    printf "  PASSED: return value = %d\n", $return_value
    set $test_passed = $test_passed + 1
  else
    printf "  FAILED: expected %d, got %d\n", $arg1, $return_value
    set $test_failed = $test_failed + 1
  end
end

# é–‹å§‹æ¸¬è©¦
run

# åŸ·è¡Œæ¸¬è©¦æ¡ˆä¾‹
test_function add_numbers 30
test_function subtract_numbers 10
test_function multiply_numbers 200

# é¡¯ç¤ºæ¸¬è©¦çµæœ
echo =============================\n
printf "Tests Passed: %d\n", $test_passed
printf "Tests Failed: %d\n", $test_failed
echo =============================\n

quit
</code></pre>
<h2 id="é€²éšæ‡‰ç”¨ç¯„ä¾‹"><a class="header" href="#é€²éšæ‡‰ç”¨ç¯„ä¾‹">é€²éšæ‡‰ç”¨ç¯„ä¾‹</a></h2>
<h3 id="1-æ•ˆèƒ½åˆ†æè…³æœ¬"><a class="header" href="#1-æ•ˆèƒ½åˆ†æè…³æœ¬">1. æ•ˆèƒ½åˆ†æè…³æœ¬</a></h3>
<pre><code class="language-gdb"># æ•ˆèƒ½åˆ†æ
define profile_function
  set $start_time = clock()
  finish
  set $end_time = clock()
  printf "Execution time: %f seconds\n", ($end_time - $start_time) / 1000000.0
end

(gdb) break slow_function
(gdb) commands
&gt; profile_function
&gt; continue
&gt; end
</code></pre>
<h3 id="2-è¨˜æ†¶é«”æ´©æ¼åµæ¸¬"><a class="header" href="#2-è¨˜æ†¶é«”æ´©æ¼åµæ¸¬">2. è¨˜æ†¶é«”æ´©æ¼åµæ¸¬</a></h3>
<pre><code class="language-gdb"># è¨˜æ†¶é«”é…ç½®è¿½è¹¤
set $malloc_count = 0
set $free_count = 0

break malloc
commands
  silent
  set $malloc_count = $malloc_count + 1
  printf "malloc #%d: size=%d\n", $malloc_count, $rdi
  backtrace 2
  continue
end

break free
commands
  silent
  set $free_count = $free_count + 1
  printf "free #%d: ptr=0x%x\n", $free_count, $rdi
  continue
end

define memory_report
  printf "Allocations: %d\n", $malloc_count
  printf "Deallocations: %d\n", $free_count
  printf "Potential leaks: %d\n", $malloc_count - $free_count
end
</code></pre>
<h3 id="3-å¤šåŸ·è¡Œç·’èª¿è©¦"><a class="header" href="#3-å¤šåŸ·è¡Œç·’èª¿è©¦">3. å¤šåŸ·è¡Œç·’èª¿è©¦</a></h3>
<pre><code class="language-gdb"># åŸ·è¡Œç·’ç›£æ§
define thread_info
  echo === Thread Information ===\n
  info threads
  thread apply all backtrace 2
end

define switch_and_examine
  thread $arg0
  echo Current thread:\n
  backtrace
  info locals
end

# è¨­å®šåŸ·è¡Œç·’ç›¸é—œæ–·é»
break critical_section
commands
  silent
  printf "Thread %d entered critical section\n", $_thread
  if ($_thread != 1)
    echo Warning: Non-main thread in critical section!\n
    thread_info
  end
  continue
end
</code></pre>
<h3 id="4-ç‹€æ…‹æ©Ÿèª¿è©¦"><a class="header" href="#4-ç‹€æ…‹æ©Ÿèª¿è©¦">4. ç‹€æ…‹æ©Ÿèª¿è©¦</a></h3>
<pre><code class="language-gdb"># ç‹€æ…‹æ©Ÿè¿½è¹¤
set $state_history = {}
set $state_count = 0

define track_state
  set $state_history[$state_count] = current_state
  set $state_count = $state_count + 1
  
  if (current_state == STATE_ERROR)
    echo ERROR STATE REACHED!\n
    print_state_history
    backtrace full
  end
end

define print_state_history
  echo === State History ===\n
  set $i = 0
  while ($i &lt; $state_count)
    printf "Step %d: State %d\n", $i, $state_history[$i]
    set $i = $i + 1
  end
end

break state_machine_update
commands
  silent
  track_state
  continue
end
</code></pre>
<h3 id="5-è‡ªå‹•éŒ¯èª¤æ¢å¾©"><a class="header" href="#5-è‡ªå‹•éŒ¯èª¤æ¢å¾©">5. è‡ªå‹•éŒ¯èª¤æ¢å¾©</a></h3>
<pre><code class="language-gdb"># éŒ¯èª¤è™•ç†å’Œæ¢å¾©
define handle_segfault
  echo Segmentation fault detected!\n
  backtrace
  
  # å˜—è©¦æ¢å¾©
  if ($pc == dangerous_function)
    echo Skipping dangerous function\n
    finish
    set $rax = 0  # è¨­å®šè¿”å›å€¼
    continue
  else
    echo Unable to recover\n
  end
end

catch signal SIGSEGV
commands
  handle_segfault
end
</code></pre>
<h2 id="å¯¦ç”¨æŠ€å·§å’Œæœ€ä½³å¯¦è¸"><a class="header" href="#å¯¦ç”¨æŠ€å·§å’Œæœ€ä½³å¯¦è¸">å¯¦ç”¨æŠ€å·§å’Œæœ€ä½³å¯¦è¸</a></h2>
<h3 id="1-è®Šæ•¸ä½¿ç”¨æŠ€å·§"><a class="header" href="#1-è®Šæ•¸ä½¿ç”¨æŠ€å·§">1. è®Šæ•¸ä½¿ç”¨æŠ€å·§</a></h3>
<pre><code class="language-gdb"># GDB ä¾¿åˆ©è®Šæ•¸
(gdb) set $counter = 0
(gdb) commands 12
&gt; set $counter = $counter + 1
&gt; if ($counter % 100 == 0)
&gt;   printf "Hit count: %d\n", $counter
&gt; end
&gt; continue
&gt; end

# ä½¿ç”¨æš«å­˜å™¨
(gdb) commands 13
&gt; if ($rax == 0)
&gt;   echo Function returned NULL\n
&gt; end
&gt; continue
&gt; end
</code></pre>
<h3 id="2-è¼¸å‡ºæ ¼å¼åŒ–"><a class="header" href="#2-è¼¸å‡ºæ ¼å¼åŒ–">2. è¼¸å‡ºæ ¼å¼åŒ–</a></h3>
<pre><code class="language-gdb"># å„ç¨®è¼¸å‡ºæ ¼å¼
(gdb) commands 14
&gt; # åå…­é€²åˆ¶
&gt; printf "Hex: 0x%x\n", value
&gt; # åé€²åˆ¶
&gt; printf "Dec: %d\n", value
&gt; # å­—ä¸²
&gt; printf "String: %s\n", string_ptr
&gt; # æµ®é»æ•¸
&gt; printf "Float: %.2f\n", float_value
&gt; # å­—å…ƒ
&gt; printf "Char: %c\n", char_value
&gt; # æŒ‡æ¨™
&gt; printf "Pointer: %p\n", ptr
&gt; continue
&gt; end
</code></pre>
<h3 id="3-æ¢ä»¶æ–·é»å„ªåŒ–"><a class="header" href="#3-æ¢ä»¶æ–·é»å„ªåŒ–">3. æ¢ä»¶æ–·é»å„ªåŒ–</a></h3>
<pre><code class="language-gdb"># ä½¿ç”¨ commands ä»£æ›¿æ¢ä»¶æ–·é»ä»¥æé«˜æ•ˆèƒ½
(gdb) break hot_function
(gdb) commands
&gt; silent
&gt; if (counter != target_value)
&gt;   continue
&gt; end
&gt; # åªåœ¨æ¢ä»¶æ»¿è¶³æ™‚åŸ·è¡Œä»¥ä¸‹å‘½ä»¤
&gt; echo Target reached!\n
&gt; print counter
&gt; backtrace
&gt; end
</code></pre>
<h3 id="4-éŒ¯èª¤è™•ç†"><a class="header" href="#4-éŒ¯èª¤è™•ç†">4. éŒ¯èª¤è™•ç†</a></h3>
<pre><code class="language-gdb"># å®‰å…¨çš„æŒ‡æ¨™å­˜å–
(gdb) commands 15
&gt; if (ptr != 0)
&gt;   if (ptr &gt;= 0x1000 &amp;&amp; ptr &lt; 0x7fffffffffff)
&gt;     print *ptr
&gt;   else
&gt;     printf "Invalid pointer: 0x%x\n", ptr
&gt;   end
&gt; else
&gt;   echo Null pointer\n
&gt; end
&gt; continue
&gt; end
</code></pre>
<h3 id="5-æ—¥èªŒè¨˜éŒ„"><a class="header" href="#5-æ—¥èªŒè¨˜éŒ„">5. æ—¥èªŒè¨˜éŒ„</a></h3>
<pre><code class="language-gdb"># å®Œæ•´çš„æ—¥èªŒç³»çµ±
define log_init
  set logging file $arg0
  set logging overwrite on
  set logging on
  printf "=== Debug session started at %s ===\n", $_gdb_timestamp
end

define log_message
  printf "[%s] %s\n", $_gdb_timestamp, $arg0
end

define log_close
  printf "=== Debug session ended at %s ===\n", $_gdb_timestamp
  set logging off
end

# ä½¿ç”¨æ–¹å¼
(gdb) log_init "debug_session.log"
(gdb) commands 16
&gt; log_message "Breakpoint hit"
&gt; continue
&gt; end
(gdb) log_close
</code></pre>
<h2 id="å¯¦ç”¨æ‡‰ç”¨å ´æ™¯ç¯„ä¾‹"><a class="header" href="#å¯¦ç”¨æ‡‰ç”¨å ´æ™¯ç¯„ä¾‹">å¯¦ç”¨æ‡‰ç”¨å ´æ™¯ç¯„ä¾‹</a></h2>
<h3 id="å ´æ™¯-1è¨˜éŒ„å‹æ–·é»éœ€è¦-continue"><a class="header" href="#å ´æ™¯-1è¨˜éŒ„å‹æ–·é»éœ€è¦-continue">å ´æ™¯ 1ï¼šè¨˜éŒ„å‹æ–·é»ï¼ˆéœ€è¦ continueï¼‰</a></h3>
<p>ç”¨æ–¼æ”¶é›†è³‡è¨Šä½†ä¸æƒ³ä¸­æ–·ç¨‹å¼åŸ·è¡Œï¼š</p>
<pre><code class="language-gdb"># çµ±è¨ˆå‡½æ•¸å‘¼å«é »ç‡
(gdb) break hot_function
(gdb) commands
&gt; silent
&gt; set $counter = $counter + 1
&gt; if ($counter % 1000 == 0)
&gt;   printf "Called %d times\n", $counter
&gt; end
&gt; continue  # å¿…é ˆè¦ continueï¼Œå¦å‰‡ç¨‹å¼æœƒå¡ä½
&gt; end

# è¿½è¹¤è¨˜æ†¶é«”é…ç½®
(gdb) break malloc
(gdb) commands
&gt; silent
&gt; printf "malloc: size=%d, caller=%p\n", $rdi, *(void**)$rsp
&gt; continue  # è‡ªå‹•ç¹¼çºŒï¼Œä¸ä¸­æ–·ç¨‹å¼
&gt; end
</code></pre>
<h3 id="å ´æ™¯-2èª¿è©¦å‹æ–·é»ä¸è¦-continue"><a class="header" href="#å ´æ™¯-2èª¿è©¦å‹æ–·é»ä¸è¦-continue">å ´æ™¯ 2ï¼šèª¿è©¦å‹æ–·é»ï¼ˆä¸è¦ continueï¼‰</a></h3>
<p>éœ€è¦åœä¸‹ä¾†æª¢æŸ¥å’Œåˆ†æï¼š</p>
<pre><code class="language-gdb"># éŒ¯èª¤è™•ç† - éœ€è¦æ‰‹å‹•æª¢æŸ¥
(gdb) break error_handler
(gdb) commands
&gt; echo === ERROR DETECTED ===\n
&gt; print error_code
&gt; print error_message
&gt; backtrace
&gt; info locals
&gt; # æ•…æ„ä¸åŠ  continueï¼Œéœ€è¦äººå·¥ä»‹å…¥
&gt; end

# é—œéµå‡½æ•¸ - éœ€è¦é€æ­¥èª¿è©¦
(gdb) break critical_function
(gdb) commands
&gt; echo Entering critical section\n
&gt; print input_param
&gt; info registers
&gt; # ä¸åŠ  continueï¼Œéœ€è¦å–®æ­¥åŸ·è¡Œæª¢æŸ¥
&gt; end
</code></pre>
<h3 id="å ´æ™¯-3æ··åˆå‹æ–·é»é¸æ“‡æ€§-continue"><a class="header" href="#å ´æ™¯-3æ··åˆå‹æ–·é»é¸æ“‡æ€§-continue">å ´æ™¯ 3ï¼šæ··åˆå‹æ–·é»ï¼ˆé¸æ“‡æ€§ continueï¼‰</a></h3>
<p>æ ¹æ“šæ¢ä»¶æ±ºå®šæ˜¯å¦åœæ­¢ï¼š</p>
<pre><code class="language-gdb"># åªåœ¨ç•°å¸¸æƒ…æ³ä¸‹åœæ­¢
(gdb) break validate_data
(gdb) commands
&gt; silent
&gt; if (data_valid == 1)
&gt;   # è³‡æ–™æ­£å¸¸ï¼Œç¹¼çºŒåŸ·è¡Œ
&gt;   continue
&gt; end
&gt; # è³‡æ–™ç•°å¸¸ï¼Œåœä¸‹ä¾†èª¿è©¦
&gt; printf "Invalid data detected!\n"
&gt; print data_valid
&gt; print data_buffer
&gt; backtrace
&gt; # ç•°å¸¸æ™‚ä¸åŠ  continueï¼Œéœ€è¦æª¢æŸ¥
&gt; end

# æ•ˆèƒ½ç›£æ§ - åªåœ¨æ…¢é€Ÿæ™‚åœæ­¢
(gdb) break function_end
(gdb) commands
&gt; silent
&gt; set $duration = $end_time - $start_time
&gt; printf "Duration: %d ms\n", $duration
&gt; if ($duration &lt; 100)
&gt;   # æ•ˆèƒ½æ­£å¸¸ï¼Œç¹¼çºŒ
&gt;   continue
&gt; end
&gt; # æ•ˆèƒ½ç•°å¸¸ï¼Œåœä¸‹ä¾†åˆ†æ
&gt; echo Performance issue detected!\n
&gt; print $duration
&gt; info locals
&gt; # ä¸åŠ  continueï¼Œéœ€è¦åˆ†æåŸå› 
&gt; end
</code></pre>
<h3 id="å ´æ™¯-4è‡ªå‹•åŒ–æ¸¬è©¦éƒ½éœ€è¦-continue"><a class="header" href="#å ´æ™¯-4è‡ªå‹•åŒ–æ¸¬è©¦éƒ½éœ€è¦-continue">å ´æ™¯ 4ï¼šè‡ªå‹•åŒ–æ¸¬è©¦ï¼ˆéƒ½éœ€è¦ continueï¼‰</a></h3>
<p>å®Œå…¨è‡ªå‹•åŒ–åŸ·è¡Œï¼š</p>
<pre><code class="language-gdb"># è‡ªå‹•åŒ–å›æ­¸æ¸¬è©¦
(gdb) break test_function
(gdb) commands
&gt; silent
&gt; # æª¢æŸ¥æ¸¬è©¦çµæœ
&gt; if ($return_value == expected_value)
&gt;   set $test_passed = $test_passed + 1
&gt;   printf "Test PASSED: %s\n", test_name
&gt; else
&gt;   set $test_failed = $test_failed + 1
&gt;   printf "Test FAILED: %s (expected %d, got %d)\n", \
&gt;          test_name, expected_value, $return_value
&gt; end
&gt; continue  # è‡ªå‹•åŸ·è¡Œä¸‹ä¸€å€‹æ¸¬è©¦
&gt; end
</code></pre>
<h2 id="å¸¸è¦‹å•é¡Œå’Œè§£æ±ºæ–¹æ¡ˆ"><a class="header" href="#å¸¸è¦‹å•é¡Œå’Œè§£æ±ºæ–¹æ¡ˆ">å¸¸è¦‹å•é¡Œå’Œè§£æ±ºæ–¹æ¡ˆ</a></h2>
<h3 id="q1-commands-ä¸­çš„è®Šæ•¸ä½œç”¨åŸŸ"><a class="header" href="#q1-commands-ä¸­çš„è®Šæ•¸ä½œç”¨åŸŸ">Q1: commands ä¸­çš„è®Šæ•¸ä½œç”¨åŸŸï¼Ÿ</a></h3>
<p>GDB è®Šæ•¸ï¼ˆ<code>$var</code>ï¼‰æ˜¯å…¨åŸŸçš„ï¼Œå¯åœ¨æ‰€æœ‰ commands é–“å…±äº«ã€‚C/C++ è®Šæ•¸å‰‡ä¾æ“šç•¶å‰ frameã€‚</p>
<h3 id="q2-å¦‚ä½•ä¸­æ–·ç„¡é™å¾ªç’°"><a class="header" href="#q2-å¦‚ä½•ä¸­æ–·ç„¡é™å¾ªç’°">Q2: å¦‚ä½•ä¸­æ–·ç„¡é™å¾ªç’°ï¼Ÿ</a></h3>
<p>ä½¿ç”¨ <code>loop_break</code> æŒ‡ä»¤ï¼š</p>
<pre><code class="language-gdb">while (condition)
  # commands
  if (exit_condition)
    loop_break
  end
end
</code></pre>
<h3 id="q3-å¦‚ä½•åœ¨-commands-ä¸­å‘¼å«-shell-å‘½ä»¤"><a class="header" href="#q3-å¦‚ä½•åœ¨-commands-ä¸­å‘¼å«-shell-å‘½ä»¤">Q3: å¦‚ä½•åœ¨ commands ä¸­å‘¼å« shell å‘½ä»¤ï¼Ÿ</a></h3>
<pre><code class="language-gdb">(gdb) commands 17
&gt; shell date &gt;&gt; debug.log
&gt; shell echo "Breakpoint hit" &gt;&gt; debug.log
&gt; continue
&gt; end
</code></pre>
<h3 id="q4-å¦‚ä½•è®“-commands-ä¸è¼¸å‡ºè¨Šæ¯"><a class="header" href="#q4-å¦‚ä½•è®“-commands-ä¸è¼¸å‡ºè¨Šæ¯">Q4: å¦‚ä½•è®“ commands ä¸è¼¸å‡ºè¨Šæ¯ï¼Ÿ</a></h3>
<p>ä½¿ç”¨ <code>silent</code> æŒ‡ä»¤ï¼š</p>
<pre><code class="language-gdb">(gdb) commands 18
&gt; silent
&gt; # ä½ çš„å‘½ä»¤
&gt; continue
&gt; end
</code></pre>
<h3 id="q5-å¦‚ä½•åœ¨-commands-ä¸­è¨­å®šæ–°æ–·é»"><a class="header" href="#q5-å¦‚ä½•åœ¨-commands-ä¸­è¨­å®šæ–°æ–·é»">Q5: å¦‚ä½•åœ¨ commands ä¸­è¨­å®šæ–°æ–·é»ï¼Ÿ</a></h3>
<pre><code class="language-gdb">(gdb) commands 19
&gt; if (error_detected)
&gt;   break error_handler
&gt; end
&gt; continue
&gt; end
</code></pre>
<h2 id="continue-ä½¿ç”¨æ±ºç­–æŒ‡å—"><a class="header" href="#continue-ä½¿ç”¨æ±ºç­–æŒ‡å—">Continue ä½¿ç”¨æ±ºç­–æŒ‡å—</a></h2>
<h3 id="å¿«é€Ÿåˆ¤æ–·è¦å‰‡"><a class="header" href="#å¿«é€Ÿåˆ¤æ–·è¦å‰‡">å¿«é€Ÿåˆ¤æ–·è¦å‰‡</a></h3>
<div class="table-wrapper"><table><thead><tr><th>æƒ…æ³</th><th>æ˜¯å¦åŠ  continue</th><th>åŸå› </th></tr></thead><tbody>
<tr><td>è¨˜éŒ„æ—¥èªŒ</td><td>âœ… æ˜¯</td><td>ä¸æ‡‰ä¸­æ–·ç¨‹å¼åŸ·è¡Œ</td></tr>
<tr><td>çµ±è¨ˆè¨ˆæ•¸</td><td>âœ… æ˜¯</td><td>éœ€è¦æŒçºŒæ”¶é›†è³‡æ–™</td></tr>
<tr><td>æ•ˆèƒ½åˆ†æ</td><td>âœ… æ˜¯</td><td>ä¸èƒ½å½±éŸ¿ç¨‹å¼æ•ˆèƒ½</td></tr>
<tr><td>éŒ¯èª¤è™•ç†</td><td>âŒ å¦</td><td>éœ€è¦æ‰‹å‹•æª¢æŸ¥å’Œè™•ç†</td></tr>
<tr><td>èª¿è©¦é—œéµé‚è¼¯</td><td>âŒ å¦</td><td>éœ€è¦é€æ­¥åŸ·è¡Œ</td></tr>
<tr><td>æ¢ä»¶ç›£æ§</td><td>ğŸ”„ è¦–æƒ…æ³</td><td>æ­£å¸¸æ™‚ç¹¼çºŒï¼Œç•°å¸¸æ™‚åœæ­¢</td></tr>
<tr><td>è‡ªå‹•åŒ–æ¸¬è©¦</td><td>âœ… æ˜¯</td><td>éœ€è¦è‡ªå‹•å®Œæˆæ‰€æœ‰æ¸¬è©¦</td></tr>
<tr><td>æ­»é–æª¢æ¸¬</td><td>âŒ å¦</td><td>éœ€è¦ç«‹å³åˆ†æ</td></tr>
</tbody></table>
</div>
<h3 id="continue-çš„æœ€ä½³å¯¦è¸"><a class="header" href="#continue-çš„æœ€ä½³å¯¦è¸">Continue çš„æœ€ä½³å¯¦è¸</a></h3>
<pre><code class="language-gdb"># âœ… å¥½çš„åšæ³•ï¼šé«˜é »æ–·é»ä½¿ç”¨ continue
(gdb) break malloc
(gdb) commands
&gt; silent
&gt; set $malloc_count = $malloc_count + 1
&gt; continue  # é¿å…ç¨‹å¼å¡ä½
&gt; end

# âŒ éŒ¯èª¤åšæ³•ï¼šéŒ¯èª¤è™•ç†ä½¿ç”¨ continue
(gdb) break segfault_handler
(gdb) commands
&gt; print error_info
&gt; continue  # éŒ¯èª¤ï¼æ‡‰è©²åœä¸‹ä¾†èª¿è©¦
&gt; end

# âœ… å¥½çš„åšæ³•ï¼šæ™ºèƒ½åˆ¤æ–·
(gdb) break process_request
(gdb) commands
&gt; silent
&gt; if (status == SUCCESS)
&gt;   continue  # æˆåŠŸæ¡ˆä¾‹è‡ªå‹•ç¹¼çºŒ
&gt; end
&gt; # å¤±æ•—æ¡ˆä¾‹åœä¸‹ä¾†åˆ†æ
&gt; print status
&gt; print error_reason
&gt; end
</code></pre>
<h2 id="ç¸½çµ"><a class="header" href="#ç¸½çµ">ç¸½çµ</a></h2>
<p>GDB çš„ commands å’Œè…³æœ¬åŠŸèƒ½æä¾›äº†å¼·å¤§çš„è‡ªå‹•åŒ–èª¿è©¦èƒ½åŠ›ï¼š</p>
<ol>
<li><strong>åŸºæœ¬ commands</strong> - è‡ªå‹•åŸ·è¡Œå‘½ä»¤åºåˆ—</li>
<li><strong>æ¢ä»¶å’Œå¾ªç’°</strong> - å¯¦ç¾è¤‡é›œçš„é‚è¼¯æ§åˆ¶</li>
<li><strong>è‡ªå®šç¾©å‡½æ•¸</strong> - å‰µå»ºå¯é‡ç”¨çš„èª¿è©¦å·¥å…·</li>
<li><strong>è…³æœ¬æª”æ¡ˆ</strong> - æ‰¹æ¬¡è™•ç†å’Œè‡ªå‹•åŒ–æ¸¬è©¦</li>
<li><strong>é€²éšæ‡‰ç”¨</strong> - æ•ˆèƒ½åˆ†æã€è¨˜æ†¶é«”è¿½è¹¤ã€å¤šåŸ·è¡Œç·’èª¿è©¦</li>
</ol>
<p>é€éç†Ÿç·´æŒæ¡é€™äº›åŠŸèƒ½ï¼Œå¯ä»¥å¤§å¹…æå‡èª¿è©¦æ•ˆç‡ï¼Œå¯¦ç¾è‡ªå‹•åŒ–æ¸¬è©¦å’Œå•é¡Œè¨ºæ–·ã€‚è¨˜ä½ <code>end</code> é—œéµå­—æ˜¯çµæŸå‘½ä»¤åºåˆ—çš„å¿…è¦æ¨™è¨˜ã€‚</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../gdb/gdb.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../gdb/gdb_commands.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../gdb/gdb.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../gdb/gdb_commands.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>



        <script>
            window.playground_line_numbers = true;
        </script>

        <script>
            window.playground_copyable = true;
        </script>

        <script src="../ace.js"></script>
        <script src="../mode-rust.js"></script>
        <script src="../editor.js"></script>
        <script src="../theme-dawn.js"></script>
        <script src="../theme-tomorrow_night.js"></script>

        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->
        <script src="../mermaid.min.js"></script>
        <script src="../mermaid-init.js"></script>



    </div>
    </body>
</html>
