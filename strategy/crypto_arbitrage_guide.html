<!DOCTYPE HTML>
<html lang="zh" class="rust sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>加密貨幣套利策略完整指南 - Jason Notes</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="../highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="../tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "../";
            const default_light_theme = "rust";
            const default_dark_theme = "navy";
            window.path_to_searchindex_js = "../searchindex.js";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../toc.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('rust')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
                sidebar_toggle.checked = false;
            }
            if (sidebar === 'visible') {
                sidebar_toggle.checked = true;
            } else {
                html.classList.remove('sidebar-visible');
            }
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Jason Notes</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/shihyu/jason_note" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <div class="search-wrapper">
                            <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                            <div class="spinner-wrapper">
                                <i class="fa fa-spinner fa-spin"></i>
                            </div>
                        </div>
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="加密貨幣套利策略完整指南"><a class="header" href="#加密貨幣套利策略完整指南">加密貨幣套利策略完整指南</a></h1>
<h2 id="-目錄"><a class="header" href="#-目錄">📌 目錄</a></h2>
<ol>
<li><a href="#%E8%B7%A8%E4%BA%A4%E6%98%93%E6%89%80%E5%A5%97%E5%88%A9">跨交易所套利（Cross-Exchange Arbitrage）</a></li>
<li><a href="#%E4%B8%89%E8%A7%92%E5%A5%97%E5%88%A9">三角套利（Triangular Arbitrage）</a></li>
<li><a href="#%E9%A2%A8%E9%9A%AA%E8%88%87%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A0%85">風險與注意事項</a></li>
</ol>
<hr />
<h2 id="跨交易所套利"><a class="header" href="#跨交易所套利">跨交易所套利</a></h2>
<h3 id="原理說明"><a class="header" href="#原理說明">原理說明</a></h3>
<p>不同交易所的價格並非完全同步，當出現價差時就有套利機會。</p>
<p><strong>關鍵概念：</strong></p>
<ul>
<li><strong>Bid（買價）</strong>：交易所上其他人願意「買入」的最高價格</li>
<li><strong>Ask（賣價）</strong>：交易所上其他人願意「賣出」的最低價格</li>
</ul>
<h3 id="套利邏輯範例"><a class="header" href="#套利邏輯範例">套利邏輯範例</a></h3>
<h4 id="情境-1binance-便宜kucoin-昂貴"><a class="header" href="#情境-1binance-便宜kucoin-昂貴">情境 1：Binance 便宜，KuCoin 昂貴</a></h4>
<pre><code>Binance Ask: $90,000 ← 在這裡買入
KuCoin Bid:  $90,500 ← 在這裡賣出

計算：
・買入成本 = 90,000 × (1 + 0.001) = $90,090
・賣出收入 = 90,500 × (1 - 0.001) = $90,409.5
・淨利潤 = $319.5 💰
</code></pre>
<h4 id="情境-2kucoin-便宜binance-昂貴"><a class="header" href="#情境-2kucoin-便宜binance-昂貴">情境 2：KuCoin 便宜，Binance 昂貴</a></h4>
<pre><code>KuCoin Ask:  $89,800 ← 在這裡買入
Binance Bid: $90,200 ← 在這裡賣出

計算：
・買入成本 = 89,800 × (1 + 0.001) = $89,889.8
・賣出收入 = 90,200 × (1 - 0.001) = $90,109.8
・淨利潤 = $220 💰
</code></pre>
<h3 id="實作程式碼"><a class="header" href="#實作程式碼">實作程式碼</a></h3>
<pre><code class="language-python">import ccxt
import time

# 初始化交易所
exchanges = {
    'binance': ccxt.binance({'enableRateLimit': True}),
    'kucoin': ccxt.kucoin({'enableRateLimit': True}),
}

symbol = 'BTC/USDT'
fee_rate = 0.001  # 假設 0.1% 手續費

def fetch_price(exchange, symbol):
    ticker = exchange.fetch_ticker(symbol)
    return ticker['bid'], ticker['ask']

while True:
    try:
        # 抓取買賣價格
        binance_bid, binance_ask = fetch_price(exchanges['binance'], symbol)
        kucoin_bid,  kucoin_ask  = fetch_price(exchanges['kucoin'], symbol)
        
        # 計算價差（買低賣高）
        arb1 = kucoin_bid * (1 - fee_rate) - binance_ask * (1 + fee_rate)
        arb2 = binance_bid * (1 - fee_rate) - kucoin_ask * (1 + fee_rate)
        
        print(f"Binance Ask: {binance_ask:.2f}, Bid: {binance_bid:.2f}")
        print(f"KuCoin  Ask: {kucoin_ask:.2f}, Bid: {kucoin_bid:.2f}")
        print(f"Arb opportunity (Buy Binance → Sell KuCoin): {arb1:.2f} USDT")
        print(f"Arb opportunity (Buy KuCoin  → Sell Binance): {arb2:.2f} USDT\n")
        
        # 若 arb1 &gt; 閾值，則執行套利
        threshold = 5  # USDT 門檻
        if arb1 &gt; threshold:
            amount = 0.001  # BTC 下單數量範例
            exchanges['binance'].create_limit_buy_order(symbol, amount, binance_ask)
            exchanges['kucoin'].create_limit_sell_order(symbol, amount, kucoin_bid)
            
        if arb2 &gt; threshold:
            amount = 0.001
            exchanges['kucoin'].create_limit_buy_order(symbol, amount, kucoin_ask)
            exchanges['binance'].create_limit_sell_order(symbol, amount, binance_bid)
            
    except Exception as e:
        print('Error:', e)
        
    time.sleep(5)
</code></pre>
<hr />
<h2 id="三角套利"><a class="header" href="#三角套利">三角套利</a></h2>
<h3 id="原理說明-1"><a class="header" href="#原理說明-1">原理說明</a></h3>
<p>三角套利是在<strong>同一個交易所內</strong>，利用三種貨幣之間的匯率差異進行套利。不需要跨交易所轉帳，速度更快。</p>
<h3 id="運作機制"><a class="header" href="#運作機制">運作機制</a></h3>
<p>假設交易所有三個交易對：</p>
<ul>
<li>BTC/USDT</li>
<li>ETH/USDT</li>
<li>ETH/BTC</li>
</ul>
<p>當這三個交易對的價格出現不一致時，就有套利機會。</p>
<h3 id="套利範例"><a class="header" href="#套利範例">套利範例</a></h3>
<h4 id="初始資金10000-usdt"><a class="header" href="#初始資金10000-usdt">初始資金：10,000 USDT</a></h4>
<p><strong>步驟 1：USDT → BTC</strong></p>
<pre><code>BTC/USDT = 90,000
買入數量 = 10,000 / 90,000 = 0.1111 BTC
手續費後 = 0.1111 × (1 - 0.001) = 0.1110 BTC
</code></pre>
<p><strong>步驟 2：BTC → ETH</strong></p>
<pre><code>ETH/BTC = 0.04 (表示 1 ETH = 0.04 BTC)
買入數量 = 0.1110 / 0.04 = 2.775 ETH
手續費後 = 2.775 × (1 - 0.001) = 2.7722 ETH
</code></pre>
<p><strong>步驟 3：ETH → USDT</strong></p>
<pre><code>ETH/USDT = 3,650
賣出獲得 = 2.7722 × 3,650 = 10,118.53 USDT
手續費後 = 10,118.53 × (1 - 0.001) = 10,108.41 USDT
</code></pre>
<p><strong>最終利潤：10,108.41 - 10,000 = 108.41 USDT (1.08%)</strong></p>
<h3 id="判斷公式"><a class="header" href="#判斷公式">判斷公式</a></h3>
<p>設三個交易對價格為 P1, P2, P3：</p>
<p><strong>順時針套利條件：</strong></p>
<pre><code>P1 × P2 × P3 &gt; (1 + fee)³
</code></pre>
<p><strong>逆時針套利條件：</strong></p>
<pre><code>1 / (P1 × P2 × P3) &gt; (1 + fee)³
</code></pre>
<h3 id="三角套利程式碼範例"><a class="header" href="#三角套利程式碼範例">三角套利程式碼範例</a></h3>
<pre><code class="language-python">import ccxt

exchange = ccxt.binance({'enableRateLimit': True})

def check_triangular_arbitrage():
    # 獲取交易對價格
    btc_usdt = exchange.fetch_ticker('BTC/USDT')['last']
    eth_usdt = exchange.fetch_ticker('ETH/USDT')['last']
    eth_btc = exchange.fetch_ticker('ETH/BTC')['last']
    
    fee_rate = 0.001
    fee_multiplier = (1 - fee_rate) ** 3
    
    # 順時針：USDT → BTC → ETH → USDT
    # 1 USDT → BTC → ETH → ? USDT
    path1 = (1 / btc_usdt) * (1 / eth_btc) * eth_usdt * fee_multiplier
    
    # 逆時針：USDT → ETH → BTC → USDT
    # 1 USDT → ETH → BTC → ? USDT
    path2 = (1 / eth_usdt) * eth_btc * btc_usdt * fee_multiplier
    
    print(f"BTC/USDT: {btc_usdt:.2f}")
    print(f"ETH/USDT: {eth_usdt:.2f}")
    print(f"ETH/BTC: {eth_btc:.6f}")
    print(f"順時針路徑收益: {(path1 - 1) * 100:.4f}%")
    print(f"逆時針路徑收益: {(path2 - 1) * 100:.4f}%")
    
    if path1 &gt; 1.001:  # 0.1% 以上才執行
        print("✅ 發現順時針套利機會！")
        # 執行交易邏輯
        
    if path2 &gt; 1.001:
        print("✅ 發現逆時針套利機會！")
        # 執行交易邏輯

# 定期檢查
import time
while True:
    try:
        check_triangular_arbitrage()
        print("-" * 50)
    except Exception as e:
        print(f"Error: {e}")
    time.sleep(3)
</code></pre>
<hr />
<h2 id="風險與注意事項"><a class="header" href="#風險與注意事項">風險與注意事項</a></h2>
<h3 id="跨交易所套利風險"><a class="header" href="#跨交易所套利風險">跨交易所套利風險</a></h3>
<ol>
<li><strong>滑價風險</strong>：限價單可能不會立即成交，價格可能已變動</li>
<li><strong>資金轉移</strong>：兩個交易所都需要有資金（BTC 和 USDT）</li>
<li><strong>提現延遲</strong>：跨交易所轉移資產需要時間和手續費</li>
<li><strong>API 延遲</strong>：價格抓取和下單之間有時間差</li>
<li><strong>市場深度</strong>：大額交易可能吃到更差的價格</li>
<li><strong>交易所風險</strong>：凍結帳戶、提現限制、駭客攻擊等</li>
</ol>
<h3 id="三角套利風險"><a class="header" href="#三角套利風險">三角套利風險</a></h3>
<ol>
<li><strong>執行速度</strong>：需要連續執行三筆交易，任何延遲都會影響利潤</li>
<li><strong>市場深度</strong>：訂單簿深度不足可能導致滑價</li>
<li><strong>手續費</strong>：三次交易累積的手續費會侵蝕利潤</li>
<li><strong>競爭激烈</strong>：套利機會通常很快被高頻交易機器人捕捉</li>
<li><strong>網路延遲</strong>：API 請求速度直接影響套利成功率</li>
</ol>
<h3 id="實戰建議"><a class="header" href="#實戰建議">實戰建議</a></h3>
<ol>
<li><strong>測試環境</strong>：先用模擬帳戶或小額資金測試</li>
<li><strong>監控系統</strong>：建立完善的日誌和警報系統</li>
<li><strong>風險控制</strong>：設定停損機制和單筆最大交易額</li>
<li><strong>費用計算</strong>：精確計算所有手續費（交易費、提現費、網路費）</li>
<li><strong>法律合規</strong>：了解當地加密貨幣交易的法律規範</li>
<li><strong>稅務問題</strong>：套利獲利可能需要繳稅</li>
</ol>
<h3 id="成功要素"><a class="header" href="#成功要素">成功要素</a></h3>
<ul>
<li>⚡ <strong>速度</strong>：更快的網路和伺服器</li>
<li>💰 <strong>資金</strong>：充足的初始資本和流動性</li>
<li>🤖 <strong>自動化</strong>：完全自動化的交易系統</li>
<li>📊 <strong>監控</strong>：實時監控多個交易所和交易對</li>
<li>🛡️ <strong>風控</strong>：嚴格的風險管理機制</li>
</ul>
<hr />
<h2 id="結論"><a class="header" href="#結論">結論</a></h2>
<p>加密貨幣套利看似簡單，但實際執行時利潤空間通常很小（通常 &lt; 0.5%），且需要：</p>
<ul>
<li>快速的執行系統</li>
<li>充足的資金流動性</li>
<li>完善的風險控制</li>
<li>持續的系統優化</li>
</ul>
<p>在高頻交易機器人盛行的市場中，個人投資者需要謹慎評估是否具備競爭優勢。</p>
<p><strong>免責聲明</strong>：以上內容僅供教育參考，不構成投資建議。加密貨幣交易存在高風險，可能導致資金損失。</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../cryptotrade/binance/oco.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../hft/hft.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../cryptotrade/binance/oco.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../hft/hft.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>



        <script>
            window.playground_line_numbers = true;
        </script>

        <script>
            window.playground_copyable = true;
        </script>

        <script src="../ace.js"></script>
        <script src="../mode-rust.js"></script>
        <script src="../editor.js"></script>
        <script src="../theme-dawn.js"></script>
        <script src="../theme-tomorrow_night.js"></script>

        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->
        <script src="../mermaid.min.js"></script>
        <script src="../mermaid-init.js"></script>



    </div>
    </body>
</html>
