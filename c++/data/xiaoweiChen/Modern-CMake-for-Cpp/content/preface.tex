\begin{flushright}
\zihao{1} 前言
\end{flushright}

创造优秀的软件并非易事。开发人员经常会遇到无法确定哪些建议是最新的，以及哪些方法已经有更新或更好的实践的问题。同时，大多数资源在没有交代背景、上下文和结构的情况下，解释起来也很难。

本书提供了全面构建C++的端到端解决方案，提供了更简单的方法。了解如何使用CMake，如何使其可维护、优雅和干净。将使用自动化的方式帮助您完成项目中出现的许多复杂任务，比如构建、测试和打包。

本书会指导您如何生成源目录，以及如何构建目标和包。随着学习的深入，将了解如何编译和链接可执行文件和库，以及如何优化各种步骤以获得最佳结果。还将了解如何向项目添加外部依赖项:第三方库、测试框架、程序分析工具和文档生成器。最后，导出内部和外部目标，以及安装和打包的解决方案。

阅读完本书后，相信您就能够在非常专业地使用CMake了。

\hspace*{\fill} \\ %插入空行
\textbf{适宜读者}

这本书是为具有C/C++编程知识的工程师和软件开发人员所著，从而可以学习CMake，以了解自动化构建小型和大型软件的解决方案。若刚开始使用CMake，并长期使用GNU Make，或者只是想复习一下最新的最佳实践，那么本书也非常适合您。

\hspace*{\fill} \\ %插入空行
\textbf{本书内容}

\textit{第1章，初识CMake}，如何安装和使用 CMake命令行，以及如何创建相应的项目文件。

\textit{第2章，CMake语法}，介绍了关键的代码信息:注释、命令调用和参数、变量、列表和控制结构。

\textit{第3章，CMake项目}，介绍了项目的基本配置、所需的CMake版本、项目元数据、文件结构，以及如何设置工具链。

\textit{第4章，使用目标}，为可执行程序和库生成构建目标。

\textit{第5章，CMake编译C++}，编译过程的工作方式，以及如何在CMake项目中进行控制。

\textit{第6章，进行链接}，关于链接、静态和动态库。解释了如何构建一个项目，以便对其进行测试。

\textit{第7章，管理依赖关系}，现代CMake中管理依赖关系的方法。

\textit{第8章，测试框架}，如何将测试框架添加到项目中，以及如何使用CMake提供的CTest。

\textit{第9章，分析工具}，如何在项目中自动格式化，以及如何进行静态和动态分析。

\textit{第10章，生成文档}，如何使用Doxygen根据C++源代码生成手册。

\textit{第11章，安装和打包}，展示如何准备将项目用于其他项目或安装到系统上，还有如何使用CPack。

\textit{第12章，创建完整的项目}，如何将了解的所有知识整合到一个完整的项目中。

\textit{附录: 其它指令}，提供了相应指令的快速引用:string()、list ()、file()和math()。

\hspace*{\fill} \\ %插入空行
\textbf{编译环境}

阅读本书的读者需要对C++和类Unix系统有基本的了解。虽然这不是一个严格的要求，但有了这些基础，能够更加的理解本书给出的例子。

本书的目标是CMake 3.20，但是描述的大多数技术应该从CMake 3.15后出现的(后面添加的特性通常会突出显示)。所有示例都在Debian上进行了测试，并安装了以下软件包:

\texttt{clang-format clang-tidy cppcheck doxygen g++ gawk git graphviz lcov libpqxx-dev libprotobuf-dev make pkg-config protobuf-compiler tree valgrind vim wget}

这里，建议使用Docker镜像。

\textbf{如果您正在使用这本书的数字版本，建议您自己输入代码或从本书的GitHub存储库访问代码(下一节有链接)。这样做将帮助您避免与复制和粘贴代码相关的错误。}

\hspace*{\fill} \\ %插入空行
\textbf{下载示例}

可以从GitHub上下载这本书的示例代码文件 \url{https://github.com/PacktPublishing/Modern-CMake-for-Cpp}。若代码有更新，会在GitHub存储库中更新。

还可以从丰富的书籍和视频目录中获得其他代码包\url{https://github.com/PacktPublishing/}。


\hspace*{\fill} \\ %插入空行
\textbf{下载彩图}

我们还提供了一个PDF文件，其中有本书中使用的屏幕截图和图表的彩图。下载地址: \url{https://static.packt-cdn.com/downloads/9781801070058_ColorImages.pdf}.










