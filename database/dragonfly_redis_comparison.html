<!DOCTYPE HTML>
<html lang="zh" class="rust sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Dragonfly vs Redis 效能比較 - Jason Notes</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="../highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="../tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "../";
            const default_light_theme = "rust";
            const default_dark_theme = "navy";
            window.path_to_searchindex_js = "../searchindex.js";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../toc.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('rust')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
                sidebar_toggle.checked = false;
            }
            if (sidebar === 'visible') {
                sidebar_toggle.checked = true;
            } else {
                html.classList.remove('sidebar-visible');
            }
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Jason Notes</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/shihyu/jason_note" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <div class="search-wrapper">
                            <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                            <div class="spinner-wrapper">
                                <i class="fa fa-spinner fa-spin"></i>
                            </div>
                        </div>
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="dragonflydb-vs-redis-完整比較指南"><a class="header" href="#dragonflydb-vs-redis-完整比較指南">DragonflyDB vs Redis 完整比較指南</a></h1>
<h2 id="目錄"><a class="header" href="#目錄">目錄</a></h2>
<ul>
<li><a href="#%E7%B0%A1%E4%BB%8B">簡介</a></li>
<li><a href="#%E5%AE%89%E8%A3%9D%E6%8C%87%E5%8D%97">安裝指南</a></li>
<li><a href="#python-%E6%B8%AC%E8%A9%A6%E7%92%B0%E5%A2%83%E8%A8%AD%E7%BD%AE">Python 測試環境設置</a></li>
<li><a href="#redis-vs-dragonflydb-%E8%A9%B3%E7%B4%B0%E6%AF%94%E8%BC%83">Redis vs DragonflyDB 詳細比較</a></li>
<li><a href="#%E6%95%88%E8%83%BD%E5%9F%BA%E6%BA%96%E6%B8%AC%E8%A9%A6">效能基準測試</a></li>
<li><a href="#%E9%81%B8%E6%93%87%E5%BB%BA%E8%AD%B0">選擇建議</a></li>
</ul>
<h2 id="簡介"><a class="header" href="#簡介">簡介</a></h2>
<h3 id="redis"><a class="header" href="#redis">Redis</a></h3>
<p>Redis (Remote Dictionary Server) 是一個開源的記憶體資料結構儲存系統，由 Salvatore Sanfilippo 在 2009 年創建。它可以用作資料庫、快取和訊息代理。</p>
<h3 id="dragonflydb"><a class="header" href="#dragonflydb">DragonflyDB</a></h3>
<p>DragonflyDB 是新一代的記憶體資料庫，於 2022 年推出，旨在成為 Redis 的現代替代品。它完全相容 Redis 協議，但底層架構完全重新設計。</p>
<h2 id="安裝指南"><a class="header" href="#安裝指南">安裝指南</a></h2>
<h3 id="dragonflydb-安裝"><a class="header" href="#dragonflydb-安裝">DragonflyDB 安裝</a></h3>
<h4 id="方法一使用-docker推薦"><a class="header" href="#方法一使用-docker推薦">方法一：使用 Docker（推薦）</a></h4>
<pre><code class="language-bash"># 拉取並執行 DragonflyDB
docker run --rm -p 6379:6379 docker.dragonflydb.io/dragonflydb/dragonfly

# 使用自訂配置
docker run --rm -p 6379:6379 \
  -v /path/to/dragonfly.conf:/etc/dragonfly/dragonfly.conf \
  docker.dragonflydb.io/dragonflydb/dragonfly \
  --flagfile=/etc/dragonfly/dragonfly.conf
</code></pre>
<h4 id="方法二在-ubuntudebian-上安裝"><a class="header" href="#方法二在-ubuntudebian-上安裝">方法二：在 Ubuntu/Debian 上安裝</a></h4>
<pre><code class="language-bash"># 下載最新版本
curl -L https://github.com/dragonflydb/dragonfly/releases/latest/download/dragonfly-x86_64.tar.gz | tar -xz

# 執行
./dragonfly --logtostderr

# 指定記憶體限制
./dragonfly --logtostderr --maxmemory=4gb
</code></pre>
<h4 id="方法三使用-kubernetes"><a class="header" href="#方法三使用-kubernetes">方法三：使用 Kubernetes</a></h4>
<pre><code class="language-yaml">apiVersion: apps/v1
kind: Deployment
metadata:
  name: dragonfly
spec:
  replicas: 1
  selector:
    matchLabels:
      app: dragonfly
  template:
    metadata:
      labels:
        app: dragonfly
    spec:
      containers:
      - name: dragonfly
        image: docker.dragonflydb.io/dragonflydb/dragonfly
        ports:
        - containerPort: 6379
</code></pre>
<h3 id="redis-安裝"><a class="header" href="#redis-安裝">Redis 安裝</a></h3>
<h4 id="方法一使用-docker"><a class="header" href="#方法一使用-docker">方法一：使用 Docker</a></h4>
<pre><code class="language-bash">docker run --rm -p 6379:6379 redis:latest
</code></pre>
<h4 id="方法二在-ubuntudebian-上安裝-1"><a class="header" href="#方法二在-ubuntudebian-上安裝-1">方法二：在 Ubuntu/Debian 上安裝</a></h4>
<pre><code class="language-bash">sudo apt update
sudo apt install redis-server
sudo systemctl start redis-server
</code></pre>
<h2 id="python-測試環境設置"><a class="header" href="#python-測試環境設置">Python 測試環境設置</a></h2>
<h3 id="安裝必要套件"><a class="header" href="#安裝必要套件">安裝必要套件</a></h3>
<pre><code class="language-bash">pip install redis pytest pytest-asyncio aioredis hiredis
</code></pre>
<h3 id="基本連接測試"><a class="header" href="#基本連接測試">基本連接測試</a></h3>
<pre><code class="language-python">import redis

# 連接到 DragonflyDB 或 Redis（使用相同的客戶端）
client = redis.Redis(host='localhost', port=6379, decode_responses=True)

# 測試連接
response = client.ping()
print(f"連接狀態: {response}")

# 基本操作
client.set("test_key", "Hello World!")
value = client.get("test_key")
print(f"測試值: {value}")
</code></pre>
<h2 id="redis-vs-dragonflydb-詳細比較"><a class="header" href="#redis-vs-dragonflydb-詳細比較">Redis vs DragonflyDB 詳細比較</a></h2>
<h3 id="架構差異"><a class="header" href="#架構差異">架構差異</a></h3>
<div class="table-wrapper"><table><thead><tr><th>特性</th><th>Redis</th><th>DragonflyDB</th></tr></thead><tbody>
<tr><td><strong>核心架構</strong></td><td>單執行緒事件循環</td><td>多執行緒、共享無鎖架構</td></tr>
<tr><td><strong>並發模型</strong></td><td>單執行緒處理命令</td><td>利用所有 CPU 核心</td></tr>
<tr><td><strong>記憶體管理</strong></td><td>jemalloc</td><td>mimalloc + 自訂最佳化</td></tr>
<tr><td><strong>持久化</strong></td><td>RDB + AOF</td><td>RDB + 改進的快照機制</td></tr>
<tr><td><strong>資料結構</strong></td><td>標準 Redis 資料結構</td><td>相同資料結構 + 內部最佳化</td></tr>
</tbody></table>
</div>
<h3 id="效能比較"><a class="header" href="#效能比較">效能比較</a></h3>
<div class="table-wrapper"><table><thead><tr><th>指標</th><th>Redis</th><th>DragonflyDB</th></tr></thead><tbody>
<tr><td><strong>吞吐量</strong></td><td>~100K ops/sec (單核)</td><td>~4M ops/sec (32核)</td></tr>
<tr><td><strong>延遲</strong></td><td>&lt; 1ms (P99)</td><td>&lt; 1ms (P99)</td></tr>
<tr><td><strong>垂直擴展</strong></td><td>受限於單核</td><td>線性擴展至所有核心</td></tr>
<tr><td><strong>記憶體效率</strong></td><td>基準</td><td>節省 30-50%</td></tr>
<tr><td><strong>啟動時間</strong></td><td>快速</td><td>快速</td></tr>
</tbody></table>
</div>
<h3 id="功能對比"><a class="header" href="#功能對比">功能對比</a></h3>
<div class="table-wrapper"><table><thead><tr><th>功能</th><th>Redis</th><th>DragonflyDB</th></tr></thead><tbody>
<tr><td><strong>Redis 協議相容性</strong></td><td>100% (原生)</td><td>99%+</td></tr>
<tr><td><strong>叢集支援</strong></td><td>Redis Cluster</td><td>單節點即可處理大規模</td></tr>
<tr><td><strong>Lua 腳本</strong></td><td>✅ 支援</td><td>✅ 支援</td></tr>
<tr><td><strong>Pub/Sub</strong></td><td>✅ 支援</td><td>✅ 支援</td></tr>
<tr><td><strong>事務</strong></td><td>✅ MULTI/EXEC</td><td>✅ 支援</td></tr>
<tr><td><strong>串流 (Streams)</strong></td><td>✅ 支援</td><td>✅ 支援</td></tr>
<tr><td><strong>模組系統</strong></td><td>✅ 豐富生態系</td><td>❌ 不支援 Redis 模組</td></tr>
<tr><td><strong>地理空間</strong></td><td>✅ 支援</td><td>✅ 支援</td></tr>
<tr><td><strong>JSON</strong></td><td>需要 RedisJSON 模組</td><td>原生支援基本 JSON</td></tr>
</tbody></table>
</div>
<h3 id="優缺點分析"><a class="header" href="#優缺點分析">優缺點分析</a></h3>
<h4 id="redis-優點"><a class="header" href="#redis-優點">Redis 優點</a></h4>
<p>✅ <strong>成熟穩定</strong> - 超過 15 年的生產環境驗證<br />
✅ <strong>生態系統豐富</strong> - 大量工具、客戶端、模組<br />
✅ <strong>社群龐大</strong> - 廣泛的社群支援和資源<br />
✅ <strong>文件完整</strong> - 詳盡的官方文件和教學<br />
✅ <strong>模組擴展</strong> - RedisJSON、RedisSearch、RedisGraph 等<br />
✅ <strong>企業支援</strong> - Redis Enterprise 提供商業支援</p>
<h4 id="redis-缺點"><a class="header" href="#redis-缺點">Redis 缺點</a></h4>
<p>❌ <strong>單執行緒限制</strong> - 無法充分利用多核 CPU<br />
❌ <strong>記憶體使用較高</strong> - 相同資料需要更多記憶體<br />
❌ <strong>擴展複雜</strong> - 需要 Redis Cluster 或 Sentinel<br />
❌ <strong>大資料集啟動慢</strong> - RDB 載入可能很慢<br />
❌ <strong>Fork 開銷</strong> - 持久化時的 fork 操作開銷大</p>
<h4 id="dragonflydb-優點"><a class="header" href="#dragonflydb-優點">DragonflyDB 優點</a></h4>
<p>✅ <strong>超高效能</strong> - 可達 Redis 25 倍效能<br />
✅ <strong>多核心利用</strong> - 自動使用所有 CPU 核心<br />
✅ <strong>記憶體效率</strong> - 節省 30-50% 記憶體<br />
✅ <strong>無需叢集</strong> - 單實例處理 TB 級資料<br />
✅ <strong>快照不阻塞</strong> - 改進的持久化機制<br />
✅ <strong>現代架構</strong> - 使用 C++20 和現代技術<br />
✅ <strong>相容性佳</strong> - 幾乎完全相容 Redis API</p>
<h4 id="dragonflydb-缺點"><a class="header" href="#dragonflydb-缺點">DragonflyDB 缺點</a></h4>
<p>❌ <strong>相對較新</strong> - 2022 年推出，生產環境經驗較少<br />
❌ <strong>生態系統小</strong> - 工具和資源相對較少<br />
❌ <strong>無模組支援</strong> - 不支援 Redis 模組<br />
❌ <strong>社群較小</strong> - 社群支援和資源有限<br />
❌ <strong>功能差異</strong> - 某些進階功能可能略有不同<br />
❌ <strong>企業支援有限</strong> - 商業支援選項較少</p>
<h2 id="效能基準測試"><a class="header" href="#效能基準測試">效能基準測試</a></h2>
<h3 id="測試環境"><a class="header" href="#測試環境">測試環境</a></h3>
<ul>
<li>CPU: 32 核心</li>
<li>RAM: 128GB</li>
<li>資料集: 10GB</li>
</ul>
<h3 id="測試結果"><a class="header" href="#測試結果">測試結果</a></h3>
<h4 id="set-操作-opssec"><a class="header" href="#set-操作-opssec">SET 操作 (ops/sec)</a></h4>
<pre><code>Redis (單核):        120,000
Redis (叢集-8節點):   800,000
DragonflyDB:       3,800,000
</code></pre>
<h4 id="get-操作-opssec"><a class="header" href="#get-操作-opssec">GET 操作 (ops/sec)</a></h4>
<pre><code>Redis (單核):        130,000
Redis (叢集-8節點):   900,000
DragonflyDB:       4,200,000
</code></pre>
<h4 id="記憶體使用-10m-keys"><a class="header" href="#記憶體使用-10m-keys">記憶體使用 (10M keys)</a></h4>
<pre><code>Redis:          8.5 GB
DragonflyDB:    5.2 GB
節省:           39%
</code></pre>
<h2 id="選擇建議"><a class="header" href="#選擇建議">選擇建議</a></h2>
<h3 id="選擇-redis-的情況"><a class="header" href="#選擇-redis-的情況">選擇 Redis 的情況</a></h3>
<ol>
<li>
<p><strong>穩定性優先</strong></p>
<ul>
<li>金融、醫療等關鍵應用</li>
<li>需要長期穩定運行的生產環境</li>
</ul>
</li>
<li>
<p><strong>需要特定模組</strong></p>
<ul>
<li>需要 RedisSearch 進行全文搜尋</li>
<li>需要 RedisGraph 進行圖形資料庫操作</li>
<li>需要 RedisTimeSeries 進行時序資料處理</li>
</ul>
</li>
<li>
<p><strong>企業支援需求</strong></p>
<ul>
<li>需要商業級技術支援</li>
<li>需要 SLA 保證</li>
</ul>
</li>
<li>
<p><strong>保守的技術策略</strong></p>
<ul>
<li>團隊熟悉 Redis</li>
<li>不願承擔新技術風險</li>
</ul>
</li>
</ol>
<h3 id="選擇-dragonflydb-的情況"><a class="header" href="#選擇-dragonflydb-的情況">選擇 DragonflyDB 的情況</a></h3>
<ol>
<li>
<p><strong>效能需求高</strong></p>
<ul>
<li>需要處理百萬級 QPS</li>
<li>低延遲要求嚴格</li>
</ul>
</li>
<li>
<p><strong>成本敏感</strong></p>
<ul>
<li>希望減少伺服器數量</li>
<li>需要降低記憶體成本</li>
</ul>
</li>
<li>
<p><strong>大規模資料</strong></p>
<ul>
<li>單機需要處理 TB 級資料</li>
<li>不想管理複雜的叢集</li>
</ul>
</li>
<li>
<p><strong>新專案</strong></p>
<ul>
<li>全新的專案，沒有歷史包袱</li>
<li>可以接受較新技術</li>
</ul>
</li>
</ol>
<h3 id="混合使用策略"><a class="header" href="#混合使用策略">混合使用策略</a></h3>
<pre><code>生產環境關鍵服務 → Redis
高流量快取層 → DragonflyDB  
開發測試環境 → DragonflyDB
資料分析快取 → DragonflyDB
</code></pre>
<h2 id="遷移指南"><a class="header" href="#遷移指南">遷移指南</a></h2>
<h3 id="從-redis-遷移到-dragonflydb"><a class="header" href="#從-redis-遷移到-dragonflydb">從 Redis 遷移到 DragonflyDB</a></h3>
<ol>
<li><strong>相容性測試</strong></li>
</ol>
<pre><code class="language-bash"># 使用 redis-cli 測試基本功能
redis-cli -h dragonfly-host ping
redis-cli -h dragonfly-host set test "value"
redis-cli -h dragonfly-host get test
</code></pre>
<ol start="2">
<li><strong>資料遷移</strong></li>
</ol>
<pre><code class="language-bash"># 方法一：使用 REPLICAOF
# 在 DragonflyDB 中執行
REPLICAOF redis-host 6379

# 方法二：使用 redis-dump
redis-dump -h redis-host | redis-load -h dragonfly-host
</code></pre>
<ol start="3">
<li><strong>應用程式調整</strong></li>
</ol>
<pre><code class="language-python"># 不需要修改程式碼，只需改變連接字串
# 從
client = redis.Redis(host='redis-host', port=6379)
# 到
client = redis.Redis(host='dragonfly-host', port=6379)
</code></pre>
<h2 id="監控和維運"><a class="header" href="#監控和維運">監控和維運</a></h2>
<h3 id="dragonflydb-監控指標"><a class="header" href="#dragonflydb-監控指標">DragonflyDB 監控指標</a></h3>
<pre><code class="language-bash"># 查看統計資訊
redis-cli -h dragonfly-host INFO

# 監控重要指標
- used_memory: 使用的記憶體
- connected_clients: 連接的客戶端數
- total_commands_processed: 處理的命令總數
- instantaneous_ops_per_sec: 即時 OPS
</code></pre>
<h3 id="效能優化建議"><a class="header" href="#效能優化建議">效能優化建議</a></h3>
<ol>
<li><strong>DragonflyDB 優化</strong></li>
</ol>
<pre><code class="language-bash"># 設定最大記憶體
./dragonfly --maxmemory=32gb

# 設定執行緒數（預設使用所有核心）
./dragonfly --proactor_threads=16

# 啟用快照
./dragonfly --dbfilename=dump.rdb --save_schedule="0 1"
</code></pre>
<ol start="2">
<li><strong>客戶端優化</strong></li>
</ol>
<pre><code class="language-python"># 使用連接池
pool = redis.ConnectionPool(
    host='localhost',
    port=6379,
    max_connections=50
)
client = redis.Redis(connection_pool=pool)

# 使用 Pipeline 批次操作
pipe = client.pipeline()
for i in range(10000):
    pipe.set(f'key_{i}', f'value_{i}')
pipe.execute()
</code></pre>
<h2 id="總結"><a class="header" href="#總結">總結</a></h2>
<h3 id="快速決策矩陣"><a class="header" href="#快速決策矩陣">快速決策矩陣</a></h3>
<div class="table-wrapper"><table><thead><tr><th>需求</th><th>推薦選擇</th></tr></thead><tbody>
<tr><td>穩定性最重要</td><td>Redis</td></tr>
<tr><td>效能最重要</td><td>DragonflyDB</td></tr>
<tr><td>需要 Redis 模組</td><td>Redis</td></tr>
<tr><td>成本控制</td><td>DragonflyDB</td></tr>
<tr><td>小型應用</td><td>Redis</td></tr>
<tr><td>大規模應用</td><td>DragonflyDB</td></tr>
<tr><td>保守策略</td><td>Redis</td></tr>
<tr><td>創新策略</td><td>DragonflyDB</td></tr>
</tbody></table>
</div>
<h3 id="未來展望"><a class="header" href="#未來展望">未來展望</a></h3>
<ul>
<li><strong>Redis</strong>: 持續優化，加強企業功能，擴展模組生態</li>
<li><strong>DragonflyDB</strong>: 快速發展，增加功能，建立生態系統</li>
</ul>
<p>兩者都是優秀的記憶體資料庫，選擇取決於具體需求、風險承受度和技術策略。建議先在非關鍵環境測試 DragonflyDB，評估是否符合需求後再決定是否採用。</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../database/hash.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../database/clickhouse.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../database/hash.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../database/clickhouse.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>



        <script>
            window.playground_line_numbers = true;
        </script>

        <script>
            window.playground_copyable = true;
        </script>

        <script src="../ace.js"></script>
        <script src="../mode-rust.js"></script>
        <script src="../editor.js"></script>
        <script src="../theme-dawn.js"></script>
        <script src="../theme-tomorrow_night.js"></script>

        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->
        <script src="../mermaid.min.js"></script>
        <script src="../mermaid-init.js"></script>



    </div>
    </body>
</html>
