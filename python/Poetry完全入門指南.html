<!DOCTYPE HTML>
<html lang="zh" class="rust sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Poetry å®Œå…¨å…¥é–€ - Jason Notes</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="../highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="../tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "../";
            const default_light_theme = "rust";
            const default_dark_theme = "navy";
            window.path_to_searchindex_js = "../searchindex.js";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../toc.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>â†</kbd> or <kbd>â†’</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('rust')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
                sidebar_toggle.checked = false;
            }
            if (sidebar === 'visible') {
                sidebar_toggle.checked = true;
            } else {
                html.classList.remove('sidebar-visible');
            }
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Jason Notes</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/shihyu/jason_note" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <div class="search-wrapper">
                            <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                            <div class="spinner-wrapper">
                                <i class="fa fa-spinner fa-spin"></i>
                            </div>
                        </div>
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="å†è¦‹äº†-pipæœ€ä½³-python-å¥—ä»¶ç®¡ç†å™¨poetry-å®Œå…¨å…¥é–€æŒ‡å—"><a class="header" href="#å†è¦‹äº†-pipæœ€ä½³-python-å¥—ä»¶ç®¡ç†å™¨poetry-å®Œå…¨å…¥é–€æŒ‡å—">å†è¦‹äº† pipï¼æœ€ä½³ Python å¥—ä»¶ç®¡ç†å™¨â€”â€”Poetry å®Œå…¨å…¥é–€æŒ‡å—</a></h1>
<p>å‰é™£å­å·¥ä½œä¸Šçš„å°ˆæ¡ˆå¾åŸå…ˆçš„ pip æ”¹ç”¨ Poetry ç®¡ç† Python å¥—ä»¶ï¼Œç”±æ–¼æ¡ç”¨ Poetry æ­£æ˜¯æˆ‘çš„æè­°ï¼Œæ‰€ä»¥å¿…é ˆèº«å…ˆå£«å’ï¼Œç ”ç©¶ Poetry ä½¿ç”¨ä¸Šçš„é‡é»èˆ‡å­¸ç¿’æˆæœ¬ï¼Œä¸¦è©•ä¼°æ˜¯å¦çœŸæœ‰æ‰€å€¼â€”â€”è¬›ç™½äº†å°±æ˜¯è‡³å°‘è¦åˆ©å¤§æ–¼å¼Šï¼Œä¸ç„¶æœƒå¾’å¢åœ˜éšŠé©æ‡‰ä¸Šçš„è² æ“”ã€‚</p>
<p>æ‹œé€™å€‹æ©Ÿæœƒæ‰€è³œï¼Œæˆ‘å° Poetry ç¸½ç®—æœ‰äº†ä¸€å€‹è¼ƒç‚ºå…¨é¢çš„ç†è§£ã€‚</p>
<p>ç¿’æ…£ä»¥å¾Œï¼Œç¾åœ¨æˆ‘æ‰€æœ‰çš„å€‹äººé–‹ç™¼ä¹Ÿéƒ½æ”¹ç”¨ Poetry ä¾†ç®¡ç†å¥—ä»¶åŠè™›æ“¬ç’°å¢ƒï¼Œå°æ–¼ Poetry é€™å€‹ç•¥å«Œè¤‡é›œçš„å·¥å…·ï¼ˆç›¸æ¯”æ–¼ pipï¼‰ï¼Œä¸Šæ‰‹çš„åŒæ™‚æˆ‘ä¹Ÿæ„Ÿå—åˆ°å®ƒç¢ºå¯¦å­˜åœ¨ä¸€äº›å­¸ç¿’é–€æª»ï¼Œé–“æ¥ä¿ƒä½¿äº†æœ¬æ–‡çš„èª•ç”Ÿã€‚</p>
<p>æœ‰é‘‘æ–¼ Poetry çœŸçš„æœ‰é»è¤‡é›œï¼Œå¦‚æœè¦æ¨è–¦åˆ¥äººä½¿ç”¨ï¼Œæˆ‘æƒ³é‚„æ˜¯æœ‰å¿…è¦å¥½å¥½ä»‹ç´¹ä¸€ä¸‹ã€‚</p>
<p>æœ¬æ–‡é™¤äº†è¬›è§£å¦‚ä½•ä½¿ç”¨ Poetryï¼Œé‚„æœƒå…ˆä¸å­å…¶ç…©åœ°é—¡è¿°å®ƒæ‰€è§£æ±ºçš„ç—›é»ï¼Œè‹¥èˆˆè¶£ä¸å¤§ï¼Œå¯ä»¥ç›´æ¥è·³åˆ°ã€Œ<a href="https://blog.kyomind.tw/python-poetry/#%E5%BE%9E%E9%9B%B6%E9%96%8B%E5%A7%8B%E4%BD%BF%E7%94%A8-Poetry">å¾é›¶é–‹å§‹ä½¿ç”¨ Poetry</a>ã€ç« ç¯€ï¼Œä½†çœ‹å®Œå‰å°éƒ¨åˆ†ï¼Œç›¸ä¿¡èƒ½æ›´åŠ é«”æœƒ Poetry çš„å¿…è¦æ€§ã€‚</p>
<p>ç‚ºäº†è®“ä½ ç„¡ç—›ä¸Šæ‰‹ï¼é€™å°‡æœƒæ˜¯ä¸€ç¯‡è¶…é 8000 å­—çš„é•·æ–‡ï¼Œé‚„è«‹å¤šå¤šæ“”å¾…ã€‚ğŸ™</p>
<h3 id="ä¸»è¦ç›®éŒ„"><a class="header" href="#ä¸»è¦ç›®éŒ„">ä¸»è¦ç›®éŒ„</a></h3>
<p>ä¾›å¿«é€Ÿè·³è½‰ï¼ˆæ¡Œé¢ç‰ˆç”¨æˆ¶å¯å’Œå³ä¸‹è§’çš„ã€Œå›åˆ°æœ€ä¸Šæ–¹ã€æ­é…ä½¿ç”¨ï¼‰ï¼š</p>
<ul>
<li><a href="https://blog.kyomind.tw/python-poetry/#Poetry-%E6%98%AF%E4%BB%80%E9%BA%BC%EF%BC%9F">Poetry æ˜¯ä»€éº¼ï¼Ÿ</a></li>
<li><a href="https://blog.kyomind.tw/python-poetry/#%E5%90%8D%E8%A9%9E%E8%A7%A3%E9%87%8B%EF%BC%9A%E8%99%9B%E6%93%AC%E7%92%B0%E5%A2%83%E7%AE%A1%E7%90%86%E3%80%81%E5%A5%97%E4%BB%B6%E7%AE%A1%E7%90%86%E3%80%81%E7%9B%B8%E4%BE%9D%E6%80%A7%E7%AE%A1%E7%90%86">åè©è§£é‡‹ï¼šè™›æ“¬ç’°å¢ƒç®¡ç†ã€å¥—ä»¶ç®¡ç†ã€ç›¸ä¾æ€§ç®¡ç†</a></li>
<li><a href="https://blog.kyomind.tw/python-poetry/#pip-%E7%9A%84%E6%9C%80%E5%A4%A7%E4%B8%8D%E8%B6%B3">pip çš„æœ€å¤§ä¸è¶³</a></li>
<li><a href="https://blog.kyomind.tw/python-poetry/#pip-%E6%9B%BF%E4%BB%A3%E6%96%B9%E6%A1%88%E9%81%B8%E6%93%87">pip æ›¿ä»£æ–¹æ¡ˆé¸æ“‡</a></li>
<li><a href="https://blog.kyomind.tw/python-poetry/#%E5%BE%9E%E9%9B%B6%E9%96%8B%E5%A7%8B%E4%BD%BF%E7%94%A8-Poetry">å¾é›¶é–‹å§‹ä½¿ç”¨ Poetry</a></li>
<li><a href="https://blog.kyomind.tw/python-poetry/#%E5%AE%89%E8%A3%9D-Poetry">å®‰è£ Poetry</a></li>
<li><a href="https://blog.kyomind.tw/python-poetry/#%E5%88%9D%E5%A7%8B%E5%8C%96-Poetry-%E5%B0%88%E6%A1%88">åˆå§‹åŒ– Poetry å°ˆæ¡ˆ</a></li>
<li><a href="https://blog.kyomind.tw/python-poetry/#%E7%AE%A1%E7%90%86-Poetry-%E8%99%9B%E6%93%AC%E7%92%B0%E5%A2%83">ç®¡ç† Poetry è™›æ“¬ç’°å¢ƒ</a></li>
<li><a href="https://blog.kyomind.tw/python-poetry/#Poetry-%E5%B8%B8%E7%94%A8%E6%8C%87%E4%BB%A4">Poetry å¸¸ç”¨æŒ‡ä»¤</a></li>
<li><a href="https://blog.kyomind.tw/python-poetry/#Poetry-%E5%B8%B8%E8%A6%8B%E4%BD%BF%E7%94%A8%E6%83%85%E5%A2%83%E8%88%87%E6%93%8D%E4%BD%9C-QA">Poetry å¸¸è¦‹ä½¿ç”¨æƒ…å¢ƒèˆ‡æ“ä½œ QA</a></li>
<li><a href="https://blog.kyomind.tw/python-poetry/#%E7%B5%90%E8%AA%9E">çµèª</a></li>
</ul>
<h2 id="poetry-æ˜¯ä»€éº¼"><a class="header" href="#poetry-æ˜¯ä»€éº¼">Poetry æ˜¯ä»€éº¼ï¼Ÿ</a></h2>
<p>æ¯”èµ· <a href="https://github.com/python-poetry/poetry#poetry-dependency-management-for-python">Poetry GitHub</a> çš„èªªæ˜ï¼š</p>
<blockquote>
<p><strong>Poetry: Dependency Management for Python</strong>
Poetry helps you declare, manage and install dependencies of Python projects, ensuring you have the right stack everywhere.</p>
</blockquote>
<p>æˆ‘è¦ºå¾— <a href="https://python-poetry.org/">Poetry å®˜ç¶²</a>çš„ slogan æ›´åŠ ç°¡æ½”æœ‰åŠ›ï¼š</p>
<p><img src="images/qTTgg0U.png" alt="" /></p>
<p>ç°¡å–®ä¾†èªªï¼Œ<strong>Poetry é¡ä¼¼ pipï¼Œèƒ½å”åŠ©ä½ é€²è¡Œå¥—ä»¶ç®¡ç†</strong>ï¼ˆdependency managementï¼‰ï¼Œ<strong>ä½†åˆæ¯” pip å¼·å¤§å¾—å¤š</strong>ï¼Œå› ç‚ºå®ƒé‚„åŒ…å«äº† pip æ‰€æœªæœ‰çš„åŠŸèƒ½ï¼š</p>
<ul>
<li>è™›æ“¬ç’°å¢ƒç®¡ç†</li>
<li>å¥—ä»¶ç›¸ä¾æ€§ç®¡ç†</li>
<li>å¥—ä»¶çš„æ‰“åŒ…èˆ‡ç™¼å¸ƒ</li>
</ul>
<p>å…¶ä¸­<strong>æœ€ç‚ºé—œéµ</strong>çš„æ˜¯ã€Œ<strong>å¥—ä»¶çš„ç›¸ä¾æ€§ç®¡ç†</strong>ã€ï¼Œä¹Ÿæ˜¯æœ¬æ–‡çš„é‡é»ï¼Œè€Œã€Œå¥—ä»¶çš„æ‰“åŒ…èˆ‡ç™¼å¸ƒã€èˆ‡æœ¬æ–‡ä¸»é¡Œè¼ƒç„¡é—œä¿‚ï¼Œæ‰€ä»¥ä¸æœƒæåŠã€‚</p>
<h2 id="åè©è§£é‡‹è™›æ“¬ç’°å¢ƒç®¡ç†å¥—ä»¶ç®¡ç†ç›¸ä¾æ€§ç®¡ç†"><a class="header" href="#åè©è§£é‡‹è™›æ“¬ç’°å¢ƒç®¡ç†å¥—ä»¶ç®¡ç†ç›¸ä¾æ€§ç®¡ç†">åè©è§£é‡‹ï¼šè™›æ“¬ç’°å¢ƒç®¡ç†ã€å¥—ä»¶ç®¡ç†ã€ç›¸ä¾æ€§ç®¡ç†</a></h2>
<p>é–‹å§‹å‰ï¼Œè¦å…ˆå¤§è‡´èªªæ˜æ¨™é¡Œä¸­é€™ä¸‰è€…çš„å€åˆ¥ï¼Œæ‰ä¸æ˜“æ··æ·†æ–‡ä¸­çš„å…§å®¹ã€‚é€™è£¡çš„å®šç¾©å¯èƒ½ä¸ç›¡æº–ç¢ºï¼Œä½†è‡³å°‘å°ç†è§£æ–‡ä¸­çš„è¡¨é”èƒ½æœ‰æ‰€å¹«åŠ©ã€‚</p>
<h3 id="è™›æ“¬ç’°å¢ƒç®¡ç†"><a class="header" href="#è™›æ“¬ç’°å¢ƒç®¡ç†">è™›æ“¬ç’°å¢ƒç®¡ç†</a></h3>
<p>æŒ‡çš„æ˜¯ä½¿ç”¨å…§å»ºçš„ venv æˆ– vituralenv å¥—ä»¶ä¾†å»ºç«‹åŠç®¡ç† Python çš„è™›æ“¬ç’°å¢ƒï¼Œä¸åŒçš„è™›æ“¬ç’°å¢ƒé–“å„è‡ªç¨ç«‹ï¼Œè¬›ç™½äº†å°±æ˜¯æŒ‡å‘çš„è·¯å¾‘å„ä¸ç›¸åŒã€‚</p>
<h3 id="å¥—ä»¶ç®¡ç†ä¾è³´ç®¡ç†dependency-management"><a class="header" href="#å¥—ä»¶ç®¡ç†ä¾è³´ç®¡ç†dependency-management">å¥—ä»¶ç®¡ç†ã€ä¾è³´ç®¡ç†ï¼ˆdependency managementï¼‰</a></h3>
<p>æŒ‡çš„æ˜¯ä½¿ç”¨ pip é€™é¡çš„å¥—ä»¶ç®¡ç†å™¨ä¾†ç®¡ç† Python ç’°å¢ƒï¼ˆæœªå¿…æ˜¯è™›æ“¬ç’°å¢ƒï¼‰ï¼Œå³ç®¡ç†ç’°å¢ƒä¸­æ‰€å®‰è£çš„å…¨éƒ¨å¥—ä»¶ï¼ˆpackageã€dependencyï¼‰åŠå…¶ç‰ˆæœ¬ã€‚</p>
<p>åœ¨é€™å€‹èªå¢ƒä¸‹ï¼Œdependency åŸºæœ¬ä¸Šå°±æ˜¯æŒ‡å®‰è£çš„ packageã€‚</p>
<h3 id="å¥—ä»¶çš„ç›¸ä¾æ€§ç®¡ç†ä¾è³´è§£æ"><a class="header" href="#å¥—ä»¶çš„ç›¸ä¾æ€§ç®¡ç†ä¾è³´è§£æ">ã€Œå¥—ä»¶çš„ã€ç›¸ä¾æ€§ç®¡ç†ã€ä¾è³´è§£æ</a></h3>
<p>é€™å€‹æœ‰é»é›£å®šç¾©ï¼Œå®ƒä¸¦ä¸æ˜¯ä¸€å€‹éå¸¸é€šä¿—ä¸”æœ‰å…±è­˜çš„åè©ï¼Œæˆ‘åœ¨è‹±æ–‡ä¸­ä¹Ÿé‚„é›£æ‰¾åˆ°å°æ‡‰çš„åè©ã€‚æœ¬æ–‡ä½¿ç”¨å®ƒæ™‚ï¼Œä¸»è¦æŒ‡çš„æ˜¯<strong>å¥—ä»¶èˆ‡å¥—ä»¶ä¹‹é–“çš„ä¾è³´é—œä¿‚åŠç‰ˆæœ¬è¡çªç®¡ç†</strong>ï¼Œä¹Ÿå°±æ˜¯å¥—ä»¶çš„ã€Œ<strong>ç›¸ä¾æ€§ç®¡ç†</strong>ã€ã€‚åœ¨ä¸‹æ–‡æåŠçš„ Podcast ä¸­ï¼Œåˆç¨±ç‚ºã€Œ<strong>ä¾è³´è§£æ</strong>ã€ã€‚</p>
<p>æ‰€è¬‚å¥—ä»¶çš„ã€Œç‰ˆæœ¬è¡çªã€æŒ‡çš„æ˜¯å–®ä¸€å¥—ä»¶è¢«å…©å€‹ä»¥ä¸Šçš„å¥—ä»¶æ‰€ä¾è³´ï¼Œä½†ä¸åŒçš„å¥—ä»¶å°ä¾è³´çš„å¥—ä»¶æœ‰è‘—ä¸åŒçš„<strong>æœ€ä½æˆ–æœ€é«˜ç‰ˆæœ¬è¦æ±‚</strong>ï¼Œè‹¥å…©è€…çš„è¦æ±‚æ²’æœ‰ã€Œäº¤é›†ã€ï¼Œå‰‡æœƒç”¢ç”Ÿè¡çªè€Œå°è‡´å¥—ä»¶å¤±æ•ˆæˆ–ç„¡æ³•å®‰è£ã€‚</p>
<h2 id="pip-çš„æœ€å¤§ä¸è¶³"><a class="header" href="#pip-çš„æœ€å¤§ä¸è¶³">pip çš„æœ€å¤§ä¸è¶³</a></h2>
<p>å¤§æ¦‚åœ¨ 2 å¹´å‰å°±çŸ¥é“äº† Poetry çš„å­˜åœ¨ï¼Œä¸éé‚£æ™‚æˆ‘é‚„æ²’æœ‰å¥—ä»¶ç›¸ä¾æ€§ç®¡ç†çš„å¼·çƒˆéœ€æ±‚ï¼ŒåŠ ä¸Šçœ‹èµ·ä¾†éœ€è¦ä¸€äº›å­¸ç¿’æˆæœ¬ï¼ˆç¢ºå¯¦å¦‚æ­¤ï¼‰ï¼Œæ‰€ä»¥å°±ä¸€ç›´æ“±åœ¨ä¸€æ—ï¼Œç›´åˆ°çœŸæ­£é«”æœƒåˆ°äº† pip çš„ä¸è¶³ã€‚</p>
<p>pip æ˜¯ Python å…§å»ºçš„å¥—ä»¶ç®¡ç†å·¥å…·ï¼Œè€Œå®ƒçš„æœ€å¤§ç½©é–€ï¼Œå°±æ˜¯å°æ–¼ã€Œå¥—ä»¶é–“çš„ç›¸ä¾æ€§ç®¡ç†ã€èƒ½åŠ›ä¸è¶³ã€‚å°¤å…¶æ˜¯åœ¨ã€Œç§»é™¤ã€å¥—ä»¶æ™‚çš„ä¾è³´è§£æâ€”â€”å¯ä»¥èªªåŸºæœ¬æ²’æœ‰ã€‚é€™ä¹Ÿæ˜¯æˆ‘æè­°æ”¹ç”¨ Poetry çš„æ ¹æœ¬åŸå› ã€‚</p>
<p>æ€éº¼èªªï¼Ÿçœ‹å®Œä¸‹é¢çš„ä¾‹å­å°±èƒ½æ˜ç™½ã€‚</p>
<h3 id="pip-uninstallçš„å›°å¢ƒä»¥-flask-ç‚ºä¾‹"><a class="header" href="#pip-uninstallçš„å›°å¢ƒä»¥-flask-ç‚ºä¾‹"><code>pip uninstall</code>çš„å›°å¢ƒï¼šä»¥ Flask ç‚ºä¾‹</a></h3>
<p>å‡è¨­ç¾åœ¨ä½ çš„å·¥ä½œå°ˆæ¡ˆä¸­æœ‰é–‹ç™¼ API çš„éœ€æ±‚ï¼Œç¶“éä¸€ç•ªç ”ç©¶èˆ‡è¨è«–ï¼Œæ±ºå®šä½¿ç”¨ <a href="https://github.com/pallets/flask">Flask</a> ç¶²é æ¡†æ¶ä¾†é€²è¡Œé–‹ç™¼ã€‚</p>
<p>æˆ‘å€‘çŸ¥é“ï¼Œå¾ˆå¤šå¥—ä»¶éƒ½æœ‰ä¾è³´çš„å¥—ä»¶ï¼Œä¹Ÿå°±æ˜¯ä½¿ç”¨ã€Œåˆ¥äººå·²ç¶“é€ å¥½çš„è¼ªå­ã€ä¾†æ§‹æˆå¥—ä»¶åŠŸèƒ½çš„ä¸€éƒ¨åˆ†ã€‚</p>
<p>å®‰è£ä¸»å¥—ä»¶æ™‚ï¼Œé€™äº›ä¾è³´å¥—ä»¶ä¹Ÿå¿…é ˆä¸€ä½µå®‰è£ï¼Œä¸»å¥—ä»¶æ‰èƒ½æ­£å¸¸é‹ä½œï¼Œé€™è£¡çš„ Flask å°±æ˜¯å¦‚æ­¤ã€‚å®‰è£ Flask æ™‚ï¼Œä¸åƒ…æœƒå®‰è£å–®ä¸€å€‹å¥—ä»¶<code>flask</code>ï¼Œé‚„æœƒå®‰è£æ‰€æœ‰ Flask çš„å¿…è¦æ§‹æˆéƒ¨åˆ†ï¼Œå¦‚ä¸‹ï¼š</p>
<pre><code>â¯ pip install flask
Collecting flask
  Downloading Flask-2.1.1-py3-none-any.whl (95 kB)
     |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 95 kB 993 kB/s
Collecting importlib-metadata&gt;=3.6.0
  Using cached importlib_metadata-4.11.3-py3-none-any.whl (18 kB)
Collecting itsdangerous&gt;=2.0
  Downloading itsdangerous-2.1.2-py3-none-any.whl (15 kB)
Collecting Werkzeug&gt;=2.0
  Downloading Werkzeug-2.1.1-py3-none-any.whl (224 kB)
     |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 224 kB 2.8 MB/s
Collecting click&gt;=8.0
  Downloading click-8.1.2-py3-none-any.whl (96 kB)
     |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 96 kB 1.9 MB/s
Collecting Jinja2&gt;=3.0
  Downloading Jinja2-3.1.1-py3-none-any.whl (132 kB)
     |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 132 kB 3.7 MB/s
Collecting zipp&gt;=0.5
  Using cached zipp-3.7.0-py3-none-any.whl (5.3 kB)
Collecting MarkupSafe&gt;=2.0
  Downloading MarkupSafe-2.1.1-cp38-cp38-macosx_10_9_x86_64.whl (13 kB)
Installing collected packages: zipp, MarkupSafe, Werkzeug, Jinja2, itsdangerous, importlib-metadata, click, flask
Successfully installed Jinja2-3.1.1 MarkupSafe-2.1.1 Werkzeug-2.1.1 click-8.1.2 flask-2.1.1 importlib-metadata-4.11.3 itsdangerous-2.1.2 zipp-3.7.0
</code></pre>
<p>å¾ä¸Šå¯çŸ¥ï¼Œ<code>pip install flask</code>é‚„æœƒä¸€ä½µå®‰è£<code>importlib-metadata</code>ã€<code>itsdangerous</code>ç­‰ 7 å€‹ä¾è³´å¥—ä»¶ï¼Œå¯¦éš›ä¸Šç¸½å…±å®‰è£äº† 8 å€‹å¥—ä»¶ï¼</p>
<p>pip åœ¨ã€Œå®‰è£ã€å¥—ä»¶æ™‚çš„ç›¸ä¾æ€§ç®¡ç†é‚„æ˜¯å¯ä»¥çš„ï¼Œé€™ä¸¦ä¸é›£ï¼Œå› ç‚ºå¥—ä»¶çš„ä¾è³´è¦æ±‚éƒ½å¯«åœ¨å®‰è£æª”è£¡äº†ï¼Œæ ¹æœ¬ä¸éœ€è¦ã€Œè§£æã€ã€‚</p>
<hr />
<p>é™„å¸¶ä¸€æï¼Œé€™ 8 å€‹å¥—ä»¶åŒ…æ‹¬<code>flask</code>ï¼Œé™¤äº†<code>importlib-metadata</code>å’Œ<code>zipp</code>å¤–ï¼Œå…¶é¤˜ 6 å€‹å¯¦éš›ä¸Šéƒ½æ˜¯ <a href="https://palletsprojects.com/p/">Flask åœ˜éšŠè‡ªè¡Œé–‹ç™¼çš„å¥—ä»¶</a>ã€‚</p>
<p>ä½†æ˜¯ä¸¦ä¸æ˜¯éš»æœ‰ Flask æ¡†æ¶æœƒä½¿ç”¨ï¼ˆä¾è³´ï¼‰é€™äº›å¥—ä»¶ã€‚</p>
<p>æ¯”å¦‚å…¶ä¸­çš„ <a href="https://palletsprojects.com/p/click/">Click</a> å°±æ˜¯ä¸€å€‹å»£æ³›ä½¿ç”¨çš„å‘½ä»¤è£½ä½œå·¥å…·ã€‚å¥—ä»¶å®˜ç¶²æ˜¯é€™éº¼ä»‹ç´¹çš„ï¼š</p>
<blockquote>
<p>Click is a Python package for <strong>creating beautiful command line interfaces</strong> in a composable way with as little code as necessary.</p>
</blockquote>
<p>åˆ¥çš„å¥—ä»¶ä¹Ÿå¯èƒ½ä¾è³´<code>click</code>ä¾†æä¾›å‘½ä»¤åˆ—çš„åŠŸèƒ½ï¼Œæ›å¥è©±èªªï¼Œä¸»å¥—ä»¶çš„ä¾è³´å¥—ä»¶ä¹Ÿå¯èƒ½è¢«å…¶ä»–ç¬¬ä¸‰æ–¹å¥—ä»¶æ‰€ä¾è³´ã€ä½¿ç”¨ã€‚</p>
<hr />
<p>å¥½ï¼Œä¸€åˆ‡éƒ½å¾ˆç¾å¥½ï¼Œå°±é€™æ¨£ä¸€å¹´éå»ï¼Œåœ˜éšŠæ±ºå®šæ”¹ç”¨ç«ç´…çš„ FastAPI å–ä»£ Flask ä¾†å¯¦ä½œå°ˆæ¡ˆçš„ APIï¼Œä½œç‚º API çš„ä¸»è¦é–‹ç™¼äººå“¡ï¼Œä½ èˆˆé«˜æ¡åˆ—åœ°å®‰è£äº† FastAPIï¼Œæ›´æ–°äº†æ‰€æœ‰ç¨‹å¼ç¢¼ï¼Œæœ€å¾Œè¦ç§»é™¤ Flaskï¼Œé€™æ™‚å•é¡Œå°±ä¾†äº†ã€‚</p>
<p>å®‰è£ Flask çš„æ™‚å€™ï¼Œåªéœ€è¦<code>pip install flask</code>ï¼Œpip å°±æœƒå¹«ä½ ä¸€ä½µå®‰è£æ‰€æœ‰ä¾è³´å¥—ä»¶ã€‚ç¾åœ¨è¦ç§»é™¤å®ƒï¼Œä¹Ÿåªè¦<code>pip uninstall flask</code>å°±å¯ä»¥äº†å—ï¼Ÿ</p>
<p>å¾ˆéºæ†¾ï¼Œ<strong>ç­”æ¡ˆæ˜¯å¦å®šçš„</strong>ã€‚</p>
<h3 id="pip-çš„è‡´å‘½ç¼ºé™·ç¼ºä¹ç§»é™¤å¥—ä»¶æ™‚çš„ä¾è³´è§£æç›¸ä¾æ€§ç®¡ç†"><a class="header" href="#pip-çš„è‡´å‘½ç¼ºé™·ç¼ºä¹ç§»é™¤å¥—ä»¶æ™‚çš„ä¾è³´è§£æç›¸ä¾æ€§ç®¡ç†">pip çš„è‡´å‘½ç¼ºé™·ï¼šç¼ºä¹ç§»é™¤å¥—ä»¶æ™‚çš„ä¾è³´è§£æï¼ˆç›¸ä¾æ€§ç®¡ç†ï¼‰</a></h3>
<p>åƒ…åŸ·è¡Œ<code>pip uninstall flask</code>çš„è©±ï¼Œpip å°±<strong>çœŸçš„åªæœƒ</strong>å¹«ä½ ç§»é™¤<code>flask</code>é€™å€‹å¥—ä»¶<strong>æœ¬èº«</strong>è€Œå·²ã€‚é‚£å‰©ä¸‹çš„ã€å†ä¹Ÿç”¨ä¸åˆ°çš„å¥—ä»¶æ€éº¼è¾¦ï¼Ÿä½ åªèƒ½ä¸€å€‹ä¸€å€‹æ‰‹å‹•ç§»é™¤ï¼</p>
<p>ä½†ä½ åƒè¬ä¸è¦çœŸçš„å˜—è©¦æ‰‹å‹•ç§»é™¤ä¾è³´å¥—ä»¶ï¼â€”â€”å› ç‚ºä½ ç„¡æ³•ç¢ºå®šé€™äº›ä¾è³´å¥—ä»¶<strong>æ˜¯å¦åŒæ™‚è¢«åˆ¥çš„å¥—ä»¶æ‰€ä¾è³´</strong>ã€‚</p>
<h3 id="pip-æ‰‹å‹•ç§»é™¤ä¾è³´å¥—ä»¶çš„æ½›åœ¨é¢¨éšªä»¥-flask--black-ç‚ºä¾‹"><a class="header" href="#pip-æ‰‹å‹•ç§»é™¤ä¾è³´å¥—ä»¶çš„æ½›åœ¨é¢¨éšªä»¥-flask--black-ç‚ºä¾‹">pip æ‰‹å‹•ç§»é™¤ä¾è³´å¥—ä»¶çš„æ½›åœ¨é¢¨éšªï¼šä»¥ Flask + Black ç‚ºä¾‹</a></h3>
<p>ç¹¼çºŒä»¥ Flask ç‚ºä¾‹ï¼Œé‚„è¨˜å¾—å…¶ä¸­ä¸€å€‹ä¾è³´å¥—ä»¶æ˜¯<code>click</code>ï¼Œå¦‚å‰æ‰€è¿°ï¼Œå®ƒæ˜¯ä¸€å€‹å”åŠ©è£½ä½œå‘½ä»¤åˆ—ç•Œé¢çš„å·¥å…·ã€‚</p>
<p>å‡è¨­å°ˆæ¡ˆä¸­åŒæ™‚ä¹Ÿä½¿ç”¨ <a href="https://github.com/psf/black">Black</a> é€™å€‹ formatter é€²è¡Œç¨‹å¼ç¢¼é¢¨æ ¼ç®¡ç†ï¼ˆæ²’éŒ¯ï¼æˆ‘ç¾åœ¨å€‹äººé–‹ç™¼ä¹Ÿéƒ½æ”¹ç”¨ Black å–ä»£ <a href="https://github.com/google/yapf">yapf</a> äº†ï¼‰ï¼ŒBlack æ˜¯ä¸€å€‹å¯ä»¥é€é CLI åŸ·è¡Œçš„å·¥å…·ï¼Œå¾ˆå·§çš„ï¼Œå®ƒä¹Ÿæ˜¯ä½¿ç”¨<code>click</code>ä¾†å¯¦ä½œå‘½ä»¤åˆ—ç•Œé¢ã€‚</p>
<p>å¯æƒ³è€ŒçŸ¥ï¼Œç§»é™¤ Flask æ™‚ï¼Œå¦‚æœä½ åŒæ™‚æŠŠ<code>click</code>ä¹Ÿè·Ÿè‘—ä¸€ä½µç§»é™¤ï¼Œæœƒç™¼ç”Ÿä»€éº¼æ¨£çš„æ‚²åŠ‡â€”â€”ä½ çš„ Black å£äº†ã€‚</p>
<p>ç°¡è¨€ä¹‹ï¼Œç›´æ¥ pip æ‰‹å‹•ç§»é™¤ä¾è³´å¥—ä»¶å­˜åœ¨ä¸‹åˆ—å…©å¤§ç–‘æ…®ï¼Œä¸å»ºè­°è¼•æ˜“å˜—è©¦ï¼š</p>
<p><strong>ä¸€ã€ç„¡æ³•ç¢ºå®šæƒ³ç§»é™¤çš„å¥—ä»¶é‚„æœ‰å¤šå°‘ä¾è³´å¥—ä»¶</strong></p>
<p>æ­£å¸¸è€Œè¨€ï¼Œä½ ä¸æœƒå»æ³¨æ„å®‰è£æ™‚ç¸½å…±ä¸€ä½µå®‰è£äº†å¤šå°‘ä¾è³´å¥—ä»¶ã€‚é›–ç„¶æœ‰<code>pip show</code>é€™é¡çš„æŒ‡ä»¤å¯ä»¥å¤§æ¦‚çŸ¥æ›‰å¥—ä»¶çš„ä¾è³´ï¼Œä½†é€™æŒ‡ä»¤åªæœƒé¡¯ç¤ºã€Œ<strong>ç›´æ¥</strong>ä¾è³´å¥—ä»¶ã€è€Œä¸æœƒé¡¯ç¤ºã€Œä¾è³´å¥—ä»¶çš„ä¾è³´ã€ï¼Œæ‰€ä»¥åˆ—å‡ºä¾†çš„çµæœæœªå¿…æº–ç¢ºï¼š</p>
<pre><code>â¯ pip show flask
Name: Flask
Version: 2.1.1
Summary: A simple framework for building complex web applications.
Home-page: https://palletsprojects.com/p/flask
Author: Armin Ronacher
Author-email: armin.ronacher@active-4.com
License: BSD-3-Clause
Location: /Users/kyo/.pyenv/versions/3.8.12/envs/test/lib/python3.8/site-packages
Requires: importlib-metadata, Werkzeug, click, Jinja2, itsdangerous
Required-by:
</code></pre>
<p>å¯ä»¥çœ‹åˆ°ï¼Œ<code>Requires:</code>åªé¡¯ç¤ºäº† 5 å€‹ä¾è³´å¥—ä»¶ï¼Œå› ç‚ºå‰©ä¸‹çš„ 2 å€‹ï¼ˆ<code>zipp</code>ã€<code>markupsafe</code>ï¼‰æ˜¯ã€Œ<strong>ä¾è³´çš„ä¾è³´</strong>ã€ï¼Œåœ¨æ›´ä¸‹å±¤ï¼Œä¸¦æœªé¡¯ç¤ºã€‚</p>
<p><strong>äºŒã€å³ä½¿ç¢ºå®šæ‰€æœ‰ä¾è³´å¥—ä»¶ï¼Œä¹Ÿç„¡æ³•ç¢ºå®šé€™äº›å¥—ä»¶æ˜¯å¦é‚„è¢«å…¶ä»–å¥—ä»¶æ‰€ä¾è³´</strong></p>
<p>å¥½ç¹å£å•Šï¼ä¸Šè¿°çš„<code>click</code>ä¾‹å­å°±æ˜¯è§£é‡‹é€™å€‹å›°å¢ƒã€‚</p>
<h3 id="å°çµpip-åªé©åˆå°å‹å°ˆæ¡ˆæˆ–åªæ–°å¢ä¸ç§»é™¤å¥—ä»¶çš„å°ˆæ¡ˆ"><a class="header" href="#å°çµpip-åªé©åˆå°å‹å°ˆæ¡ˆæˆ–åªæ–°å¢ä¸ç§»é™¤å¥—ä»¶çš„å°ˆæ¡ˆ">å°çµï¼špip åªé©åˆå°å‹å°ˆæ¡ˆæˆ–ã€Œåªæ–°å¢ä¸ç§»é™¤ã€å¥—ä»¶çš„å°ˆæ¡ˆ</a></h3>
<p>ä»¥å‰æˆ‘çš„å€‹äººæˆ–å·¥ä½œä¸Šçš„å°ˆæ¡ˆå¾€å¾€è¦æ¨¡ä¸å¤§ï¼Œpip å°±çœŸçš„åªè² è²¬æ–°å¢ï¼Œé®®å°‘éœ€è¦è€ƒæ…®ç§»é™¤å¥—ä»¶çš„æƒ…æ³ï¼Œæ‰€ä»¥ç¼ºå°‘ç§»é™¤å¥—ä»¶æ™‚çš„ä¾è³´è§£æï¼Œä¼¼ä¹ä¹Ÿæ²’ä»€éº¼å¤§å•é¡Œã€‚</p>
<p>ä½†ç¨å…·æ¨¡è¦çš„å°ˆæ¡ˆå¾€å¾€å°±éœ€è¦è€ƒæ…®å¥—ä»¶çš„é€€å ´ï¼Œä»¥ç¶­æŒé–‹ç™¼åŠéƒ¨ç½²ç’°å¢ƒçš„ç°¡æ½”ï¼Œå°¤å…¶åœ¨ä½¿ç”¨å®¹å™¨åŒ–éƒ¨ç½²æ™‚ï¼Œéå¤šä¸å¿…è¦çš„å¥—ä»¶æœƒå¾’å¢ image çš„è‚¥å¤§ï¼Œç”¢ç”Ÿé¡å¤–çš„æˆæœ¬èˆ‡æµªè²»ã€‚</p>
<p>ç„¶è€Œé€éä¸Šé¢çš„ä¾‹å­å¯çŸ¥ï¼Œåƒ…é  pip æƒ³è¦ä¹¾æ·¨ç§»é™¤éæ™‚çš„å¥—ä»¶ï¼Œä¸”ä¸å½±éŸ¿æ—¢æœ‰çš„å¥—ä»¶ï¼Œç°¡ç›´æ˜¯ä¸å¯èƒ½çš„ä»»å‹™ï¼æ‰€ä»¥æˆ‘å€‘éœ€è¦æœ‰å®Œæ•´å¥—ä»¶<strong>ä¾è³´è§£æã€ç›¸ä¾æ€§ç®¡ç†</strong>çš„å¥—ä»¶ç®¡ç†å™¨ã€‚</p>
<h2 id="pip-æ›¿ä»£æ–¹æ¡ˆé¸æ“‡"><a class="header" href="#pip-æ›¿ä»£æ–¹æ¡ˆé¸æ“‡">pip æ›¿ä»£æ–¹æ¡ˆé¸æ“‡</a></h2>
<p>å› ç‚º pip å­˜åœ¨é€™æ¨£çš„è‡´å‘½å¼±é»ï¼Œæ‰€ä»¥å¾ˆæ—©å°±æœ‰ç›¸é—œçš„æ–¹æ¡ˆæå‡ºæƒ³è¦è§£æ±ºå®ƒï¼Œæœ€çŸ¥åçš„è«éæ–¼ <a href="https://pipenv.pypa.io/en/latest/">Pipenv</a>ï¼</p>
<p>é—œæ–¼ pip çš„å‰ä¸–ä»Šç”Ÿï¼Œä»¥åŠç‚ºä½•å®ƒé›£ä»¥æ¼”åŒ–æˆç†æƒ³çš„ã€å¯ä»¥å®Œç¾ç®¡ç†å¥—ä»¶ç›¸ä¾æ€§çš„ç‰ˆæœ¬ï¼Œå¯ä»¥åƒè€ƒã€ˆ<a href="https://blog.kyomind.tw/pyenv-setup/">å‘Šåˆ¥ Anacondaï¼šåœ¨ macOS ä¸Šä½¿ç”¨ pyenv + pyenv-virtualenv å»ºç«‹ Python é–‹ç™¼ç’°å¢ƒ</a>ã€‰ä¸­æ¨è–¦éçš„å–®é›† Podcastï¼š<a href="https://pythonhunter.org/episodes/ep15">ã€Šæ•è›‡è€…èªªã€‹Ep 15. å’Œ PyPA çš„æˆå“¡èŠèŠ Python é–‹ç™¼å·¥ä½œæµ</a>ã€‚</p>
<p>å¾ Podcast ç¶²é ã€Œæ™‚é–“ç¯€é»ã€ç›®éŒ„ä¸­å¯çŸ¥ï¼Œè©²é›†å° Python çš„è™›æ“¬ç’°å¢ƒèˆ‡å¥—ä»¶ç®¡ç†æ©Ÿåˆ¶åŠç›¸é—œå·¥å…·ï¼Œæœ‰è‘—éå¸¸å»£æ³›çš„è¨è«–ï¼Œååˆ†ç²¾å½©ï¼Œå¼·åŠ›æ¨è–¦ï¼ï¼ˆç‚ºäº†å¯«é€™ç¯‡åˆè½äº†ç¬¬ 3 æ¬¡ï¼‰</p>
<p><a href="https://i.imgur.com/gzcAU7e.png"><img src="https://i.imgur.com/gzcAU7e.png" alt="img" /></a></p>
<h3 id="pipenv-vs-poetry"><a class="header" href="#pipenv-vs-poetry">Pipenv vs Poetry</a></h3>
<p>è¬›åˆ°éœ€è¦æœ‰å……åˆ†ã€Œå¥—ä»¶ç›¸ä¾æ€§ç®¡ç†ã€åŠŸèƒ½çš„å¥—ä»¶ç®¡ç†å™¨ï¼Œä½ åŸºæœ¬ä¸Šä¹Ÿåªèƒ½å¾ Pipenv å’Œ Poetry å…©è€…ä¹‹ä¸­äºŒæ“‡ä¸€äº†ã€‚</p>
<p>å¦‚æœæ˜¯åœ¨å…©å¹´å‰ï¼Œé€™å€‹é¸æ“‡é›£é¡Œææ€•ä¸å®¹æ˜“å›ç­”ï¼Œè€Œä¸” Pipenv æœƒæœ‰è¼ƒå¤§çš„æ©Ÿç‡å‹å‡ºï¼Œä½†å…©å¹´å¾Œçš„ä»Šå¤©ï¼Œæˆ‘å»ºè­°ä½ æ¯«ä¸çŒ¶è±«åœ°é¸æ“‡ Poetryã€‚</p>
<h3 id="æˆ‘é¸æ“‡-poetry-çš„ç¬¬ä¸€å€‹ç†ç”±"><a class="header" href="#æˆ‘é¸æ“‡-poetry-çš„ç¬¬ä¸€å€‹ç†ç”±">æˆ‘é¸æ“‡ Poetry çš„ç¬¬ä¸€å€‹ç†ç”±</a></h3>
<p>ç¬¬ä¸€å€‹ç†ç”±ï¼šä¸è¦é¸æ“‡ Pipenvã€‚</p>
<p>ä¹çœ‹ä¹‹ä¸‹æœ‰é»é¬§ï¼Œä½†å»ä¸å¤±ç‚ºä¸€å€‹å…·é«”çš„ç†ç”±ï¼Œå› ç‚ºç•¶ä½ æœå°‹ã€Œpython poetryã€é—œéµå­—çš„æ™‚å€™ï¼Œé‚£äº›æ•™ä½ æ€éº¼ä½¿ç”¨ Poetry çš„æ–‡ç« å¾€å¾€ä¹Ÿæœƒä¸€ä½µæåŠç‚ºä½•ä¸é¸æ“‡ Pipenvã€‚</p>
<p>ä»¥ä¸‹å…©ç¯‡æœ‰è‘—è¼ƒç‚ºå®Œæ•´çš„èªªæ˜ï¼Œè«‹å®¹æˆ‘ç›´æ¥å¼•ç”¨ã€‚</p>
<p>ã€ˆ<a href="https://note.koko.guru/posts/using-poetry-manage-python-package-environments">Python - å–ä»£ Pipenv çš„æ–°å¥—ä»¶ç®¡ç†å™¨ Poetry</a>ã€‰ï¼š</p>
<blockquote>
<p>Pipenv é›–ç„¶å¼·å¤§ï¼Œå»ä¹Ÿæš´éœ²å‡ºäº†ä¸€äº›å•é¡Œå¦‚ Lock éæ…¢ã€Windows æ”¯æ´æ€§å·®ã€å° PyPI å¥—ä»¶æ‰“åŒ…çš„å‹å–„åº¦å·®â€¦ç­‰æ›´å¤šå…¶ä»–å•é¡Œï¼Œç”šè‡³æœ‰è¶Šä¾†è¶Šå¤šäººè¡¨æ˜ <a href="http://greyli.com/do-not-use-pipenv/">ä¸è¦ä½¿ç”¨ Pipenv</a> æˆ– <a href="https://blog.gslin.org/archives/2019/12/21/9347/pipenv-%E7%9A%84%E5%87%8B%E9%9B%B6%E8%88%87%E6%9B%BF%E4%BB%A3%E6%96%B9%E6%A1%88-poetry/">pipenv çš„å‡‹é›¶èˆ‡æ›¿ä»£æ–¹æ¡ˆ poetry</a> ç­‰ã€‚</p>
</blockquote>
<blockquote>
<p>åŒæ™‚ Pipenv çš„ç¤¾ç¾¤ç¶­è­·ç‹€æ³ä¹Ÿè¶Šä¾†è¶Šå·®ï¼Œæœ‰è¨±å¤šçš„ PR éƒ½æ²’æœ‰è¢« Releaseï¼Œå°è‡´è¨±å¤šè²¢ç»è€…æŠ±æ€¨ï¼Œç”šè‡³æœ‰äººç™¼å‡ºäº†è©²ç¯‡ <a href="https://github.com/pypa/pipenv/issues/4058">If this project is dead, just tell us</a> issue æƒ³çŸ¥é“æ˜¯å¦å°ˆæ¡ˆå·²ç¶“ä¸åœ¨ç¶­è­·ã€‚</p>
</blockquote>
<p>ã€ˆ<a href="https://greyli.com/poetry-a-better-choice-than-pipenv/">ç›¸æ¯” Pipenvï¼ŒPoetry æ˜¯ä¸€å€‹æ›´å¥½çš„é¸æ“‡</a>ã€‰ï¼ˆæœ¬æ–‡ä½œè€…<a href="https://greyli.com/about/">æè¼</a>ç‚º Flask åœ˜éšŠæˆå“¡ï¼‰ï¼š</p>
<blockquote>
<p>Pipenv æç¹ªäº†ä¸€å€‹ç¾å¤¢ï¼Œè®“æˆ‘å€‘ä»¥ç‚º Python ä¹Ÿæœ‰äº†å…¶ä»–èªè¨€é‚£æ¨£å®Œå–„çš„åŒ…ç®¡ç†å™¨ï¼Œä¸éé€™ä¸€åˆ‡å»åœ¨å¾Œä¾†è€… Poetry é€™è£¡å¾—åˆ°äº†æ›´å¥½çš„å¯¦ç¾ã€‚</p>
</blockquote>
<blockquote>
<p>é€™å¹¾å¹´ Pipenv æ”¶ç²äº†å¾ˆå¤šç”¨æˆ¶ï¼Œä½†æ˜¯ä¹Ÿæš´éœ²äº†å¾ˆå¤šå•é¡Œã€‚é›–ç„¶ Lock å¤ªæ…¢ã€Windows æ”¯æŒä¸å¥½å’Œ bug å¤ªå¤šçš„å•é¡Œéƒ½å·²ç¶“æ”¹é€²äº†å¾ˆå¤šï¼Œä½†å°æˆ‘ä¾†èªªï¼Œä»ç„¶ä¸èƒ½æ¥å—éš¨æ™‚æ›´æ–°é–å®šä¾è³´çš„è¨­å®šï¼Œåœ¨ä¸Šä¸€ç¯‡æ–‡ç« ã€Š<a href="http://greyli.com/do-not-use-pipenv/">ä¸è¦ç”¨ Pipenv</a>ã€‹è£¡ä¹Ÿåæ§½äº†å¾ˆå¤šç›¸é—œçš„å•é¡Œã€‚</p>
</blockquote>
<p>å…©ç¯‡çš„å…§å®¹ç¸½çµå°±æ˜¯ä¸€å¥è©±ï¼šä¸è¦ç”¨ Pipenvã€‚</p>
<p>ç›®å‰ Pipenv å·²ç¶“ç”± <a href="https://github.com/pypa">PyPA</a>ï¼ˆåŒæ™‚ä¹Ÿç¶­è­· pip åŠ vituralenvï¼‰æ¥æ‰‹ï¼Œä¸Šè¿°ã€Œæ“ºçˆ›ã€çš„æƒ…æ³æ‡‰è©²æ˜¯æœ‰æ‰€å¥½è½‰ï¼Œä¸éæˆ‘ä¼¼ä¹é‚„æ²’çœ‹åˆ°æœ‰ä»€éº¼æ–‡ç« å¤§åŠ›é¼“å¹æˆ–å®£å‘Š Pipenv å·²ç¶“ã€Œgreat againã€ï¼Œæ‰€ä»¥å€‹äººå°å®ƒçš„æœªä¾†ç™¼å±•é‚„æ˜¯æŒä¿ç•™æ…‹åº¦ã€‚</p>
<h3 id="é¸æ“‡-poetry-çš„ç¬¬äºŒå€‹ç†ç”±pyprojecttoml"><a class="header" href="#é¸æ“‡-poetry-çš„ç¬¬äºŒå€‹ç†ç”±pyprojecttoml">é¸æ“‡ Poetry çš„ç¬¬äºŒå€‹ç†ç”±ï¼špyproject.toml</a></h3>
<p>pyproject.toml æ˜¯ <a href="https://peps.python.org/pep-0518/">PEP 518</a> æ‰€æå‡ºçš„æ–°æ¨™æº–ï¼š</p>
<blockquote>
<p>The build system dependencies will be stored in a file named <code>pyproject.toml</code> that is written in the TOML format.</p>
</blockquote>
<p>é›–ç„¶åŸæ„æ˜¯ä½œç‚ºå¥—ä»¶æ‰“åŒ…çš„æ¨™æº–ï¼Œä½†å¾Œä¾†åˆæœ‰äº† <a href="https://peps.python.org/pep-0621/">PEP 621</a>ï¼Œæ“´å……å®šæ€§ç‚º Python ç”Ÿæ…‹ç³»å·¥å…·çš„å…±åŒè¨­å®šæª”æ¨™æº–ï¼Œç¾åœ¨å·²ç¶“è¢«æ„ˆä¾†æ„ˆå¤šå¥—ä»¶æ‰€æ”¯æ´ï¼Œè©³ç´°å¯åƒè€ƒ<a href="https://github.com/carlosperate/awesome-pyproject">é€™å€‹æ¸…å–®</a>åŠé é¢ä¸­çš„èªªæ˜ï¼š</p>
<blockquote>
<p><code>pyproject.toml</code> is a new configuration file defined in <a href="https://www.python.org/dev/peps/pep-0518/">PEP 518</a> and expanded in <a href="https://www.python.org/dev/peps/pep-0621/">PEP 621</a>. It is design to store build system requirements, but it can also store any tool configuration for your Python project, possibly replacing the need for <code>setup.cfg</code> or other tool-specific files.</p>
</blockquote>
<p>ä½œç‚ºè¦ç¯„æ§ï¼Œæˆ‘å¾ˆé¡˜æ„è¿½éš¨é€™å€‹æ¨™æº–ã€‚</p>
<p>ä¸¦ä¸”ï¼ŒPoetry ä½¿ç”¨<code>pyproject.toml</code>å¯é é ä¸æ­¢æ˜¯è¨­å®šæª”çš„ç¨‹åº¦ï¼ŒåŸºæœ¬ä¸Šç›¸ç•¶æ–¼ Pipenv çš„<code>Pipfile</code>æˆ– npm çš„<code>package.json</code>ã€‚</p>
<p>å°‘äº†<code>pyproject.toml</code>ï¼ŒPoetry æ˜¯ç„¡æ³•é‹ä½œçš„ã€‚</p>
<p>å¥½ï¼Œæ¼«é•·çš„å‰è¨€åˆ°æ­¤çµæŸï¼Œè®“æˆ‘å€‘é€²å…¥æ­£é¡Œï¼Œé–‹å§‹å­¸ç¿’ä¸Šæ‰‹ Poetryã€‚</p>
<hr />
<h2 id="å¾é›¶é–‹å§‹ä½¿ç”¨-poetry"><a class="header" href="#å¾é›¶é–‹å§‹ä½¿ç”¨-poetry">å¾é›¶é–‹å§‹ä½¿ç”¨ Poetry</a></h2>
<p>æœ¬æ–‡æ‰€æœ‰çš„åƒè€ƒè³‡æ–™æœƒæ”¾åœ¨æ–‡æœ«çš„ã€Œåƒè€ƒã€ä¸€æ¬„ä¸­ï¼Œä¸éåœ¨æ­¤é‚„æ˜¯è¦ç‰¹åˆ¥æåŠä¸»è¦çš„åƒè€ƒå°è±¡ï¼Œç¸½å…±æœ‰äºŒï¼š</p>
<ul>
<li><a href="https://python-poetry.org/docs/">Poetry å®˜æ–¹æ–‡ä»¶</a></li>
<li><a href="https://realpython.com/dependency-management-python-poetry/">Dependency Management With Python Poetry</a></li>
</ul>
<p>åœ¨æœ¬æ–‡æ‰¾ä¸åˆ°ä½ éœ€è¦çš„å…§å®¹ï¼Œä»¥ä¸ŠäºŒè™•å¯èƒ½æœƒæœ‰ï¼Œæ‰€ä»¥ç‰¹åˆ¥æåŠã€‚</p>
<p>å¦å¤–æœ¬æ–‡ä¸»è¦ä»¥ macOS å’Œ Linux ç’°å¢ƒä¾†é€²è¡Œæ•™å­¸åŠå®‰è£ï¼ŒWindows ç”¨æˆ¶å¦‚æœæœ‰ç„¡æ³•é †åˆ©å®‰è£çš„æƒ…æ³ï¼Œå»ºè­°åƒè€ƒå®˜æ–¹æ–‡ä»¶å…§å®¹ä¿®æ­£ã€‚ç›¸ä¿¡å¦‚æœæœ‰å•é¡Œï¼Œæ‡‰è©²ä¹Ÿåªæœƒé›†ä¸­åœ¨å®‰è£è¨­å®šéšæ®µï¼Œæœ¬æ–‡å…¶é¤˜éƒ¨åˆ†ä»å¯é©ç”¨ã€‚</p>
<h2 id="å®‰è£-poetry"><a class="header" href="#å®‰è£-poetry">å®‰è£ Poetry</a></h2>
<p>Poetry å’Œ pipã€gitã€pyenv ç­‰å·¥å…·ä¸€æ¨£ï¼Œéƒ½æ˜¯å…¸å‹çš„å‘½ä»¤åˆ—å·¥å…·ï¼Œéœ€è¦å…ˆå®‰è£æ‰èƒ½ä¸‹é”æŒ‡ä»¤<code>poetry</code>ã€‚</p>
<h3 id="å®‰è£æ–¹å¼é¸æ“‡"><a class="header" href="#å®‰è£æ–¹å¼é¸æ“‡">å®‰è£æ–¹å¼é¸æ“‡</a></h3>
<p>è€Œ Poetry æä¾›äº†å…©ç¨®å®‰è£æ–¹å¼ï¼š</p>
<ol>
<li><strong>å…¨åŸŸå®‰è£</strong>è‡³ä½¿ç”¨è€…çš„å®¶ç›®éŒ„ã€‚</li>
<li><strong>pip å®‰è£</strong>è‡³å°ˆæ¡ˆçš„ Python ç’°å¢ƒã€‚</li>
</ol>
<p><strong>å€‹äººæ¨è–¦ä½¿ç”¨å…¨åŸŸå®‰è£</strong>ï¼Œé€£<a href="https://python-poetry.org/docs/#alternative-installation-methods-not-recommended">å®˜æ–¹æ–‡ä»¶ä¹Ÿé€™éº¼èªª</a>ã€‚</p>
<p>å› ç‚º pip å®‰è£æ˜¯ç›´æ¥å®‰è£åˆ°å°ˆæ¡ˆæ‰€å±¬çš„ Python ç’°å¢ƒè£¡ï¼Œè€Œä¸” Poetry æ‰€ä¾è³´çš„å¥—ä»¶éå¸¸å¤šï¼Œ<strong>ç¸½è¨ˆè¶…é 30 å€‹ï¼Œæœƒåš´é‡å½±éŸ¿å°ˆæ¡ˆç’°å¢ƒçš„æ•´æ½”åº¦</strong>ã€‚æ–‡ä»¶ä¸­ä¹Ÿè­¦å‘Šé€™äº›ä¾è³´å¥—ä»¶çš„ç‰ˆæœ¬å¯èƒ½å’Œå°ˆæ¡ˆæ—¢æœ‰çš„ç‰ˆæœ¬<strong>ç”¢ç”Ÿè¡çª</strong>ï¼š</p>
<blockquote>
<p>Be aware that it will also install Poetryâ€™s dependencies which might cause conflicts with other packages.</p>
</blockquote>
<h3 id="å…¨åŸŸå®‰è£è‡³å®¶ç›®éŒ„"><a class="header" href="#å…¨åŸŸå®‰è£è‡³å®¶ç›®éŒ„">å…¨åŸŸå®‰è£è‡³å®¶ç›®éŒ„</a></h3>
<p>æ‰€ä»¥æˆ‘å€‘å°±ä½¿ç”¨å…¨åŸŸå®‰è£å§ï¼åƒè€ƒ Poetry çš„ <a href="https://github.com/python-poetry/poetry#installation">GitHub èªªæ˜</a>ã€‚</p>
<p>macOS / Linuxï¼š</p>
<pre><code>curl -sSL https://install.python-poetry.org | python3 -
</code></pre>
<p>Windowsï¼š</p>
<pre><code>(Invoke-WebRequest -Uri https://install.python-poetry.org -UseBasicParsing).Content | python -
</code></pre>
<p>æ–‡ä»¶è¡¨ç¤ºå®‰è£çš„è·¯å¾‘å¦‚ä¸‹ï¼š</p>
<blockquote>
<p>The installer installs the <code>poetry</code> tool to Poetryâ€™s <code>bin</code> directory. This location depends on your system:</p>
</blockquote>
<ul>
<li><code>$HOME/.local/bin</code> for Unix</li>
<li><code>%APPDATA%\Python\Scripts</code> on Windows</li>
</ul>
<p>ä»¥ macOS ç‚ºä¾‹ï¼Œæ­¤æ™‚å¦‚æœè¦ä¸‹æŒ‡ä»¤ï¼Œå°±éœ€è¦æ‰“å®Œæ•´è·¯å¾‘<code>$HOME/.local/bin/poetry</code>ï¼Œé¡¯ç„¶ä¸å¤ªæ–¹ä¾¿ï¼Œæ‰€ä»¥æˆ‘å€‘éœ€è¦è¨­å®š PATHã€‚</p>
<h3 id="è¨­å®š-path"><a class="header" href="#è¨­å®š-path">è¨­å®š PATH</a></h3>
<p>æ–°å¢<code>poetry</code>æŒ‡ä»¤åŸ·è¡Œæª”æ‰€åœ¨çš„è·¯å¾‘è‡³ PATHã€‚</p>
<p>åœ¨<code>.zshrc</code>æˆ–<code>.bashrc</code>æˆ–<code>.bash_profile</code>æ–°å¢ï¼š</p>
<pre><code>export PATH=$PATH:$HOME/.local/bin
</code></pre>
<p>å­˜æª”å¾Œé‡å•Ÿ shell å³å¯ä½¿ç”¨ã€‚ç›´æ¥åœ¨å‘½ä»¤åˆ—æ‰“ä¸Š<code>poetry</code>æŒ‡ä»¤æ¸¬è©¦ï¼š</p>
<pre><code>â¯ poetry
Poetry version 1.1.13

USAGE
  poetry [-h] [-q] [-v [&lt;...&gt;]] [-V] [--ansi] [--no-ansi] [-n] &lt;command&gt; [&lt;arg1&gt;] ... [&lt;argN&gt;]

...
</code></pre>
<h3 id="è¨­å®š-alias"><a class="header" href="#è¨­å®š-alias">è¨­å®š alias</a></h3>
<p>æ¯”èµ·<code>pip</code>ï¼Œ<code>poetry</code>é€™å€‹æŒ‡ä»¤é¡¯ç„¶å¤ªå†—é•·äº†ï¼æˆ‘å€‘é‚„æ˜¯çµ¦å®ƒä¸€å€‹ alias å§ï¼</p>
<p>åŸºæ–¼å®ƒæ˜¯æˆ‘éå¸¸å¸¸ç”¨çš„æŒ‡ä»¤ï¼Œæˆ‘é¡˜æ„è³¦èˆ‡å®ƒã€Œå–®å­—æ¯ã€alias çš„ç‰¹æ¬Šï¼Œæˆ‘ä½¿ç”¨<code>p</code>ï¼š</p>
<pre><code>alias p='poetry'
</code></pre>
<p>æ¸¬è©¦çµæœï¼š</p>
<pre><code>â¯ p
Poetry version 1.1.13

USAGE
  poetry [-h] [-q] [-v [&lt;...&gt;]] [-V] [--ansi] [--no-ansi] [-n] &lt;command&gt; [&lt;arg1&gt;] ... [&lt;argN&gt;]
</code></pre>
<p>alias æ˜¯æ–¹ä¾¿è‡ªå·±ä½¿ç”¨ï¼Œä½†æœ¬æ–‡åŸºæ–¼è¡¨é”æ¸…æ™°è€ƒé‡ï¼Œä¸‹é¢çš„è§£èªªåŸå‰‡ä¸Šä¸¦ä¸æœƒä½¿ç”¨ alias è¡¨ç¤ºã€‚</p>
<h2 id="åˆå§‹åŒ–-poetry-å°ˆæ¡ˆ"><a class="header" href="#åˆå§‹åŒ–-poetry-å°ˆæ¡ˆ">åˆå§‹åŒ– Poetry å°ˆæ¡ˆ</a></h2>
<p>ç‚ºäº†æ–¹ä¾¿è§£èªªï¼Œæˆ‘å€‘å…ˆå»ºç«‹ä¸€å€‹å…¨æ–°çš„å°ˆæ¡ˆï¼Œåç‚º<code>poetry-demo</code>ã€‚</p>
<p>æŒ‡ä»¤éƒ½å¾ˆç°¡å–®ï¼Œä½†é‚„æ˜¯å»ºè­°å¯ä»¥ä¸€æ­¥ä¸€æ­¥è·Ÿè‘—æ“ä½œã€‚</p>
<p>å°±åƒ git å°ˆæ¡ˆéœ€è¦åˆå§‹åŒ–ï¼ŒPoetry ä¹Ÿéœ€è¦ï¼Œå› ç‚ºæ¯ä¸€å€‹ä½¿ç”¨äº† Poetry çš„å°ˆæ¡ˆä¸­ä¸€å®šè¦æœ‰ä¸€å€‹<code>pyproject.toml</code>ã€‚æ‰€ä»¥å…ˆä¾†åˆå§‹åŒ–ï¼Œä½¿ç”¨<code>poetry init</code>ï¼š</p>
<pre><code>mkdir poetry-demo
cd poetry-demo
poetry init
</code></pre>
<p>æ­¤æ™‚æœƒè·³å‡ºä¸€é€£ä¸²çš„äº’å‹•å°è©±ï¼Œå”åŠ©ä½ å»ºç«‹å°ˆæ¡ˆçš„è³‡æ–™ï¼Œå¤§éƒ¨åˆ†å¯ä»¥ç›´æ¥<code>enter</code>è·³éï¼š</p>
<pre><code>This command will guide you through creating your pyproject.toml config.

Package name [poetry-demo]:
Version [0.1.0]:
Description []:
Author [kyo &lt;odinxp@gmail.com&gt;, n to skip]:
License []:
Compatible Python versions [^3.8]:

Would you like to define your main dependencies interactively? (yes/no) [yes]
</code></pre>
<p>ç›´åˆ°å‡ºç¾ã€ŒWould you like to define your main dependencies interactively? (yes/no) [yes]ã€ï¼Œæˆ‘æœƒé¸ã€Œnoã€ï¼Œéš¨å³è®“ä½ ç¢ºèªæœ¬æ¬¡ç”¢ç”Ÿçš„<code>toml</code>æª”å…§å®¹ï¼š</p>
<pre><code>Would you like to define your development dependencies interactively? (yes/no) [yes] no
Generated file

[tool.poetry]
name = "poetry-demo"
version = "0.1.0"
description = ""
authors = ["kyo &lt;odinxp@gmail.com&gt;"]

[tool.poetry.dependencies]
python = "^3.8"

[tool.poetry.dev-dependencies]

[build-system]
requires = ["poetry-core&gt;=1.0.0"]
build-backend = "poetry.core.masonry.api"
</code></pre>
<p>ä¸¦è©¢å•ä½ ã€ŒDo you confirm generation? (yes/no) [yes]ã€ï¼ŒæŒ‰<code>enter</code>ä½¿ç”¨é è¨­é¸é …æˆ–å›ç­”ã€Œyesã€å‰‡<code>pyproject.toml</code>å»ºç«‹å®Œæˆã€‚</p>
<p>æ­¤æ™‚å°ˆæ¡ˆç›®éŒ„çµæ§‹å¦‚ä¸‹ï¼š</p>
<pre><code>poetry-demo
â””â”€â”€ pyproject.toml

0 directories, 1 file
</code></pre>
<h2 id="ç®¡ç†-poetry-è™›æ“¬ç’°å¢ƒ"><a class="header" href="#ç®¡ç†-poetry-è™›æ“¬ç’°å¢ƒ">ç®¡ç† Poetry è™›æ“¬ç’°å¢ƒ</a></h2>
<p>æˆ‘è¦ºå¾—å­¸ç¿’ Poetry çš„ç¬¬ä¸€é“é—œå¡ï¼Œå°±æ˜¯å®ƒå°æ–¼è™›æ“¬ç’°å¢ƒçš„ç®¡ç†ã€‚</p>
<h3 id="å¼·åˆ¶è™›æ“¬ç’°å¢ƒ"><a class="header" href="#å¼·åˆ¶è™›æ“¬ç’°å¢ƒ">å¼·åˆ¶è™›æ“¬ç’°å¢ƒ</a></h3>
<p>Poetry é è¨­ä¸Šï¼ˆå¯é€é<code>poetry config</code>ä¿®æ”¹ï¼‰æœƒå¼·åˆ¶å¥—ä»¶éƒ½è¦å®‰è£åœ¨è™›æ“¬ç’°å¢ƒä¸­ï¼Œä»¥å…æ±™æŸ“å…¨åŸŸï¼Œæ‰€ä»¥å®ƒæ•´åˆäº†<code>vitrualenv</code>ã€‚</p>
<p>åœ¨åŸ·è¡Œ<code>poetry addã€install</code>ç­‰æŒ‡ä»¤æ™‚ï¼ŒPoetry éƒ½æœƒè‡ªå‹•æª¢æŸ¥<strong>æ˜¯å¦æ­£åœ¨ä½¿ç”¨è™›æ“¬ç’°å¢ƒï¼š</strong></p>
<ul>
<li>å¦‚æœæ˜¯ï¼Œå‰‡æœƒç›´æ¥å®‰è£å¥—ä»¶è‡³ç•¶å‰çš„è™›æ“¬ç’°å¢ƒã€‚</li>
<li>å¦‚æœå¦ï¼Œå‰‡æœƒè‡ªè¡Œå¹«ä½ å»ºç«‹ä¸€å€‹ç¨ç«‹çš„è™›æ“¬ç’°å¢ƒï¼Œå†é€²è¡Œå¥—ä»¶å®‰è£ã€‚</li>
</ul>
<h3 id="å®¹æ˜“æ··æ·†çš„è™›æ“¬ç’°å¢ƒ"><a class="header" href="#å®¹æ˜“æ··æ·†çš„è™›æ“¬ç’°å¢ƒ">å®¹æ˜“æ··æ·†çš„è™›æ“¬ç’°å¢ƒ</a></h3>
<p>Poetry ç›´æ¥æ•´åˆçš„è™›æ“¬ç’°å¢ƒç®¡ç†ç®—æ˜¯ç«‹æ„è‰¯å–„ï¼Œç›¸ç•¶æ–¼æŠŠ<code>pip</code>+<code>venv</code>çš„åŠŸèƒ½æ•´åˆåœ¨ä¸€èµ·ï¼Œä½†å¦‚æ­¤ä¹Ÿå¸¶ä¾†ä¸€å®šçš„è¤‡é›œåº¦ï¼Œå°¤å…¶åœ¨ä½ å·²ç¶“è‡ªè¡Œä½¿ç”¨äº†<code>venv</code>ã€<code>vitrualenv</code>æˆ– <code>pyenv-vitrualenv</code>æˆ–<code>conda</code>ä¾†ç®¡ç†è™›æ“¬ç’°å¢ƒçš„æƒ…æ³ä¸‹ï¼</p>
<p>æ²’éŒ¯ï¼ŒPython çš„è™›æ“¬ç’°å¢ƒç®¡ç†å°±æ˜¯é€™éº¼éº»ç…©ã€‚</p>
<p>å€‹äººå»ºè­°ï¼Œå°æ–°æ‰‹è€Œè¨€ï¼Œæ–¼ Poetry çš„å°ˆæ¡ˆä¸­ï¼Œ<strong>ä¸€å¾‹ä½¿ç”¨ Poetry</strong> ä¾†ç®¡ç†è™›æ“¬ç’°å¢ƒå³å¯ã€‚</p>
<h3 id="ä»¥æŒ‡ä»¤å»ºç«‹è™›æ“¬ç’°å¢ƒ"><a class="header" href="#ä»¥æŒ‡ä»¤å»ºç«‹è™›æ“¬ç’°å¢ƒ">ä»¥æŒ‡ä»¤å»ºç«‹è™›æ“¬ç’°å¢ƒ</a></h3>
<p>ä½¿ç”¨æŒ‡ä»¤<code>poetry env use python</code>ï¼š</p>
<pre><code>â¯ poetry env use python
Creating virtualenv poetry-demo-IEWSZKSE-py3.8 in /Users/kyo/Library/Caches/pypoetry/virtualenvs
Using virtualenv: /Users/kyo/Library/Caches/pypoetry/virtualenvs/poetry-demo-IEWSZKSE-py3.8
</code></pre>
<p>é‡é»èªªæ˜ï¼š</p>
<ul>
<li>Poetry åŸå‰‡ä¸Šæœƒä½¿ç”¨ç›®å‰çš„ Python ç‰ˆæœ¬ä¾†å»ºç«‹è™›æ“¬ç’°å¢ƒï¼Œé€™å–æ±ºæ–¼<code>python</code>åœ¨ä½ çš„ PATH æ˜¯é€£çµåˆ°å“ªå€‹ç‰ˆæœ¬ï¼Œä¹Ÿå¯ä»¥æ˜ç¤ºç‚º<code>python3</code>æˆ–<code>python3.8</code>ï¼Œå‰ææ˜¯ PATH ä¸­ç¢ºå¯¦å­˜åœ¨é€™äº›é€£çµã€‚</li>
<li>Poetry æœƒçµ±ä¸€å°‡è™›æ“¬ç’°å¢ƒå»ºç«‹åœ¨ã€Œç‰¹å®šç›®éŒ„ã€ä¸‹ï¼Œæœ¬ä¾‹ä¸­æ˜¯<code>/Users/kyo/Library/Caches/pypoetry/virtualenvs</code>ã€‚</li>
<li>è™›æ“¬ç’°å¢ƒçš„å‘½åæ¨¡å¼å›ºå®šç‚º<code>å°ˆæ¡ˆåç¨±-äº‚æ•¸-Pythonç‰ˆæœ¬</code>ã€‚</li>
</ul>
<p>è€å¯¦èªªæˆ‘å€‹äººä¸æ˜¯å¾ˆå–œæ­¡é€™æ¨£çš„åšæ³•ï¼Œå› ç‚ºå¦‚æ­¤ä¸€ä¾†å–®ä¸€å°ˆæ¡ˆå…è¨±å»ºç«‹è¤‡æ•¸å€‹è™›æ“¬ç’°å¢ƒï¼ˆPython 3.7ã€ 3.8ã€3.9 å¯ä»¥å„ä¾†ä¸€å€‹ï¼‰ï¼Œå½ˆæ€§ä¹‹é¤˜ä¹Ÿå¢åŠ äº†æ··äº‚ç¨‹åº¦ï¼Œä¸”å‘½åæ¨¡å¼æˆ‘ä¹Ÿä¸å–œæ­¡ï¼Œå¤ªå†—é•·äº†ã€‚</p>
<p>æ—¢ç„¶ Poetry ç®¡ç†çš„å¥—ä»¶ç’°å¢ƒæ˜¯é«˜åº¦ç¶å®šå°ˆæ¡ˆæœ¬èº«çš„ï¼Œæˆ‘æ›´åå¥½<code>venv</code>å¼çš„åšæ³•ï¼Œä¹Ÿå°±æ˜¯<strong>æŠŠè™›æ“¬ç’°å¢ƒæ”¾åˆ°å°ˆæ¡ˆç›®éŒ„å…§</strong>ï¼Œè€Œä¸æ˜¯çµ±ä¸€æ”¾åœ¨ç¨ç«‹çš„ç›®éŒ„ä¸‹ï¼Œè®“è™›æ“¬ç’°å¢ƒèˆ‡å°ˆæ¡ˆå‘ˆç¾<strong>ç›´è§€çš„ä¸€å°ä¸€é—œä¿‚</strong>ã€‚</p>
<p>æ‰€å¹¸ Poetry å…·å‚™é€™æ¨£çš„é¸é …ã€‚</p>
<h3 id="ä¿®æ”¹configå»ºç«‹å°ˆæ¡ˆå…§çš„venvè™›æ“¬ç’°å¢ƒ"><a class="header" href="#ä¿®æ”¹configå»ºç«‹å°ˆæ¡ˆå…§çš„venvè™›æ“¬ç’°å¢ƒ">ä¿®æ”¹<code>config</code>ï¼Œå»ºç«‹å°ˆæ¡ˆå…§çš„<code>.venv</code>è™›æ“¬ç’°å¢ƒ</a></h3>
<p>è®“æˆ‘å€‘ä½¿ç”¨<code>poetry config</code>æŒ‡ä»¤ä¾†æŸ¥çœ‹ Poetry ç›®å‰å¹¾å€‹ä¸»è¦çš„è¨­å®šï¼Œéœ€è¦ä½¿ç”¨<code>--list</code>é€™å€‹åƒæ•¸ï¼š</p>
<pre><code>â¯ poetry config --list
cache-dir = "/Users/kyo/Library/Caches/pypoetry"
experimental.new-installer = true
installer.parallel = true
virtualenvs.create = true
virtualenvs.in-project = false
virtualenvs.path = "{cache-dir}/virtualenvs"
</code></pre>
<p>å…¶ä¸­<code>virtualenvs.create = true</code>è‹¥æ”¹æˆ<code>false</code>ï¼Œå‰‡å¯ä»¥åœæ­¢ Poetry åœ¨ã€Œåµæ¸¬ä¸åˆ°è™›æ“¬ç’°å¢ƒæ™‚æœƒè‡ªè¡Œå»ºç«‹ã€çš„è¡Œç‚ºæ¨¡å¼ï¼Œä½†å»ºè­°é‚„æ˜¯ä¸è¦æ›´å‹•ã€‚</p>
<p>è€Œ<code>virtualenvs.in-project = false</code>å°±æ˜¯æˆ‘å€‘è¦ä¿®æ”¹çš„ç›®æ¨™ï¼š</p>
<pre><code>poetry config virtualenvs.in-project true
</code></pre>
<p>å¥½ï¼Œæˆ‘å€‘å…ˆæŠŠä¹‹å‰å»ºç«‹çš„è™›æ“¬ç’°å¢ƒåˆªé™¤ï¼š</p>
<pre><code>â¯ poetry env remove python
Deleted virtualenv: /Users/kyo/Library/Caches/pypoetry/virtualenvs/poetry-demo-IEWSZKSE-py3.8
</code></pre>
<p>é‡æ–°å»ºç«‹ï¼Œçœ‹çœ‹è¡Œç‚ºæœ‰ä½•å·®ç•°ï¼š</p>
<pre><code>â¯ poetry env use python
Creating virtualenv poetry-demo in /Users/kyo/Documents/code/poetry-demo/.venv
Using virtualenv: /Users/kyo/Documents/code/poetry-demo/.venv
</code></pre>
<p>å¯ä»¥çœ‹å‡ºï¼š</p>
<ul>
<li>è™›æ“¬ç’°å¢ƒçš„è·¯å¾‘æ”¹ç‚ºã€Œå°ˆæ¡ˆçš„æ ¹ç›®éŒ„ã€ã€‚</li>
<li>åç¨±å›ºå®šç‚º<code>.venv</code>ã€‚</li>
</ul>
<p>æˆ‘è¦ºå¾—é€™æ¨£çš„è¨­å®šæ›´åŠ ç°¡æ½”ã€‚</p>
<h3 id="å•Ÿå‹•èˆ‡é€€å‡ºè™›æ“¬ç’°å¢ƒ"><a class="header" href="#å•Ÿå‹•èˆ‡é€€å‡ºè™›æ“¬ç’°å¢ƒ">å•Ÿå‹•èˆ‡é€€å‡ºè™›æ“¬ç’°å¢ƒ</a></h3>
<p>å•Ÿå‹•è™›æ“¬ç’°å¢ƒï¼Œéœ€ç§»è‡³å°ˆæ¡ˆç›®éŒ„åº•ä¸‹ï¼Œä½¿ç”¨æŒ‡ä»¤<code>poetry shell</code>ï¼š</p>
<pre><code>â¯ poetry shell
Spawning shell within /Users/kyo/Documents/code/poetry-demo/.venv
â¯ . /Users/kyo/Documents/code/poetry-demo/.venv/bin/activate 
</code></pre>
<p><code>poetry shell</code>æŒ‡ä»¤æœƒåµæ¸¬ç•¶å‰ç›®éŒ„æˆ–æ‰€å±¬ä¸Šå±¤ç›®éŒ„æ˜¯å¦å­˜åœ¨<code>pyproject.toml</code>ä¾†ç¢ºå®šæ‰€è¦å•Ÿå‹•çš„è™›æ“¬ç’°å¢ƒï¼Œæ‰€ä»¥å¦‚æœä¸ç§»è‡³å°ˆæ¡ˆç›®éŒ„ï¼Œå‰‡æœƒå‡ºç¾ä¸‹åˆ—éŒ¯èª¤ï¼š</p>
<pre><code>â¯ poetry shell

  RuntimeError

  Poetry could not find a pyproject.toml file in /Users/kyo/Documents/code or its parents

  at ~/Library/Application Support/pypoetry/venv/lib/python3.8/site-packages/poetry/core/factory.py:369 in locate
      365â”‚             if poetry_file.exists():
      366â”‚                 return poetry_file
      367â”‚
      368â”‚         else:
    â†’ 369â”‚             raise RuntimeError(
      370â”‚                 "Poetry could not find a pyproject.toml file in {} or its parents".format(
      371â”‚                     cwd
      372â”‚                 )
      373â”‚             )
</code></pre>
<p>å¯ä»¥çœ‹å‡º Poetry çš„éŒ¯èª¤è¨Šæ¯éå¸¸æ¸…æ¥šï¼Œè®“ä½ å¾ˆå®¹æ˜“çŸ¥æ›‰ä¿®æ­£çš„æ–¹å‘ï¼Œé€™æ˜¯ä½œç‚ºä¸€å€‹å‘½ä»¤åˆ—å·¥å…·çš„å¿…è¦å„ªé»ã€‚</p>
<p>é€€å‡ºå°±ç°¡å–®å¤šäº†ï¼Œåªéœ€è¦<code>exit</code>å³å¯ã€‚</p>
<h2 id="poetry-å¸¸ç”¨æŒ‡ä»¤"><a class="header" href="#poetry-å¸¸ç”¨æŒ‡ä»¤">Poetry å¸¸ç”¨æŒ‡ä»¤</a></h2>
<p>Poetry æ˜¯ä¸€å€‹ç¨ç«‹çš„å‘½ä»¤åˆ—å·¥å…·ï¼Œå°±åƒ pyenvï¼Œå®ƒæœ‰è‡ªå·±çš„æŒ‡ä»¤ï¼Œéœ€è¦èŠ±è²»é¡å¤–çš„å¿ƒåŠ›å­¸ç¿’ã€‚é€™å¯èƒ½æ˜¯ä½¿ç”¨ Poetry çš„ç¬¬äºŒé“é—œå¡ã€‚æ‰€å¹¸å’Œ pyenv ä¸€æ¨£ï¼Œå¸¸ç”¨çš„æŒ‡ä»¤å°±é‚£å¹¾å€‹è€Œå·²ï¼Œæ‰€ä»¥ä¸ç”¨æ“”å¿ƒï¼Œä¸‹é¢æœƒä¸€ä¸€ä»‹ç´¹ã€‚</p>
<p>ç¹¼çºŒä½¿ç”¨å‰é¢æéçš„ Flask å’Œ Black é€™å…©å€‹å¥—ä»¶ä¾†åŠ ä»¥ä¾†ç¤ºç¯„ä¸¦èªªæ˜ Poetry çš„å„ªå‹¢èˆ‡å’Œ pip çš„ä¸åŒä¹‹è™•ã€‚æœ¬æ–‡çš„ç¤ºç¯„å°±åªæœƒå®‰è£æˆ–ç§»é™¤é€™å…©å€‹å¥—ä»¶è€Œå·²ã€‚</p>
<h3 id="poetry-æ–°å¢å¥—ä»¶"><a class="header" href="#poetry-æ–°å¢å¥—ä»¶">Poetry æ–°å¢å¥—ä»¶</a></h3>
<p>ä½¿ç”¨æŒ‡ä»¤ï¼š</p>
<pre><code>poetry add
</code></pre>
<p>ç›¸ç•¶æ–¼<code>pip install</code>ï¼Œæˆ‘å€‘ä¾†è©¦è‘—å®‰è£ Flask çœ‹çœ‹æœƒæœ‰ä»€éº¼è®ŠåŒ–ï¼š</p>
<p><a href="https://i.imgur.com/H7pPtsk.png"><img src="https://i.imgur.com/H7pPtsk.png" alt="img" /></a></p>
<p>åœ–ä¸­å¯ä»¥çœ‹å‡º Poetry æ¼‚äº®çš„å‘½ä»¤åˆ—è³‡è¨Šå‘ˆç¾ï¼Œæœƒæ¸…æ¥šå‘ŠçŸ¥ç¸½å…±æ–°å¢äº†å¹¾å€‹å¥—ä»¶ã€‚</p>
<p>æ­¤æ™‚å°ˆæ¡ˆä¸­çš„<code>pyproject.toml</code>ä¹Ÿæœƒç™¼ç”Ÿè®ŠåŒ–ï¼š</p>
<pre><code>...
[tool.poetry.dependencies]
python = "^3.8"
Flask = "^2.1.1"

[tool.poetry.dev-dependencies]

[build-system]
...
</code></pre>
<p>é€™è£¡è¦èªªæ˜ï¼Œå®‰è£ Flaskï¼Œå‰‡<code>pyproject.toml</code>å°±åªæœƒé¡¯ç¤º<code>Flask = "^2.1.1"</code>é€™å€‹ <strong>top-level</strong> çš„ package é …ç›®ï¼Œå…¶é¤˜çš„ä¾è³´å¥—ä»¶<strong>ä¸æœƒ</strong>ç›´æ¥è¨˜éŒ„åœ¨<code>toml</code>æª”ä¸­ã€‚</p>
<p>æˆ‘è¦ºå¾—é€™æ˜¯ä¸€å¤§å„ªé»ï¼Œæ–¹ä¾¿å€åˆ†å“ªäº›æ˜¯ä½ <strong>ä¸»å‹•å®‰è£</strong>çš„ä¸»è¦å¥—ä»¶ï¼Œè€Œå“ªäº›åˆæ˜¯åŸºæ–¼å¥—ä»¶çš„ä¾è³´é—œä¿‚è€Œä¸€ä½µå®‰è£çš„ä¾è³´å¥—ä»¶ã€‚</p>
<h3 id="poetrylock-èˆ‡æ›´æ–°é †åº"><a class="header" href="#poetrylock-èˆ‡æ›´æ–°é †åº">poetry.lock èˆ‡æ›´æ–°é †åº</a></h3>
<p>é™¤äº†<code>pyproject.toml</code>ï¼Œæ­¤æ™‚å°ˆæ¡ˆä¸­é‚„æœƒå¢åŠ ä¸€å€‹æ–°å¢æª”æ¡ˆï¼Œåç‚º<code>poetry.lock</code>ï¼Œå®ƒå¯¦éš›ä¸Šå°±ç›¸ç•¶æ–¼ pip ä¸­çš„<code>requirements.txt</code>ï¼Œè©³ç´°è¨˜è¼‰äº†æ‰€æœ‰å®‰è£çš„å¥—ä»¶èˆ‡ç‰ˆæœ¬ã€‚</p>
<p>ç•¶ä½ ä½¿ç”¨<code>poetry add</code>æŒ‡ä»¤æ™‚ï¼ŒPoetry æœƒè‡ªå‹•ä¾åºå¹«ä½ åšå®Œé€™ä¸‰ä»¶äº‹ï¼š</p>
<ul>
<li>æ›´æ–°<code>pyproject.toml</code>ã€‚</li>
<li>ä¾ç…§<code>pyproject.toml</code>çš„å…§å®¹ï¼Œæ›´æ–°<code>poetry.lock</code>ã€‚</li>
<li>ä¾ç…§<code>poetry.lock</code>çš„å…§å®¹ï¼Œæ›´æ–°è™›æ“¬ç’°å¢ƒã€‚</li>
</ul>
<p>æ›å¥è©±èªªï¼Œ<code>poetry.lock</code>çš„å…§å®¹ä¸»è¦æ˜¯å–æ±ºæ–¼<code>pyproject.toml</code>ï¼Œä½†å…©è€…ä¸¦ä¸æœƒè‡ªå·±é€£å‹•ï¼Œä¸€å®šè¦åŸºæ–¼ç‰¹å®šæŒ‡ä»¤æ‰æœƒé€²è¡ŒåŒæ­¥èˆ‡æ›´æ–°ï¼Œ<code>poetry add</code>å°±æ˜¯ä¸€å€‹å…¸å‹æ¡ˆä¾‹ã€‚</p>
<p>æ­¤æ™‚å°ˆæ¡ˆç›®éŒ„çµæ§‹å¦‚ä¸‹ï¼š</p>
<pre><code>poetry-demo
â”œâ”€â”€ poetry.lock
â””â”€â”€ pyproject.toml

0 directories, 2 files
</code></pre>
<h3 id="æ›´æ–°-poetrylock"><a class="header" href="#æ›´æ–°-poetrylock">æ›´æ–° poetry.lock</a></h3>
<p>ç•¶ä½ è‡ªè¡Œä¿®æ”¹äº†<code>pyproject.toml</code>å…§å®¹ï¼Œæ¯”å¦‚è®Šæ›´ç‰¹å®šå¥—ä»¶çš„ç‰ˆæœ¬èˆ‡ç¯„åœï¼ˆé€™æ˜¯æœ‰å¯èƒ½çš„ï¼Œå°¤å…¶åœ¨æ‰‹å‹•è™•ç†ç‰ˆæœ¬è¡çªçš„æ™‚å€™ï¼‰ï¼Œæ­¤æ™‚<code>poetry.lock</code>çš„å…§å®¹èˆ‡<code>pyproject.toml</code>å‡ºç¾äº†è„«é‰¤ï¼Œå¿…é ˆè®“å®ƒä¾ç…§æ–°çš„<code>pyproject.toml</code>å…§å®¹ä¾†è‡ªæˆ‘æ›´æ–°ï¼Œä½¿ç”¨æŒ‡ä»¤ï¼š</p>
<pre><code>poetry lock
</code></pre>
<p>å¦‚æ­¤ä¸€ä¾†ï¼Œæ‰‹å‹•ä¿®æ”¹çš„å…§å®¹ï¼Œæ‰èƒ½ç¢ºä¿ä¹Ÿæ›´æ–°åˆ°<code>poetry.lock</code>ï¼Œç•¢ç«Ÿè™›æ“¬ç’°å¢ƒå¦‚æœè¦é‡æ–°å»ºç«‹ï¼Œæ˜¯åŸºæ–¼<code>poetry.lock</code>çš„å…§å®¹ä¾†å®‰è£å¥—ä»¶ï¼Œè€Œé<code>pyproject.toml</code>ã€‚</p>
<p>å†æ¬¡å¼·èª¿ï¼Œ<code>poetry.lock</code>ç›¸ç•¶æ–¼ Poetry çš„<code>requirements.txt</code>ã€‚</p>
<h3 id="åˆ—å‡ºå…¨éƒ¨å¥—ä»¶æ¸…å–®--æ¨¹ç‹€é¡¯ç¤º"><a class="header" href="#åˆ—å‡ºå…¨éƒ¨å¥—ä»¶æ¸…å–®--æ¨¹ç‹€é¡¯ç¤º">åˆ—å‡ºå…¨éƒ¨å¥—ä»¶æ¸…å–® + æ¨¹ç‹€é¡¯ç¤º</a></h3>
<p>é¡ä¼¼<code>pip list</code>ï¼Œé€™è£¡ä½¿ç”¨<code>poetry show</code>ï¼š</p>
<pre><code>â¯ poetry show
click              8.1.2  Composable command line interface toolkit
flask              2.1.1  A simple framework for building complex web applications.
importlib-metadata 4.11.3 Read metadata from Python packages
itsdangerous       2.1.2  Safely pass data to untrusted environments and back.
jinja2             3.1.1  A very fast and expressive template engine.
markupsafe         2.1.1  Safely add untrusted strings to HTML/XML markup.
werkzeug           2.1.1  The comprehensive WSGI web application library.
zipp               3.8.0  Backport of pathlib-compatible object wrapper for zip files
</code></pre>
<p>ç‰¹åˆ¥æé†’çš„æ˜¯ï¼Œé€™è£¡çš„æ¸…å–®å…§å®¹ä¸¦ä¸æ˜¯ä¾†è‡ªæ–¼è™›æ“¬ç’°å¢ƒï¼Œé€™é»å’Œ pip ä¸åŒï¼Œè€Œæ˜¯ä¾†è‡ªæ–¼<code>poetry.lock</code>çš„å…§å®¹ã€‚</p>
<p>è€Œ Poetry æœ€ç‚ºäººæ´¥æ´¥æ¨‚é“çš„å°±æ˜¯å®ƒçš„æ¨¹ç‹€é¡¯ç¤º<code>poetry show --tree</code>ï¼š</p>
<pre><code>â¯ poetry show --tree
flask 2.1.1 A simple framework for building complex web applications.
â”œâ”€â”€ click &gt;=8.0
â”‚   â””â”€â”€ colorama *
â”œâ”€â”€ importlib-metadata &gt;=3.6.0
â”‚   â””â”€â”€ zipp &gt;=0.5
â”œâ”€â”€ itsdangerous &gt;=2.0
â”œâ”€â”€ jinja2 &gt;=3.0
â”‚   â””â”€â”€ markupsafe &gt;=2.0
â””â”€â”€ werkzeug &gt;=2.0
</code></pre>
<p>è®“ä¸»è¦å¥—ä»¶èˆ‡å…¶ä¾è³´å¥—ä»¶çš„é—œä¿‚å±¤æ¬¡ï¼Œä¸€ç›®ç­ç„¶ã€‚</p>
<h3 id="å®‰è£å¥—ä»¶è‡³-dev-dependencies"><a class="header" href="#å®‰è£å¥—ä»¶è‡³-dev-dependencies">å®‰è£å¥—ä»¶è‡³ dev-dependencies</a></h3>
<p>æœ‰äº›å¥—ä»¶ï¼Œæ¯”å¦‚<code>pytest</code>ã€<code>flake8</code>ç­‰ç­‰ï¼Œåªæœƒåœ¨é–‹ç™¼ç’°å¢ƒä¸­ä½¿ç”¨ï¼Œç”¢å“çš„éƒ¨ç½²ç’°å¢ƒä¸¦ä¸éœ€è¦ï¼ŒPoetry å…è¨±ä½ å€åˆ†é€™å…©è€…ï¼Œå°‡ä¸Šè¿°çš„å¥—ä»¶å®‰è£è‡³<code>dev-dependencies</code>å€å¡Šï¼Œæ–¹ä¾¿è®“ä½ è¼•é¬†å»ºç«‹ä¸€ä»½æ²’æœ‰é€™äº›å¥—ä»¶çš„è™›æ“¬ç’°å¢ƒã€‚</p>
<p>åœ¨æ­¤ä»¥ Black ç‚ºä¾‹ï¼Œå®‰è£æ–¹å¼å¦‚ä¸‹ï¼š</p>
<pre><code>poetry add black -D
</code></pre>
<p>æˆ–</p>
<pre><code>poetry add black --dev
</code></pre>
<p>çµæœçš„å€åˆ¥é¡¯ç¤ºåœ¨<code>pyproject.toml</code>è£¡ï¼š</p>
<pre><code>...
[tool.poetry.dependencies]
python = "^3.8"
Flask = "^2.1.1"

[tool.poetry.dev-dependencies]
black = "^22.3.0"
...
</code></pre>
<p>å¯ä»¥çœ‹åˆ°<code>black</code>è¢«åˆ—åœ¨ä¸åŒå€å¡Šï¼š<code>tool.poetry.dev-dependencies</code>ã€‚</p>
<p>ç„¶è€Œé€™æ˜¯è¨˜è¼‰ä¸Šçš„å·®ç•°ï¼Œä½¿ç”¨ä¸Šå…·é«”çš„å·®åˆ¥ç‚ºä½•ï¼Ÿä¸‹é¢æœƒå†æ¬¡æåŠï¼Œå¯ä»¥ç†è§£ç‚ºã€Œè¼¸å‡ºå¥—ä»¶ç’°å¢ƒã€ä¸Šçš„å·®ç•°ã€‚</p>
<h3 id="poetry-ç§»é™¤å¥—ä»¶"><a class="header" href="#poetry-ç§»é™¤å¥—ä»¶">Poetry ç§»é™¤å¥—ä»¶</a></h3>
<p>ä½¿ç”¨<code>poetry remove</code>æŒ‡ä»¤ã€‚å’Œ<code>poetry add</code>ä¸€æ¨£ï¼Œå¯ä»¥åŠ ä¸Š<code>-D</code>åƒæ•¸ä¾†ç§»é™¤ç½®æ–¼é–‹ç™¼å€çš„å¥—ä»¶ã€‚</p>
<p>è€Œç§»é™¤å¥—ä»¶æ™‚çš„ã€Œä¾è³´è§£æã€èƒ½åŠ›ï¼Œæ­£æ˜¯ Poetry é é å„ªæ–¼ pip çš„ä¸»è¦ç’°ç¯€ï¼Œå› ç‚º pip æ²’æœ‰å˜›ï¼ä¹Ÿæ˜¯ç‚ºä½•æˆ‘æè­°æ”¹ç”¨ Poetry çš„é—œéµç†ç”±â€”â€”ç‚ºäº†é †åˆ©ç§»é™¤å¥—ä»¶ã€‚</p>
<p>å‰é¢å·²ç¶“æéï¼Œpip çš„<code>pip uninstall</code>åªæœƒç§»é™¤ä½ æ‰€æŒ‡å®šçš„å¥—ä»¶ï¼Œè€Œä¸æœƒé€£åŒä¾è³´å¥—ä»¶ä¸€èµ·ç§»é™¤â€”â€”å› ç‚º pip æ²’æœ‰ã€Œä¾è³´è§£æã€åŠŸèƒ½ã€‚å¦‚æœè²¿ç„¶ç§»é™¤ã€Œå®‰è£æ™‚æ‰€æœ‰ä¸€ä½µå®‰è£ã€çš„ä¾è³´å¥—ä»¶ï¼Œå¯èƒ½æœƒé€ æˆå·¨å¤§çš„ç½é›£ï¼Œè®“åˆ¥çš„å¥—ä»¶å¤±å»æ•ˆç”¨ã€‚</p>
<p>å‰é¢ä¹Ÿèˆ‰äº† Flask å’Œ Black éƒ½å…±åŒä¾è³´<code>click</code>é€™å€‹å¥—ä»¶çš„ä¾‹å­ï¼Œåœ¨äººç‚ºæ‰‹å‹•ç§»é™¤çš„æƒ…æ³ä¸‹ï¼Œä½ å¯èƒ½æœªæ›¾æ³¨æ„ Black ä¹Ÿä¾è³´äº†<code>click</code>ï¼Œçµæœç‚ºäº†ã€Œå¾¹åº•ç§»é™¤ã€Flask çš„æ‰€æœ‰ç›¸é—œå¥—ä»¶ï¼Œä¸å°å¿ƒæŠŠ<code>click</code>ä¹Ÿç§»é™¤æ‰äº†ã€‚</p>
<p>ç•¶ç„¶ï¼Œæˆ‘çŸ¥é“ï¼Œçµ•å¤§éƒ¨åˆ†çš„çœŸå¯¦æƒ…æ³æ˜¯â€”â€”ä½ æ ¹æœ¬ä¸æœƒå»ç§»é™¤ä¸€æ®µæ™‚é–“å‰å®‰è£ä½†å·²ä¸å†ä½¿ç”¨çš„å¥—ä»¶ã€‚</p>
<hr />
<p>å¥½ï¼Œè§£é‡‹äº†å¾ˆå¤šï¼Œæ¥ä¸‹ä¾†å°±æ˜¯ Poetry çš„è¡¨æ¼”äº†ï¼Œå®ƒæœƒå¹«ä½ è™•ç†é€™äº›æ£˜æ‰‹çš„ã€Œå¥—ä»¶ç›¸ä¾æ€§ã€é›£é¡Œï¼Œè®“ä½ è¼•é¬†ç§»é™¤ Flask è€Œä¸å½±éŸ¿ Blackï¼š</p>
<p><a href="https://i.imgur.com/79TycuL.png"><img src="https://i.imgur.com/79TycuL.png" alt="img" /></a></p>
<p>å¯ä»¥å°æ¯”ä¸Šé¢å®‰è£ Flask æ™‚çš„æˆªåœ–ï¼Œç¸½å…±å®‰è£äº† 8 å€‹å¥—ä»¶ï¼Œä½†ç¾åœ¨ç§»é™¤å»åªæœ‰ 7 å€‹â€”â€”æ²’éŒ¯ï¼Œå› ç‚º Poetry çŸ¥é“ Black é‚„éœ€è¦<code>click</code>ï¼ä¸èƒ½ç§»é™¤ï¼š</p>
<pre><code>â¯ poetry show --tree
black 22.3.0 The uncompromising code formatter.
â”œâ”€â”€ click &gt;=8.0.0
â”‚   â””â”€â”€ colorama *
â”œâ”€â”€ mypy-extensions &gt;=0.4.3
â”œâ”€â”€ pathspec &gt;=0.9.0
â”œâ”€â”€ platformdirs &gt;=2
â”œâ”€â”€ tomli &gt;=1.1.0
â””â”€â”€ typing-extensions &gt;=3.10.0.0
</code></pre>
<p>ä¸€å€‹å¥—ä»¶ç›´åˆ°ç’°å¢ƒä¸­çš„<strong>å…¶é¤˜å¥—ä»¶éƒ½ä¸å†ä¾è³´å®ƒ</strong>ï¼ŒPoetry æ‰æœƒå®‰å¿ƒè®“å®ƒè¢«ç§»é™¤ã€‚</p>
<h3 id="è¼¸å‡º-poetry-è™›æ“¬ç’°å¢ƒçš„-requirementstxt"><a class="header" href="#è¼¸å‡º-poetry-è™›æ“¬ç’°å¢ƒçš„-requirementstxt">è¼¸å‡º Poetry è™›æ“¬ç’°å¢ƒçš„ requirements.txt</a></h3>
<p>ç†è«–ä¸Šï¼Œå…¨é¢æ”¹ç”¨ Poetry å¾Œï¼Œå°ˆæ¡ˆä¸­æ˜¯ä¸éœ€è¦å­˜åœ¨<code>requirements.txt</code>ï¼Œå› ç‚ºå®ƒçš„è§’è‰²å·²ç¶“å®Œå…¨è¢«<code>poetry.lock</code>æ‰€å–ä»£ã€‚</p>
<p>ä½†äº‹å¯¦æ˜¯ï¼Œä½ é‚„æ˜¯å¾ˆå¯èƒ½éœ€è¦å®ƒï¼Œç”šè‡³é‚„éœ€è¦éš¨è‘—<code>poetry.lock</code>åŒæ­¥æ›´æ–°å®ƒçš„å…§å®¹ï¼è‡³å°‘å°æˆ‘è€Œè¨€å°±æ˜¯å¦‚æ­¤ï¼Œæˆ‘åœ¨ Docker éƒ¨ç½²ç’°å¢ƒä¸­ä¸¦ä¸ä½¿ç”¨ Poetryï¼Œæ‰€ä»¥æˆ‘éœ€è¦ä¸€ä»½å®Œå…¨ç­‰åƒ¹æ–¼<code>poetry.lock</code>çš„<code>requirements.txt</code>ç”¨æ–¼ Docker éƒ¨ç½²ã€‚</p>
<p>å¦‚æœä½ æƒ³èªªï¼Œé‚£æˆ‘å°±åœ¨ Poetry çš„è™›æ“¬ç’°å¢ƒä¸‹ï¼Œä½¿ç”¨ä»¥å¾€ç†Ÿæ‚‰çš„æŒ‡ä»¤<code>pip freeze &gt; requirements.txt</code>ï¼Œä¾†ç”¢ç”Ÿä¸€ä»½ä¸å°±å¥½äº†ï¼Ÿæˆ‘æœ¬ä¾†ä¹Ÿæ˜¯é€™éº¼æƒ³çš„ã€‚ä½†å¯¦éš›çš„ç”¢å‡ºå»æ˜¯å¦‚æ­¤ï¼ˆç›®å‰ poetry-demo å°ˆæ¡ˆåƒ…å‰©ä¸‹ Blackï¼‰ï¼š</p>
<pre><code>black @ file:///Users/kyo/Library/Caches/pypoetry/artifacts/11/4c/fc/cd6d885e9f5be135b161e365b11312cff5920d7574c8446833d7a9b1a3/black-22.3.0-cp38-cp38-macosx_10_9_x86_64.whl
click @ file:///Users/kyo/Library/Caches/pypoetry/artifacts/f0/23/09/b13d61d1fa8b3cd7c26f67505638d55002e7105849de4c4432c28e1c0d/click-8.1.2-py3-none-any.whl
mypy-extensions @ file:///Users/kyo/Library/Caches/pypoetry/artifacts/b6/a0/b0/a5dc9acd6fd12aba308634f21bb7cf0571448f20848797d7ecb327aa12/mypy_extensions-0.4.3-py2.py3-none-any.whl
...
</code></pre>
<p>é€™å‘ˆç¾å¥½åƒä¸æ˜¯æˆ‘å€‘ä»¥å‰ç†Ÿæ‚‰çš„é‚£ç¨®ï¼š</p>
<pre><code>black==22.3.0
click==8.1.2
mypy_extensions==0.4.3
...
</code></pre>
<p>æ²’éŒ¯ï¼Œåªè¦æ˜¯ä½¿ç”¨<code>poetry add</code>å®‰è£çš„å¥—ä»¶ï¼Œåœ¨<code>pip freeze</code>å°±æœƒè®Šæˆé€™æ¨£ã€‚æ­¤æ™‚æƒ³è¼¸å‡ºé¡ä¼¼<code>requirements.txt</code>çš„æ¨£å¼ï¼Œéœ€è¦ä½¿ç”¨<code>poetry export</code>ã€‚</p>
<p>é è¨­è¼¸å‡ºæœƒæœ‰ hash å€¼ï¼Œä¸æƒ³ç´å…¥å‰‡è¦åŠ ä¸Šåƒæ•¸å»é™¤ã€‚ç¾åœ¨æˆ‘éƒ½æ˜¯ç”¨ä»¥ä¸‹æŒ‡ä»¤ä¾†è¼¸å‡ºï¼š</p>
<pre><code>poetry export -f requirements.txt -o requirements.txt --without-hashes
</code></pre>
<p>æˆ‘å€‘å†çœ‹ä¸€ä¸‹è¼¸å‡ºçµæœï¼Œé›–ç„¶ä¸ç›¡ç›¸åŒï¼Œä½†ä¹Ÿç›¸å»ä¸é äº†â€¦å—ï¼Ÿç­‰ç­‰ï¼Œæ€éº¼æ˜¯ç©ºç™½ï¼Ÿ</p>
<hr />
<p>å› ç‚º<code>poetry export</code>é è¨­åªæœƒè¼¸å‡º<code>toml</code>ä¸­çš„<code>[tool.poetry.dependencies]</code>å€å¡Šçš„å¥—ä»¶ï¼é‚„è¨˜å¾—ä¸Šé¢æˆ‘å€‘æŠŠ Black å®‰è£åˆ°<code>[tool.poetry.dev-dependencies]</code>äº†å—ï¼Ÿ</p>
<p>é¡¯ç„¶ Poetry èªç‚ºä½ çš„ export éœ€æ±‚åŸºæœ¬ä¸Šå°±ç‚ºäº†éƒ¨ç½²ï¼Œä¸¦ä¸éœ€è¦é–‹ç™¼å€çš„å¥—ä»¶ã€‚é€™å€’æ˜¯æ²’éŒ¯ï¼Œä¸éåŸºæ–¼æ¼”ç¤ºéœ€æ±‚ï¼Œæˆ‘å€‘å¿…é ˆè¼¸å‡º<code>[tool.poetry.dev-dependencies]</code>çš„å¥—ä»¶ï¼Œæ‰èƒ½çœ‹åˆ° Blackã€‚</p>
<p>åŠ ä¸Š<code>â€”-dev</code>åƒæ•¸å³å¯ï¼š</p>
<pre><code>poetry export -f requirements.txt -o requirements.txt --without-hashes --dev
</code></pre>
<p>è¼¸å‡ºçš„<code>requirements.txt</code>å…§å®¹ï¼š</p>
<pre><code>black==22.3.0; python_full_version &gt;= "3.6.2"
click==8.1.2; python_version &gt;= "3.7" and python_full_version &gt;= "3.6.2"
colorama==0.4.4; python_version &gt;= "3.7" and python_full_version &gt;= "3.6.2" and platform_system == "Windows"
...
</code></pre>
<p>é›–ç„¶é•·å¾—æœ‰é»ä¸ä¸€æ¨£ï¼Œä½†é€™å€‹æª”æ¡ˆç¢ºå¯¦æ˜¯å¯ä»¥<code>pip install</code>çš„ã€‚</p>
<p>å¾é€™è£¡ä¹Ÿå¯ä»¥çœ‹å‡ºå‰é¢æåŠçš„ã€Œå€åˆ†å¥—ä»¶å®‰è£å€å¡Šã€çš„åƒ¹å€¼äº†â€”â€”æœ‰äº›æ™‚å€™ä¸¦ä¸éœ€è¦è¼¸å‡ºé–‹ç™¼å°ˆç”¨å¥—ä»¶ã€‚</p>
<p><code>poetry export</code>æ‰€æœ‰åƒæ•¸ç”¨æ³•èˆ‡èªªæ˜ï¼Œè«‹åƒè€ƒ<a href="https://python-poetry.org/docs/cli/#export">æ–‡ä»¶</a>ã€‚</p>
<p>æ­¤æ™‚å°ˆæ¡ˆç›®éŒ„çµæ§‹å¦‚ä¸‹ï¼š</p>
<pre><code>poetry-demo
â”œâ”€â”€ poetry.lock
â”œâ”€â”€ pyproject.toml
â””â”€â”€ requirements.txt

0 directories, 3 files
</code></pre>
<h3 id="å°çµpoetry-å¸¸ç”¨æŒ‡ä»¤æ¸…å–®"><a class="header" href="#å°çµpoetry-å¸¸ç”¨æŒ‡ä»¤æ¸…å–®">å°çµï¼šPoetry å¸¸ç”¨æŒ‡ä»¤æ¸…å–®</a></h3>
<p>ç®—ä¾†ç®—å»ï¼ŒPoetry çš„å¸¸ç”¨æŒ‡ä»¤ä¸»è¦æœ‰ä¸‹é¢å¹¾å€‹ï¼š</p>
<ul>
<li><code>poetry add</code></li>
<li><code>poetry remove</code></li>
<li><code>poetry export</code></li>
<li><code>poetry env use</code></li>
<li><code>poetry shell</code></li>
<li><code>poetry show</code></li>
<li><code>poetry init</code></li>
<li><code>poetry install</code></li>
</ul>
<p>å…¶ä¸­ä¸€åŠä»¥ä¸Šï¼Œå–®ä¸€å°ˆæ¡ˆå¯èƒ½åªæœƒç”¨å€‹ä¸€å…©æ¬¡è€Œå·²ï¼Œæ¯”å¦‚<code>init</code>ã€<code>install</code>å’Œ<code>env use</code>ï¼Œå¯¦éš›ä¸Šéœ€è¦å­¸ç¿’çš„æŒ‡ä»¤ä¸¦ä¸å¤šã€‚</p>
<p>é‚£éº¼ï¼Œåªè¦çŸ¥æ›‰é€™äº›æŒ‡ä»¤ï¼Œå°±å¯ä»¥é †åˆ©é‹ç”¨ Poetry äº†å—ï¼Ÿå¯èƒ½æ˜¯ï¼Œä¹Ÿå¯èƒ½å¦ï¼Œæ‰€ä»¥æˆ‘ä¸‹é¢é‚„æœƒå†è£œå…… Poetry çš„å¸¸è¦‹ä½¿ç”¨æƒ…å¢ƒèˆ‡æ“ä½œæ–¹å¼ï¼Œè®“ä½ æ¥ç´ Poetry çš„é˜»åŠ›å¯ä»¥é€²ä¸€æ­¥ä¸‹é™ï¼</p>
<h2 id="poetry-å¸¸è¦‹ä½¿ç”¨æƒ…å¢ƒèˆ‡æ“ä½œ-qa"><a class="header" href="#poetry-å¸¸è¦‹ä½¿ç”¨æƒ…å¢ƒèˆ‡æ“ä½œ-qa">Poetry å¸¸è¦‹ä½¿ç”¨æƒ…å¢ƒèˆ‡æ“ä½œ QA</a></h2>
<p>é€™éƒ¨åˆ†æœƒä»¥ã€Œä½¿ç”¨å ´æ™¯ã€çš„è§’åº¦åˆ‡å…¥ï¼Œä»‹ç´¹ Poetry æ‡‰ç”¨æƒ…å¢ƒèˆ‡æ“ä½œèªªæ˜ï¼Œé‚„åŒ…æ‹¬ä¸€äº›è‡ªå•è‡ªç­”ï¼Œå¦‚ä¸‹ï¼š</p>
<ol>
<li><a href="https://blog.kyomind.tw/python-poetry/#%E4%B8%80%E3%80%81%E6%96%B0%E5%A2%9E%E5%B0%88%E6%A1%88%E4%B8%A6%E4%BD%BF%E7%94%A8-Poetry">æ–°å¢å°ˆæ¡ˆä¸¦ä½¿ç”¨ Poetry</a></li>
<li><a href="https://blog.kyomind.tw/python-poetry/#%E4%BA%8C%E3%80%81%E7%8F%BE%E6%9C%89%E5%B0%88%E6%A1%88%E6%94%B9%E7%94%A8-Poetry">ç¾æœ‰å°ˆæ¡ˆæ”¹ç”¨ Poetry</a></li>
<li><a href="https://blog.kyomind.tw/python-poetry/#%E4%B8%89%E3%80%81%E5%9C%A8%E5%88%A5%E8%87%BA%E4%B8%BB%E6%A9%9F%E5%9B%9E%E5%BE%A9%E5%B0%88%E6%A1%88%E7%8B%80%E6%85%8B">åœ¨åˆ¥è‡ºä¸»æ©Ÿå›å¾©å°ˆæ¡ˆç‹€æ…‹</a></li>
<li><a href="https://blog.kyomind.tw/python-poetry/#%E5%9B%9B%E3%80%81%E6%88%91%E6%83%B3%E8%A6%81%E9%87%8D%E5%BB%BA%E8%99%9B%E6%93%AC%E7%92%B0%E5%A2%83">æˆ‘æƒ³è¦é‡å»ºè™›æ“¬ç’°å¢ƒ</a></li>
<li><a href="https://blog.kyomind.tw/python-poetry/#%E4%BA%94%E3%80%81%E7%82%BA%E4%BB%80%E9%BA%BC%E6%88%91%E4%B8%8D%E5%9C%A8-Docker-%E7%92%B0%E5%A2%83%E4%B8%AD%E4%BD%BF%E7%94%A8-Poetry%EF%BC%9F">ç‚ºä»€éº¼æˆ‘ä¸åœ¨ Docker ç’°å¢ƒä¸­ä½¿ç”¨ Poetryï¼Ÿ</a></li>
<li><a href="https://blog.kyomind.tw/python-poetry/#%E5%85%AD%E3%80%81%E6%88%91%E5%8F%AF%E4%BB%A5%E4%BD%BF%E7%94%A8%E8%87%AA%E5%B7%B1%E7%BF%92%E6%85%A3%E7%9A%84-vituralenv-%E5%97%8E%EF%BC%9F">æˆ‘å¯ä»¥ä½¿ç”¨è‡ªå·±ç¿’æ…£çš„ vituralenv å—ï¼Ÿ</a></li>
</ol>
<h3 id="ä¸€æ–°å¢å°ˆæ¡ˆä¸¦ä½¿ç”¨-poetry"><a class="header" href="#ä¸€æ–°å¢å°ˆæ¡ˆä¸¦ä½¿ç”¨-poetry">ä¸€ã€æ–°å¢å°ˆæ¡ˆä¸¦ä½¿ç”¨ Poetry</a></h3>
<p>é€™æ˜¯æœ€ç†æƒ³çš„ç‹€æ…‹ï¼Œæ²’æœ‰éå»çš„ã€ŒåŒ…è¢±ã€ï¼Œå¯è¬‚æ˜¯æœ€èƒ½è¼•é¬†æ¡ç”¨ Poetry çš„æƒ…å¢ƒã€‚</p>
<p>ä½¿ç”¨é †åºä¸å¤–ä¹æ˜¯ï¼š</p>
<ol>
<li><code>poetry init</code>ï¼šåˆå§‹åŒ–ï¼Œå»ºç«‹<code>pyproject.toml</code>ã€‚</li>
<li><code>poetry env use python</code>ï¼šå»ºç«‹å°ˆæ¡ˆè™›æ“¬ç’°å¢ƒä¸¦ä½¿ç”¨ã€‚</li>
<li><code>poetry shell</code>ï¼šé€²å…¥å°ˆæ¡ˆä½†è™›æ“¬ç’°å¢ƒé‚„æœªå•Ÿå‹•ï¼Œä»¥é€™å€‹æŒ‡ä»¤å•Ÿå‹•ã€‚å¦‚æœä½¿ç”¨æœ¬æŒ‡ä»¤æ™‚è™›æ“¬ç’°å¢ƒ<strong>é‚„ä¸å­˜åœ¨æˆ–å·²ç§»é™¤</strong>ï¼Œå‰‡æœƒç›´æ¥è‡ªå‹•å¹«ä½ å»ºç«‹è™›æ“¬ç’°å¢ƒä¸¦ä½¿ç”¨ã€‚</li>
<li><code>poetry add</code>ï¼šæ–°å¢å¥—ä»¶ï¼Œå¿…è¦ä½¿ç”¨<code>-D</code>åƒæ•¸æ–°å¢è‡³ dev å€å¡Šã€‚</li>
<li><code>poetry remove</code>ï¼šç§»é™¤å¥—ä»¶ï¼Œè‹¥æ˜¯ç§»é™¤ dev å€å¡Šçš„å¥—ä»¶ï¼Œéœ€è¦åŠ ä¸Š<code>-D</code>åƒæ•¸ã€‚</li>
</ol>
<p>é€™éƒ¨åˆ†å’Œå‰é¢å…§å®¹æ²’æœ‰å·®åˆ¥ï¼Œå› ç‚ºå‰é¢å…§å®¹å°±æ˜¯ä»¥å…¨æ–°å°ˆæ¡ˆä½œç‚ºåŸºç¤ã€‚</p>
<h3 id="äºŒç¾æœ‰å°ˆæ¡ˆæ”¹ç”¨-poetry"><a class="header" href="#äºŒç¾æœ‰å°ˆæ¡ˆæ”¹ç”¨-poetry">äºŒã€ç¾æœ‰å°ˆæ¡ˆæ”¹ç”¨ Poetry</a></h3>
<p>é€™æ˜¯æ¥µç‚ºå¸¸è¦‹çš„éœ€æ±‚ï¼Œä½†ä¸¦æ²’æœ‰å¾ˆæ­£å¼çš„åšæ³•ï¼Œå› ç‚ºä¸å­˜åœ¨<code>poetry import</code>ä¹‹é¡çš„æŒ‡ä»¤ã€‚</p>
<p>é¦–å…ˆè¦è€ƒé‡çš„å°±æ˜¯ï¼šè¦æ€éº¼æŠŠ<code>requirements.txt</code>çš„æ‰€æœ‰é …ç›®åŠ åˆ°<code>pyproject.toml</code>ä¸­å‘¢ï¼Ÿç¶“éä¸€ç•ª Googleï¼ŒåŸºæœ¬ä¸Š<a href="https://stackoverflow.com/questions/62764148/how-to-import-requirements-txt-from-an-existing-project-using-poetry">åªèƒ½åœŸæ³•ç…‰é‹¼</a>ï¼š</p>
<pre><code>cat requirements.txt | xargs poetry add
</code></pre>
<p>åœ¨é€™å€‹éç¨‹æ˜¯æœ‰å¯èƒ½é‡åˆ°å•é¡Œçš„ï¼Œå› ç‚º Poetry å°å¥—ä»¶çš„ç‰ˆæœ¬è¡çªæ¯”è¼ƒæ•æ„Ÿï¼Œæ‰€ä»¥åœ¨<code>requirements.txt</code>èƒ½æ­£å¸¸å®‰è£çš„é …ç›®ï¼Œåœ¨ä¸Šè¿°æŒ‡ä»¤çš„éç¨‹ä¸­å¯èƒ½æœƒå‡ºéŒ¯ã€‚</p>
<p>é‚£æ€éº¼è¾¦ï¼Ÿåªèƒ½ç…§è‘—éŒ¯èª¤è¨Šæ¯å»ä¿®æ­£<code>requirements.txt</code>ä¸­çš„å¥—ä»¶ç‰ˆæœ¬ã€‚</p>
<p>ä¸¦ä¸”ï¼Œé€™å€‹ import åšæ³•å¯¦åœ¨æ˜¯ä¸å¾—å·²ï¼Œå› ç‚ºæˆ‘å€‘æœ€æ—©ä»‹ç´¹<code>pyproject.toml</code>æ™‚æœ‰æåˆ°ï¼ŒåŸå‰‡ä¸Šå®ƒåªæœƒè¨˜è¼‰ã€Œä¸»å¥—ä»¶ã€ï¼Œä½†é€™å€‹åšæ³•ç›¸ç•¶æ–¼æŠŠ<code>requirements.txt</code>ä¸­çš„<strong>æ‰€æœ‰å¥—ä»¶éƒ½ç•¶ä½œä¸»å¥—ä»¶</strong>ä¾†<code>add</code>äº†ï¼â€”â€”ç•¢ç«Ÿ<code>requirements.txt</code>æ²’æœ‰èƒ½åŠ›å€åˆ†ä¸»å¥—æ¡ˆèˆ‡ä¾è³´å¥—ä»¶ï¼Œéƒ½æ˜¯ã€Œä¸€è¦–åŒä»ã€åœ°åˆ—å‡ºã€‚</p>
<p>å¦‚æ­¤åšæ³•è®“å°ˆæ¡ˆçš„å¥—ä»¶å¤±å»äº†ä¸»å¾ä¹‹åˆ†ï¼Œæ—¥å¾Œæƒ³è¦ç§»é™¤ä¸»å¥—ä»¶æ™‚ï¼Œå°±éœ€è¦æ¯”è¼ƒå¤šå¿ƒåŠ›å»åˆ†è¾¨ä¸»å¾ï¼Œæ¯”å¦‚ä½¿ç”¨<code>poetry show --tree</code>å»ä¸€ä¸€æª¢è¦–ï¼Œçµ‚ç©¶æ˜¯éº»ç…©çš„äº‹ã€‚</p>
<p>å®Œæˆè½‰æ›å¾Œï¼Œä¿éšªèµ·è¦‹ï¼Œé‡å»ºä¸€å€‹è™›æ“¬ç’°å¢ƒæœƒæ¯”è¼ƒåˆé©ã€‚</p>
<h3 id="ä¸‰åœ¨åˆ¥è‡ºä¸»æ©Ÿå›å¾©å°ˆæ¡ˆç‹€æ…‹"><a class="header" href="#ä¸‰åœ¨åˆ¥è‡ºä¸»æ©Ÿå›å¾©å°ˆæ¡ˆç‹€æ…‹">ä¸‰ã€åœ¨åˆ¥è‡ºä¸»æ©Ÿå›å¾©å°ˆæ¡ˆç‹€æ…‹</a></h3>
<p>é€™ä¹Ÿæ˜¯éå¸¸å¸¸è¦‹çš„éœ€æ±‚ã€‚</p>
<p>ç¬¬ä¸€æ­¥ç•¶ç„¶æ˜¯<code>git clone</code>å°ˆæ¡ˆï¼Œæ­¤æ™‚å°ˆæ¡ˆä¸­å·²ç¶“æœ‰ Poetry æ‰€éœ€çš„å¿…è¦è³‡è¨Šäº†â€”â€”ä¹Ÿå°±æ˜¯<code>pyproject.toml</code>å’Œ<code>poetry.lock</code>ã€‚</p>
<p>ä½ é‚„ç¼ºå°‘çš„åƒ…åƒ…æ˜¯è™›æ“¬ç’°å¢ƒã€‚å¦‚æœæ˜¯å…¨æ–°çš„ä¸»æ©Ÿï¼Œå‰‡é‚„å¾—å…ˆå®‰è£ã€è¨­å®šå¥½ Poetryã€‚</p>
<p>ç§»è‡³å°ˆæ¡ˆç›®éŒ„åº•ä¸‹ï¼Œç„¶å¾Œä¾åºæ“ä½œï¼š</p>
<ol>
<li><code>poetry env use python</code>ï¼šå»ºç«‹å°ˆæ¡ˆè™›æ“¬ç’°å¢ƒä¸¦ä½¿ç”¨ã€‚å¦‚æœä½ æ‡¶å¾—æ‰“é€™éº¼é•·çš„æŒ‡ä»¤ï¼Œç›´æ¥<code>poetry shell</code>ä¹Ÿæ˜¯å¯ä»¥ã€‚</li>
<li><code>poetry install</code>ï¼šå› ç‚ºæ˜¯èˆŠå°ˆæ¡ˆï¼Œä¸å†éœ€è¦<code>init</code>ï¼Œç›´æ¥å¾<code>poetry.lock</code>å®‰è£å¥—ä»¶ï¼ä½¿ç”¨çš„å°±æ˜¯é€™å€‹æŒ‡ä»¤ï¼Œé¡ä¼¼<code>npm install</code>ã€‚</li>
</ol>
<h3 id="å››æˆ‘æƒ³è¦é‡å»ºè™›æ“¬ç’°å¢ƒ"><a class="header" href="#å››æˆ‘æƒ³è¦é‡å»ºè™›æ“¬ç’°å¢ƒ">å››ã€æˆ‘æƒ³è¦é‡å»ºè™›æ“¬ç’°å¢ƒ</a></h3>
<p>åœ¨ä½¿ç”¨å°ˆæ¡ˆå…§è™›æ“¬ç’°å¢ƒæ–¹æ¡ˆï¼Œä¹Ÿå°±æ˜¯<code>.venv</code>çš„å‰æä¸‹ï¼Œæƒ³è¦åˆªé™¤é€™å€‹è™›æ“¬ç’°å¢ƒä¸¦åŠ ä»¥é‡å»ºï¼Œä¹Ÿä¸éœ€è¦ä½¿ç”¨<code>poetry env remove python</code>æŒ‡ä»¤äº†ï¼Œå› ç‚ºæœƒå‡ºéŒ¯ã€‚</p>
<p>é‚„æœ‰æ›´ç°¡å–®æš´åŠ›çš„æ–¹å¼ï¼Œæ˜¯ä»€éº¼å‘¢ï¼Ÿç•¶ç„¶æ˜¯ç›´æ¥åˆªé™¤<code>.venv</code>è³‡æ–™å¤¾å³å¯ã€‚</p>
<p>ç„¶å¾Œå†<code>poetry env use python</code>æˆ–<code>poetry shell</code>å»ºä¸€å€‹æ–°çš„å°±å¥½ã€‚</p>
<h3 id="äº”ç‚ºä»€éº¼æˆ‘ä¸åœ¨-docker-ç’°å¢ƒä¸­ä½¿ç”¨-poetry"><a class="header" href="#äº”ç‚ºä»€éº¼æˆ‘ä¸åœ¨-docker-ç’°å¢ƒä¸­ä½¿ç”¨-poetry">äº”ã€ç‚ºä»€éº¼æˆ‘ä¸åœ¨ Docker ç’°å¢ƒä¸­ä½¿ç”¨ Poetryï¼Ÿ</a></h3>
<p>å› ç‚ºå•Ÿå‹•å®¹å™¨å¾Œéœ€è¦å…ˆå®‰è£ Poetry åˆ°å…¨åŸŸï¼Œæˆ–æ‰“åŒ…ä¸€å€‹å¸¶æœ‰ Poetry çš„ imageï¼Œå…©è€…éƒ½æœƒå¢åŠ æ–°çš„è—•åˆèˆ‡ä¾è³´ï¼Œæˆ‘è¦ºå¾—ä¸¦ä¸å¦¥ç•¶ã€‚</p>
<p>æ‰€å¹¸ Poetry ä¾èˆŠå¯ä»¥è¼¸å‡º<code>requirements.txt</code>ï¼ŒDocker éƒ¨ç½²ç’°å¢ƒå°±ç¹¼çºŒä½¿ç”¨èˆŠæ–¹æ¡ˆå³å¯ï¼Œè€Œä¸” Poetry æœ¬ä¾†ä¸»è¦å°±æ˜¯ç”¨æ–¼ã€Œé–‹ç™¼ã€æ™‚çš„å¥—ä»¶ç®¡ç†ï¼Œå°éƒ¨ç½²å·®åˆ¥ä¸å¤§ã€‚</p>
<h3 id="å…­æˆ‘å¯ä»¥ä½¿ç”¨è‡ªå·±ç¿’æ…£çš„-vituralenv-å—"><a class="header" href="#å…­æˆ‘å¯ä»¥ä½¿ç”¨è‡ªå·±ç¿’æ…£çš„-vituralenv-å—">å…­ã€æˆ‘å¯ä»¥ä½¿ç”¨è‡ªå·±ç¿’æ…£çš„ vituralenv å—ï¼Ÿ</a></h3>
<p>ç•¶ç„¶å¯ä»¥ã€‚</p>
<p>æˆ‘æœ¬ä¾†ä¹Ÿç¹¼çºŒä½¿ç”¨<code>pyenv</code>çš„<code>vituralenv</code>ï¼Œä½†å…©è€…æœ‰æ™‚å€™ä¹Ÿæ˜¯æœƒå°å°æ‰“æ¶ï¼Œå¾Œä¾†é‚„æ˜¯ç´¢æ€§ç”¨ Poetry çš„è™›æ“¬ç’°å¢ƒå°±å¥½ã€‚ä¸€å€‹å°ˆæ¡ˆå°æ‡‰ä¸€å€‹è™›æ“¬ç’°å¢ƒï¼Œæˆ‘èªç‚ºé‚„æ˜¯æ¯”è¼ƒç°¡æ½”çš„åšæ³•ã€‚</p>
<hr />
<h2 id="çµèª"><a class="header" href="#çµèª">çµèª</a></h2>
<p>ä½¿ç”¨ Poetry ä¾†ç®¡ç†å°ˆæ¡ˆçš„å¥—ä»¶èˆ‡è™›æ“¬ç’°å¢ƒï¼Œé›–ç„¶éœ€è¦ä¸€å®šçš„å­¸ç¿’æˆæœ¬ï¼Œä½†å¸¶ä¾†çš„æ•ˆç›Šé‚„æ˜¯ç›¸ç•¶å¯è§€çš„ï¼Œå°¤å…¶åœ¨ä½ å¸Œæœ›èƒ½ä¹¾æ·¨ä¸”å®‰å¿ƒåœ°ç§»é™¤å¥—ä»¶çš„æ™‚å€™ã€‚</p>
<p>åˆ¥å†çŒ¶è±«ï¼Œå¾ä»Šå¤©èµ·ï¼ŒåŠ å…¥ Poetry çš„è¡Œåˆ—å§ï¼</p>
<h3 id="åƒè€ƒ"><a class="header" href="#åƒè€ƒ">åƒè€ƒ</a></h3>
<ul>
<li>https://python-poetry.org/docs/</li>
<li>https://github.com/python-poetry/poetry</li>
<li>https://github.com/python-poetry/poetry/issues/3248</li>
<li>https://github.com/python-poetry/poetry/issues/5185</li>
<li><a href="https://note.koko.guru/posts/using-poetry-manage-python-package-environments">Python - å–ä»£ Pipenv çš„æ–°å¥—ä»¶ç®¡ç†å™¨ Poetry</a></li>
<li><a href="https://greyli.com/poetry-a-better-choice-than-pipenv/">ç›¸æ¯” Pipenvï¼ŒPoetry æ˜¯ä¸€å€‹æ›´å¥½çš„é¸æ“‡</a></li>
<li><a href="https://shazi.info/pip-pipenv-%E5%92%8C-poetry-%E7%9A%84%E9%81%B8%E6%93%87/">pip, pipenv å’Œ poetry çš„é¸æ“‡</a></li>
<li><a href="https://realpython.com/dependency-management-python-poetry/">Dependency Management With Python Poetry</a></li>
<li><a href="https://pythonhunter.org/episodes/ep15">Ep 15. å’Œ PyPA çš„æˆå“¡èŠèŠ Python é–‹ç™¼å·¥ä½œæµ</a></li>
</ul>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../python/poetry.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../python/uv-uvx-cheatsheet.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../python/poetry.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../python/uv-uvx-cheatsheet.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>



        <script>
            window.playground_line_numbers = true;
        </script>

        <script>
            window.playground_copyable = true;
        </script>

        <script src="../ace.js"></script>
        <script src="../mode-rust.js"></script>
        <script src="../editor.js"></script>
        <script src="../theme-dawn.js"></script>
        <script src="../theme-tomorrow_night.js"></script>

        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->
        <script src="../mermaid.min.js"></script>
        <script src="../mermaid-init.js"></script>



    </div>
    </body>
</html>
