<!DOCTYPE HTML>
<html lang="zh" class="rust sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>套件管理：聲明 vs 使用 完全對照 - Jason Notes</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="../highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="../tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "../";
            const default_light_theme = "rust";
            const default_dark_theme = "navy";
            window.path_to_searchindex_js = "../searchindex.js";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../toc.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('rust')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
                sidebar_toggle.checked = false;
            }
            if (sidebar === 'visible') {
                sidebar_toggle.checked = true;
            } else {
                html.classList.remove('sidebar-visible');
            }
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Jason Notes</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/shihyu/jason_note" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <div class="search-wrapper">
                            <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                            <div class="spinner-wrapper">
                                <i class="fa fa-spinner fa-spin"></i>
                            </div>
                        </div>
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="套件管理聲明-vs-使用-完全對照"><a class="header" href="#套件管理聲明-vs-使用-完全對照">套件管理：聲明 vs 使用 完全對照</a></h1>
<h2 id="-核心概念對比"><a class="header" href="#-核心概念對比">🎯 核心概念對比</a></h2>
<p>多數現代語言都採用 <strong>二階段模式</strong>：</p>
<ol>
<li><strong>階段1</strong>：在配置檔案中<strong>聲明依賴</strong>（我需要什麼）</li>
<li><strong>階段2</strong>：在代碼中<strong>導入使用</strong>（我要用什麼）</li>
</ol>
<hr />
<h2 id="-各語言對應規則詳細比較"><a class="header" href="#-各語言對應規則詳細比較">📊 各語言對應規則詳細比較</a></h2>
<h3 id="-rust"><a class="header" href="#-rust">🦀 Rust</a></h3>
<h4 id="依賴聲明cargotoml"><a class="header" href="#依賴聲明cargotoml">依賴聲明（Cargo.toml）</a></h4>
<pre><code class="language-toml">[dependencies]
serde = { version = "1.0", features = ["derive"] }
tokio = { version = "1.0", features = ["full"] }
my_math = { package = "advanced-math", version = "2.0" }  # 別名
</code></pre>
<h4 id="導入使用rs-檔案"><a class="header" href="#導入使用rs-檔案">導入使用（.rs 檔案）</a></h4>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>use serde::{Serialize, Deserialize};           // ✅ 對應 serde
use tokio::sync::mpsc;                        // ✅ 對應 tokio  
use my_math::complex::Complex;                // ✅ 對應 my_math（別名）
use advanced_math::complex::Complex;          // ❌ 錯誤！要用別名 my_math
use some_other::lib;                         // ❌ 錯誤！沒在 Cargo.toml 聲明
<span class="boring">}</span></code></pre></pre>
<p><strong>核心規則</strong>：use 的第一段必須是 Cargo.toml 中的<strong>依賴名稱</strong>（或別名）</p>
<hr />
<h3 id="-python"><a class="header" href="#-python">🐍 Python</a></h3>
<h4 id="依賴聲明requirementstxt-或-pyprojecttoml"><a class="header" href="#依賴聲明requirementstxt-或-pyprojecttoml">依賴聲明（requirements.txt 或 pyproject.toml）</a></h4>
<pre><code class="language-txt"># requirements.txt
requests==2.28.0
pandas&gt;=1.5.0
numpy
scikit-learn==1.1.0
</code></pre>
<pre><code class="language-toml"># pyproject.toml
[project.dependencies]
requests = "&gt;=2.28.0"
pandas = "&gt;=1.5.0"
</code></pre>
<h4 id="導入使用py-檔案"><a class="header" href="#導入使用py-檔案">導入使用（.py 檔案）</a></h4>
<pre><code class="language-python">import requests                    # ✅ 對應 requests
from pandas import DataFrame       # ✅ 對應 pandas
import numpy as np                 # ✅ 對應 numpy
from sklearn import metrics       # ✅ 對應 scikit-learn（套件名 != import 名！）
import tensorflow                  # ❌ 錯誤！沒在依賴中聲明
</code></pre>
<p><strong>易混淆點</strong>：</p>
<ul>
<li>套件安裝名：<code>scikit-learn</code></li>
<li>導入名：<code>sklearn</code></li>
<li>這是 Python 的特殊情況！</li>
</ul>
<hr />
<h3 id="-java"><a class="header" href="#-java">☕ Java</a></h3>
<h4 id="依賴聲明pomxml-或-buildgradle"><a class="header" href="#依賴聲明pomxml-或-buildgradle">依賴聲明（pom.xml 或 build.gradle）</a></h4>
<pre><code class="language-xml">&lt;!-- Maven pom.xml --&gt;
&lt;dependencies&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;
        &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;
        &lt;version&gt;2.14.0&lt;/version&gt;
    &lt;/dependency&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;org.springframework&lt;/groupId&gt;
        &lt;artifactId&gt;spring-context&lt;/artifactId&gt;
        &lt;version&gt;5.3.0&lt;/version&gt;
    &lt;/dependency&gt;
&lt;/dependencies&gt;
</code></pre>
<pre><code class="language-gradle">// Gradle build.gradle
dependencies {
    implementation 'com.fasterxml.jackson.core:jackson-core:2.14.0'
    implementation 'org.springframework:spring-context:5.3.0'
}
</code></pre>
<h4 id="導入使用java-檔案"><a class="header" href="#導入使用java-檔案">導入使用（.java 檔案）</a></h4>
<pre><code class="language-java">import com.fasterxml.jackson.core.JsonParser;           // ✅ 對應 jackson-core
import org.springframework.context.ApplicationContext;   // ✅ 對應 spring-context
import com.google.gson.Gson;                            // ❌ 錯誤！沒在依賴中聲明
</code></pre>
<p><strong>核心規則</strong>：import 路徑必須來自已聲明的 JAR 檔案</p>
<hr />
<h3 id="-javascriptnodejs"><a class="header" href="#-javascriptnodejs">🟨 JavaScript/Node.js</a></h3>
<h4 id="依賴聲明packagejson"><a class="header" href="#依賴聲明packagejson">依賴聲明（package.json）</a></h4>
<pre><code class="language-json">{
  "dependencies": {
    "express": "^4.18.0",
    "lodash": "^4.17.21",
    "react": "^18.2.0",
    "@types/node": "^18.0.0"
  },
  "devDependencies": {
    "typescript": "^4.8.0"
  }
}
</code></pre>
<h4 id="導入使用jsts-檔案"><a class="header" href="#導入使用jsts-檔案">導入使用（.js/.ts 檔案）</a></h4>
<pre><code class="language-javascript">// CommonJS
const express = require('express');        // ✅ 對應 express
const _ = require('lodash');               // ✅ 對應 lodash
const fs = require('fs');                  // ✅ Node.js 內建，不需聲明

// ES Modules
import express from 'express';             // ✅ 對應 express
import React from 'react';                // ✅ 對應 react
import { readFile } from 'fs/promises';   // ✅ Node.js 內建
import axios from 'axios';                // ❌ 錯誤！沒在 package.json 聲明
</code></pre>
<p><strong>特殊情況</strong>：</p>
<ul>
<li>scoped packages：<code>@types/node</code> → <code>import type { ... } from 'node'</code></li>
<li>內建模組不需聲明：<code>fs</code>, <code>path</code>, <code>http</code> 等</li>
</ul>
<hr />
<h3 id="-cnet"><a class="header" href="#-cnet">🏗️ C#/.NET</a></h3>
<h4 id="依賴聲明csproj-或-packagesconfig"><a class="header" href="#依賴聲明csproj-或-packagesconfig">依賴聲明（.csproj 或 packages.config）</a></h4>
<pre><code class="language-xml">&lt;!-- .csproj --&gt;
&lt;Project Sdk="Microsoft.NET.Sdk"&gt;
  &lt;ItemGroup&gt;
    &lt;PackageReference Include="Newtonsoft.Json" Version="13.0.1" /&gt;
    &lt;PackageReference Include="Microsoft.EntityFrameworkCore" Version="7.0.0" /&gt;
    &lt;PackageReference Include="Serilog" Version="2.12.0" /&gt;
  &lt;/ItemGroup&gt;
&lt;/Project&gt;
</code></pre>
<h4 id="導入使用cs-檔案"><a class="header" href="#導入使用cs-檔案">導入使用（.cs 檔案）</a></h4>
<pre><code class="language-csharp">using Newtonsoft.Json;                           // ✅ 對應 Newtonsoft.Json
using Microsoft.EntityFrameworkCore;             // ✅ 對應 Microsoft.EntityFrameworkCore
using Serilog;                                   // ✅ 對應 Serilog
using System.Collections.Generic;                // ✅ .NET 內建，不需聲明
using Some.Unknown.Library;                      // ❌ 錯誤！沒在 .csproj 聲明
</code></pre>
<hr />
<h3 id="-go"><a class="header" href="#-go">🔷 Go</a></h3>
<h4 id="依賴聲明gomod"><a class="header" href="#依賴聲明gomod">依賴聲明（go.mod）</a></h4>
<pre><code class="language-go">module myproject

go 1.19

require (
    github.com/gin-gonic/gin v1.9.0
    github.com/go-redis/redis/v8 v8.11.5
    golang.org/x/crypto v0.7.0
)
</code></pre>
<h4 id="導入使用go-檔案"><a class="header" href="#導入使用go-檔案">導入使用（.go 檔案）</a></h4>
<pre><code class="language-go">import (
    "fmt"                                    // ✅ Go 標準庫，不需聲明
    "net/http"                              // ✅ Go 標準庫
    "github.com/gin-gonic/gin"              // ✅ 對應 go.mod 中的 gin
    "github.com/go-redis/redis/v8"          // ✅ 對應 go.mod 中的 redis
    "golang.org/x/crypto/bcrypt"            // ✅ 對應 go.mod 中的 crypto
    "github.com/unknown/package"            // ❌ 錯誤！沒在 go.mod 聲明
)
</code></pre>
<p><strong>特色</strong>：Go 的 import 路徑就是完整的模組路徑</p>
<hr />
<h2 id="-容易搞混的情況對比"><a class="header" href="#-容易搞混的情況對比">🎭 容易搞混的情況對比</a></h2>
<h3 id="1-套件名-vs-導入名不一致"><a class="header" href="#1-套件名-vs-導入名不一致">1. 套件名 vs 導入名不一致</a></h3>
<div class="table-wrapper"><table><thead><tr><th>語言</th><th>依賴聲明名</th><th>實際導入名</th><th>原因</th></tr></thead><tbody>
<tr><td><strong>Python</strong></td><td><code>scikit-learn</code></td><td><code>sklearn</code></td><td>歷史原因，套件名有連字號但模組名沒有</td></tr>
<tr><td><strong>Python</strong></td><td><code>pillow</code></td><td><code>PIL</code></td><td>PIL 是舊名稱，但導入時仍用舊名</td></tr>
<tr><td><strong>Rust</strong></td><td><code>my-crate</code></td><td><code>my_crate</code></td><td>Rust 自動轉換連字號為底線</td></tr>
<tr><td><strong>JavaScript</strong></td><td><code>@types/node</code></td><td>直接用 <code>node</code> 類型</td><td>scoped package 特殊處理</td></tr>
</tbody></table>
</div>
<h3 id="2-別名處理"><a class="header" href="#2-別名處理">2. 別名處理</a></h3>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>// Rust - Cargo.toml
[dependencies]
math = { package = "advanced-math", version = "1.0" }

// 使用
use math::complex::Complex;  // ✅ 用別名
// use advanced_math::complex::Complex;  // ❌ 不能用原名
<span class="boring">}</span></code></pre></pre>
<pre><code class="language-python"># Python
import numpy as np          # ✅ 導入時別名
import pandas as pd         # ✅ 導入時別名
# 但依賴聲明時用原名：numpy, pandas
</code></pre>
<pre><code class="language-javascript">// JavaScript
import { readFile as read } from 'fs/promises';  // ✅ 導入時別名
// 但 package.json 不需要聲明 fs
</code></pre>
<h3 id="3-內建庫處理"><a class="header" href="#3-內建庫處理">3. 內建庫處理</a></h3>
<div class="table-wrapper"><table><thead><tr><th>語言</th><th>內建庫是否需要聲明</th><th>範例</th></tr></thead><tbody>
<tr><td><strong>Rust</strong></td><td>❌ 不需要</td><td><code>std</code>, <code>core</code>, <code>alloc</code></td></tr>
<tr><td><strong>Python</strong></td><td>❌ 不需要</td><td><code>os</code>, <code>sys</code>, <code>json</code></td></tr>
<tr><td><strong>Java</strong></td><td>❌ 不需要</td><td><code>java.util.*</code>, <code>java.io.*</code></td></tr>
<tr><td><strong>JavaScript</strong></td><td>❌ 不需要</td><td><code>fs</code>, <code>path</code>, <code>http</code>（Node.js）</td></tr>
<tr><td><strong>Go</strong></td><td>❌ 不需要</td><td><code>fmt</code>, <code>net/http</code>, <code>encoding/json</code></td></tr>
<tr><td><strong>C#</strong></td><td>❌ 不需要</td><td><code>System.*</code> 命名空間</td></tr>
</tbody></table>
</div>
<hr />
<h2 id="-常見錯誤模式"><a class="header" href="#-常見錯誤模式">🚨 常見錯誤模式</a></h2>
<h3 id="錯誤1忘記聲明依賴"><a class="header" href="#錯誤1忘記聲明依賴">錯誤1：忘記聲明依賴</a></h3>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>// ❌ Cargo.toml 忘記加 serde
use serde::Serialize;  // 編譯錯誤
<span class="boring">}</span></code></pre></pre>
<h3 id="錯誤2用錯名稱"><a class="header" href="#錯誤2用錯名稱">錯誤2：用錯名稱</a></h3>
<pre><code class="language-python"># requirements.txt 中是 scikit-learn
import scikit-learn  # ❌ 錯誤！
import sklearn       # ✅ 正確！
</code></pre>
<h3 id="錯誤3路徑不對"><a class="header" href="#錯誤3路徑不對">錯誤3：路徑不對</a></h3>
<pre><code class="language-java">// ❌ 依賴是 jackson-core，但路徑錯誤
import com.fasterxml.jackson.wrong.path.Something;
</code></pre>
<h3 id="錯誤4版本衝突"><a class="header" href="#錯誤4版本衝突">錯誤4：版本衝突</a></h3>
<pre><code class="language-toml"># Cargo.toml
[dependencies]
tokio = "1.0"
some-lib = "1.0"  # 內部依賴 tokio 0.9

# 可能導致編譯錯誤或運行時問題
</code></pre>
<hr />
<h2 id="-除錯技巧"><a class="header" href="#-除錯技巧">🛠️ 除錯技巧</a></h2>
<h3 id="1-查看可用模組"><a class="header" href="#1-查看可用模組">1. 查看可用模組</a></h3>
<pre><code class="language-bash"># Rust
cargo doc --open

# Python
pip show scikit-learn
python -c "import sklearn; help(sklearn)"

# Node.js
npm list
node -e "console.log(require('express'))"
</code></pre>
<h3 id="2-ide-自動完成"><a class="header" href="#2-ide-自動完成">2. IDE 自動完成</a></h3>
<ul>
<li>現代 IDE 會讀取依賴檔案</li>
<li>提供可用模組的自動完成</li>
<li>標示錯誤的導入</li>
</ul>
<h3 id="3-檢查依賴樹"><a class="header" href="#3-檢查依賴樹">3. 檢查依賴樹</a></h3>
<pre><code class="language-bash"># Rust
cargo tree

# Python
pip list

# Node.js
npm ls

# Java
mvn dependency:tree
</code></pre>
<hr />
<h2 id="-記憶口訣"><a class="header" href="#-記憶口訣">🎯 記憶口訣</a></h2>
<ol>
<li><strong>先聲明，後使用</strong>：依賴檔案聲明 → 代碼中導入</li>
<li><strong>名稱要對應</strong>：導入的第一段 = 依賴聲明的名稱</li>
<li><strong>內建不用聲明</strong>：標準庫/內建模組直接用</li>
<li><strong>有疑問看文檔</strong>：不確定就查官方文檔</li>
<li><strong>IDE 是好朋友</strong>：善用自動完成和錯誤提示</li>
</ol>
<p>記住：<strong>依賴管理的本質是告訴系統「我需要什麼」和「我要用什麼」！</strong></p>
<hr />
<h2 id="-rust-模組路徑系統詳解"><a class="header" href="#-rust-模組路徑系統詳解">🗂️ Rust 模組路徑系統詳解</a></h2>
<h3 id="什麼是-use-super"><a class="header" href="#什麼是-use-super">什麼是 <code>use super::</code>？</a></h3>
<p><code>use super::</code> 是 Rust 中用來導入<strong>上層模組</strong>或<strong>同層模組</strong>的語法！這跟檔案系統的路徑概念很像。</p>
<h4 id="相對路徑關鍵字"><a class="header" href="#相對路徑關鍵字">相對路徑關鍵字：</a></h4>
<ul>
<li><code>super::</code> = 上一層目錄（父模組）</li>
<li><code>self::</code> = 當前目錄（當前模組）</li>
<li><code>crate::</code> = 根目錄（crate 根模組）</li>
</ul>
<h3 id="-模組結構範例"><a class="header" href="#-模組結構範例">📁 模組結構範例</a></h3>
<pre><code>src/
├── lib.rs                    # crate 根模組
└── webbluetooth/            # webbluetooth 模組
    ├── mod.rs               # 模組定義檔案
    ├── webbluetooth_manager.rs
    └── webbluetooth_hardware.rs
</code></pre>
<h3 id="-檔案系統類比"><a class="header" href="#-檔案系統類比">🗂️ 檔案系統類比</a></h3>
<p>就像檔案系統一樣：</p>
<pre><code class="language-bash"># 檔案系統路徑
../parent_dir/file.txt     # 對應 super::parent_module::something
./current_dir/file.txt     # 對應 self::current_module::something  
/root/absolute/path.txt    # 對應 crate::absolute::path::something
</code></pre>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>// Rust 模組系統
use super::parent_module::something;    // 相當於 ../
use self::current_module::something;    // 相當於 ./
use crate::absolute::path::something;   // 相當於 /
<span class="boring">}</span></code></pre></pre>
<h3 id="-各種路徑語法對比"><a class="header" href="#-各種路徑語法對比">🎯 各種路徑語法對比</a></h3>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>// 假設你在 src/webbluetooth/mod.rs

// 1. 相對路徑 - 同層模組
use self::webbluetooth_hardware::WebBluetoothHardwareConnector;

// 2. 相對路徑 - 上層模組
use super::some_function_in_lib_rs;

// 3. 絕對路徑 - 從 crate 根開始
use crate::webbluetooth::webbluetooth_hardware::WebBluetoothHardwareConnector;

// 4. 外部 crate
use buttplug::server::ButtplugServer;
<span class="boring">}</span></code></pre></pre>
<h3 id="-實際範例"><a class="header" href="#-實際範例">📋 實際範例</a></h3>
<h4 id="專案結構"><a class="header" href="#專案結構">專案結構：</a></h4>
<pre><code>my_project/
├── src/
│   ├── lib.rs              # crate 根
│   ├── utils.rs            
│   └── network/
│       ├── mod.rs          # network 模組
│       ├── http.rs
│       └── websocket.rs
</code></pre>
<h4 id="在-networkmodrs-中"><a class="header" href="#在-networkmodrs-中">在 <code>network/mod.rs</code> 中：</a></h4>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>// 導入同層的 http.rs
use self::http::HttpClient;
// 或簡寫為
use http::HttpClient;

// 導入同層的 websocket.rs  
use self::websocket::WebSocketClient;

// 導入上層的 utils.rs
use super::utils::helper_function;

// 導入根層的東西
use crate::some_root_function;

// 導入外部 crate
use serde::Serialize;
<span class="boring">}</span></code></pre></pre>
<h4 id="在-networkhttprs-中"><a class="header" href="#在-networkhttprs-中">在 <code>network/http.rs</code> 中：</a></h4>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>// 導入同層的 websocket.rs（透過父模組）
use super::websocket::WebSocketClient;

// 導入上上層的 utils.rs
use super::super::utils::helper_function;
// 或使用絕對路徑（推薦）
use crate::utils::helper_function;
<span class="boring">}</span></code></pre></pre>
<h3 id="-最佳實踐"><a class="header" href="#-最佳實踐">🎨 最佳實踐</a></h3>
<h4 id="-推薦寫法"><a class="header" href="#-推薦寫法">✅ 推薦寫法：</a></h4>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>// 優先使用絕對路徑，清楚明確
use crate::webbluetooth::webbluetooth_hardware::WebBluetoothHardwareConnector;

// 外部 crate 直接寫
use buttplug::server::ButtplugServer;

// 正確的 mod.rs 範例
mod webbluetooth_hardware;
mod webbluetooth_manager;

pub use webbluetooth_hardware::{WebBluetoothHardwareConnector, WebBluetoothHardware};
pub use webbluetooth_manager::{WebBluetoothCommunicationManagerBuilder, WebBluetoothCommunicationManager};
<span class="boring">}</span></code></pre></pre>
<h4 id="-避免的寫法"><a class="header" href="#-避免的寫法">⚠️ 避免的寫法：</a></h4>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>// 太多層的相對路徑，容易搞混
use super::super::super::something;

// 建議改用絕對路徑
use crate::path::to::something;
<span class="boring">}</span></code></pre></pre>
<h3 id="-常見問題診斷"><a class="header" href="#-常見問題診斷">🔧 常見問題診斷</a></h3>
<p>如果 <code>use super::webbluetooth_hardware::WebBluetoothHardwareConnector;</code> 出現問題，可能的原因：</p>
<ol>
<li><strong>路徑錯誤</strong>：應該用 <code>self::</code> 而不是 <code>super::</code></li>
<li><strong>模組沒有正確宣告</strong>：需要在 <code>mod.rs</code> 中加 <code>mod webbluetooth_hardware;</code></li>
<li><strong>檔案結構不如預期</strong>：檢查實際的目錄結構</li>
</ol>
<h3 id="-模組路徑速查表"><a class="header" href="#-模組路徑速查表">🗺️ 模組路徑速查表</a></h3>
<div class="table-wrapper"><table><thead><tr><th>位置</th><th>目標</th><th>語法</th><th>說明</th></tr></thead><tbody>
<tr><td><code>src/mod.rs</code></td><td>同層檔案</td><td><code>use self::target;</code></td><td>當前模組下的子模組</td></tr>
<tr><td><code>src/mod.rs</code></td><td>父層檔案</td><td><code>use super::target;</code></td><td>上一層模組</td></tr>
<tr><td>任何位置</td><td>crate 根</td><td><code>use crate::target;</code></td><td>從根模組開始的絕對路徑</td></tr>
<tr><td>任何位置</td><td>外部 crate</td><td><code>use external::target;</code></td><td>外部依賴（需在 Cargo.toml 聲明）</td></tr>
</tbody></table>
</div>
<p><strong>記住</strong>：當不確定時，優先使用 <code>crate::</code> 開頭的絕對路徑，更清楚且不容易出錯！</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../rust/rust-wasm-compilation-guide.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../rust/rust_crate_guide.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../rust/rust-wasm-compilation-guide.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../rust/rust_crate_guide.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>



        <script>
            window.playground_line_numbers = true;
        </script>

        <script>
            window.playground_copyable = true;
        </script>

        <script src="../ace.js"></script>
        <script src="../mode-rust.js"></script>
        <script src="../editor.js"></script>
        <script src="../theme-dawn.js"></script>
        <script src="../theme-tomorrow_night.js"></script>

        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->
        <script src="../mermaid.min.js"></script>
        <script src="../mermaid-init.js"></script>



    </div>
    </body>
</html>
